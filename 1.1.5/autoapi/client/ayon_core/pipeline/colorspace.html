<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=prev href=anatomy/templates.html><link rel=next href=constants.html><link rel=icon href=../../../../img/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.8"><title>colorspace - ayon-core</title><link rel=stylesheet href=../../../../assets/stylesheets/main.8608ea7d.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.06af60db.min.css><script src=https://unpkg.com/iframe-worker/shim></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../css/custom.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#client.ayon_core.pipeline.colorspace class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../index.html title=ayon-core class="md-header__button md-logo" aria-label=ayon-core data-md-component=logo> <img src=../../../../img/ay-symbol-blackw-full.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ayon-core </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> colorspace </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../index.html title=ayon-core class="md-nav__button md-logo" aria-label=ayon-core data-md-component=logo> <img src=../../../../img/ay-symbol-blackw-full.png alt=logo> </a> ayon-core </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../index.html class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../../../license.html class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1 checked> <div class="md-nav__link md-nav__container"> <a href=../../index.html class="md-nav__link "> <span class=md-ellipsis> client </span> </a> <label class="md-nav__link " for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> client </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1 checked> <div class="md-nav__link md-nav__container"> <a href=../index.html class="md-nav__link "> <span class=md-ellipsis> ayon_core </span> </a> <label class="md-nav__link " for=__nav_3_1_1 id=__nav_3_1_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1> <span class="md-nav__icon md-icon"></span> ayon_core </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../__main__.html class=md-nav__link> <span class=md-ellipsis> __main__ </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../addon/base.html class=md-nav__link> <span class=md-ellipsis> addon </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../cli.html class=md-nav__link> <span class=md-ellipsis> cli </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../hooks/pre_add_last_workfile_arg.html class=md-nav__link> <span class=md-ellipsis> hooks </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../host/dirmap.html class=md-nav__link> <span class=md-ellipsis> host </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../lib/attribute_definitions.html class=md-nav__link> <span class=md-ellipsis> lib </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1_7 checked> <div class="md-nav__link md-nav__container"> <a href=index.html class="md-nav__link "> <span class=md-ellipsis> pipeline </span> </a> <label class="md-nav__link " for=__nav_3_1_1_7 id=__nav_3_1_1_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_1_1_7_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1_7> <span class="md-nav__icon md-icon"></span> pipeline </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=actions.html class=md-nav__link> <span class=md-ellipsis> actions </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=anatomy/anatomy.html class=md-nav__link> <span class=md-ellipsis> anatomy </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> colorspace </span> <span class="md-nav__icon md-icon"></span> </label> <a href=colorspace.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> colorspace </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace class=md-nav__link> <span class=md-ellipsis> colorspace </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_config_file_rules_colorspace_from_filepath class=md-nav__link> <span class=md-ellipsis> _get_config_file_rules_colorspace_from_filepath </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_config_path_from_profile_data class=md-nav__link> <span class=md-ellipsis> _get_config_path_from_profile_data </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_config_version_data class=md-nav__link> <span class=md-ellipsis> _get_config_version_data </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_display_view_colorspace_name class=md-nav__link> <span class=md-ellipsis> _get_display_view_colorspace_name </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_global_config_data class=md-nav__link> <span class=md-ellipsis> _get_global_config_data </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_host_config_data class=md-nav__link> <span class=md-ellipsis> _get_host_config_data </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_imageio_settings class=md-nav__link> <span class=md-ellipsis> _get_imageio_settings </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_ocio_config class=md-nav__link> <span class=md-ellipsis> _get_ocio_config </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_ocio_config_colorspaces class=md-nav__link> <span class=md-ellipsis> _get_ocio_config_colorspaces </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_ocio_config_views class=md-nav__link> <span class=md-ellipsis> _get_ocio_config_views </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_wrapped_with_subprocess class=md-nav__link> <span class=md-ellipsis> _get_wrapped_with_subprocess </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._make_temp_json_file class=md-nav__link> <span class=md-ellipsis> _make_temp_json_file </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.compatibility_check class=md-nav__link> <span class=md-ellipsis> compatibility_check </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.compatibility_check_config_version class=md-nav__link> <span class=md-ellipsis> compatibility_check_config_version </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.convert_colorspace_enumerator_item class=md-nav__link> <span class=md-ellipsis> convert_colorspace_enumerator_item </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.deprecated class=md-nav__link> <span class=md-ellipsis> deprecated </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_colorspace_data_subprocess class=md-nav__link> <span class=md-ellipsis> get_colorspace_data_subprocess </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_colorspace_name_from_filepath class=md-nav__link> <span class=md-ellipsis> get_colorspace_name_from_filepath </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_colorspace_settings_from_publish_context class=md-nav__link> <span class=md-ellipsis> get_colorspace_settings_from_publish_context </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_colorspaces_enumerator_items class=md-nav__link> <span class=md-ellipsis> get_colorspaces_enumerator_items </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_config_file_rules_colorspace_from_filepath class=md-nav__link> <span class=md-ellipsis> get_config_file_rules_colorspace_from_filepath </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_config_version_data class=md-nav__link> <span class=md-ellipsis> get_config_version_data </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_current_context_imageio_config_preset class=md-nav__link> <span class=md-ellipsis> get_current_context_imageio_config_preset </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_display_view_colorspace_name class=md-nav__link> <span class=md-ellipsis> get_display_view_colorspace_name </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_imageio_config class=md-nav__link> <span class=md-ellipsis> get_imageio_config </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_imageio_config_preset class=md-nav__link> <span class=md-ellipsis> get_imageio_config_preset </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_imageio_file_rules class=md-nav__link> <span class=md-ellipsis> get_imageio_file_rules </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_imageio_file_rules_colorspace_from_filepath class=md-nav__link> <span class=md-ellipsis> get_imageio_file_rules_colorspace_from_filepath </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_ocio_config_colorspaces class=md-nav__link> <span class=md-ellipsis> get_ocio_config_colorspaces </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_ocio_config_script_path class=md-nav__link> <span class=md-ellipsis> get_ocio_config_script_path </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_ocio_config_views class=md-nav__link> <span class=md-ellipsis> get_ocio_config_views </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_remapped_colorspace_from_native class=md-nav__link> <span class=md-ellipsis> get_remapped_colorspace_from_native </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_remapped_colorspace_to_native class=md-nav__link> <span class=md-ellipsis> get_remapped_colorspace_to_native </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_views_data_subprocess class=md-nav__link> <span class=md-ellipsis> get_views_data_subprocess </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.has_compatible_ocio_package class=md-nav__link> <span class=md-ellipsis> has_compatible_ocio_package </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.parse_colorspace_from_filepath class=md-nav__link> <span class=md-ellipsis> parse_colorspace_from_filepath </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.set_colorspace_data_to_representation class=md-nav__link> <span class=md-ellipsis> set_colorspace_data_to_representation </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.validate_imageio_colorspace_in_config class=md-nav__link> <span class=md-ellipsis> validate_imageio_colorspace_in_config </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=constants.html class=md-nav__link> <span class=md-ellipsis> constants </span> </a> </li> <li class=md-nav__item> <a href=context_tools.html class=md-nav__link> <span class=md-ellipsis> context_tools </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=create/changes.html class=md-nav__link> <span class=md-ellipsis> create </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=delivery.html class=md-nav__link> <span class=md-ellipsis> delivery </span> </a> </li> <li class=md-nav__item> <a href=editorial.html class=md-nav__link> <span class=md-ellipsis> editorial </span> </a> </li> <li class=md-nav__item> <a href=entity_uri.html class=md-nav__link> <span class=md-ellipsis> entity_uri </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=farm/patterning.html class=md-nav__link> <span class=md-ellipsis> farm </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=load/plugins.html class=md-nav__link> <span class=md-ellipsis> load </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=plugin_discover.html class=md-nav__link> <span class=md-ellipsis> plugin_discover </span> </a> </li> <li class=md-nav__item> <a href=project_folders.html class=md-nav__link> <span class=md-ellipsis> project_folders </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=publish/abstract_collect_render.html class=md-nav__link> <span class=md-ellipsis> publish </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=schema/index.html class=md-nav__link> <span class=md-ellipsis> schema </span> </a> </li> <li class=md-nav__item> <a href=staging_dir.html class=md-nav__link> <span class=md-ellipsis> staging_dir </span> </a> </li> <li class=md-nav__item> <a href=tempdir.html class=md-nav__link> <span class=md-ellipsis> tempdir </span> </a> </li> <li class=md-nav__item> <a href=template_data.html class=md-nav__link> <span class=md-ellipsis> template_data </span> </a> </li> <li class=md-nav__item> <a href=thumbnails.html class=md-nav__link> <span class=md-ellipsis> thumbnails </span> </a> </li> <li class=md-nav__item> <a href=usdlib.html class=md-nav__link> <span class=md-ellipsis> usdlib </span> </a> </li> <li class=md-nav__item> <a href=version_start.html class=md-nav__link> <span class=md-ellipsis> version_start </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=workfile/build_workfile.html class=md-nav__link> <span class=md-ellipsis> workfile </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../plugins/actions/open_file_explorer.html class=md-nav__link> <span class=md-ellipsis> plugins </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../resources/app_icons/index.html class=md-nav__link> <span class=md-ellipsis> resources </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../scripts/ocio_wrapper.html class=md-nav__link> <span class=md-ellipsis> scripts </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../settings/lib.html class=md-nav__link> <span class=md-ellipsis> settings </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../style/color_defs.html class=md-nav__link> <span class=md-ellipsis> style </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../tests/conftest.html class=md-nav__link> <span class=md-ellipsis> tests </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../tools/attribute_defs/_constants.html class=md-nav__link> <span class=md-ellipsis> tools </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../vendor/python/qargparse.html class=md-nav__link> <span class=md-ellipsis> vendor </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../version.html class=md-nav__link> <span class=md-ellipsis> version </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../server/settings/conversion.html class=md-nav__link> <span class=md-ellipsis> server </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace class=md-nav__link> <span class=md-ellipsis> colorspace </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_config_file_rules_colorspace_from_filepath class=md-nav__link> <span class=md-ellipsis> _get_config_file_rules_colorspace_from_filepath </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_config_path_from_profile_data class=md-nav__link> <span class=md-ellipsis> _get_config_path_from_profile_data </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_config_version_data class=md-nav__link> <span class=md-ellipsis> _get_config_version_data </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_display_view_colorspace_name class=md-nav__link> <span class=md-ellipsis> _get_display_view_colorspace_name </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_global_config_data class=md-nav__link> <span class=md-ellipsis> _get_global_config_data </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_host_config_data class=md-nav__link> <span class=md-ellipsis> _get_host_config_data </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_imageio_settings class=md-nav__link> <span class=md-ellipsis> _get_imageio_settings </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_ocio_config class=md-nav__link> <span class=md-ellipsis> _get_ocio_config </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_ocio_config_colorspaces class=md-nav__link> <span class=md-ellipsis> _get_ocio_config_colorspaces </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_ocio_config_views class=md-nav__link> <span class=md-ellipsis> _get_ocio_config_views </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._get_wrapped_with_subprocess class=md-nav__link> <span class=md-ellipsis> _get_wrapped_with_subprocess </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace._make_temp_json_file class=md-nav__link> <span class=md-ellipsis> _make_temp_json_file </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.compatibility_check class=md-nav__link> <span class=md-ellipsis> compatibility_check </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.compatibility_check_config_version class=md-nav__link> <span class=md-ellipsis> compatibility_check_config_version </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.convert_colorspace_enumerator_item class=md-nav__link> <span class=md-ellipsis> convert_colorspace_enumerator_item </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.deprecated class=md-nav__link> <span class=md-ellipsis> deprecated </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_colorspace_data_subprocess class=md-nav__link> <span class=md-ellipsis> get_colorspace_data_subprocess </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_colorspace_name_from_filepath class=md-nav__link> <span class=md-ellipsis> get_colorspace_name_from_filepath </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_colorspace_settings_from_publish_context class=md-nav__link> <span class=md-ellipsis> get_colorspace_settings_from_publish_context </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_colorspaces_enumerator_items class=md-nav__link> <span class=md-ellipsis> get_colorspaces_enumerator_items </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_config_file_rules_colorspace_from_filepath class=md-nav__link> <span class=md-ellipsis> get_config_file_rules_colorspace_from_filepath </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_config_version_data class=md-nav__link> <span class=md-ellipsis> get_config_version_data </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_current_context_imageio_config_preset class=md-nav__link> <span class=md-ellipsis> get_current_context_imageio_config_preset </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_display_view_colorspace_name class=md-nav__link> <span class=md-ellipsis> get_display_view_colorspace_name </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_imageio_config class=md-nav__link> <span class=md-ellipsis> get_imageio_config </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_imageio_config_preset class=md-nav__link> <span class=md-ellipsis> get_imageio_config_preset </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_imageio_file_rules class=md-nav__link> <span class=md-ellipsis> get_imageio_file_rules </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_imageio_file_rules_colorspace_from_filepath class=md-nav__link> <span class=md-ellipsis> get_imageio_file_rules_colorspace_from_filepath </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_ocio_config_colorspaces class=md-nav__link> <span class=md-ellipsis> get_ocio_config_colorspaces </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_ocio_config_script_path class=md-nav__link> <span class=md-ellipsis> get_ocio_config_script_path </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_ocio_config_views class=md-nav__link> <span class=md-ellipsis> get_ocio_config_views </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_remapped_colorspace_from_native class=md-nav__link> <span class=md-ellipsis> get_remapped_colorspace_from_native </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_remapped_colorspace_to_native class=md-nav__link> <span class=md-ellipsis> get_remapped_colorspace_to_native </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.get_views_data_subprocess class=md-nav__link> <span class=md-ellipsis> get_views_data_subprocess </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.has_compatible_ocio_package class=md-nav__link> <span class=md-ellipsis> has_compatible_ocio_package </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.parse_colorspace_from_filepath class=md-nav__link> <span class=md-ellipsis> parse_colorspace_from_filepath </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.set_colorspace_data_to_representation class=md-nav__link> <span class=md-ellipsis> set_colorspace_data_to_representation </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.pipeline.colorspace.validate_imageio_colorspace_in_config class=md-nav__link> <span class=md-ellipsis> validate_imageio_colorspace_in_config </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>colorspace</h1> <div class="doc doc-object doc-module"> <a id=client.ayon_core.pipeline.colorspace></a> <div class="doc doc-contents first"> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace._get_config_file_rules_colorspace_from_filepath class="doc doc-heading"> <code class="highlight language-python"><span class=n>_get_config_file_rules_colorspace_from_filepath</span><span class=p>(</span><span class=n>config_path</span><span class=p>,</span> <span class=n>filepath</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return found colorspace data found in v2 file rules.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>path string leading to config.ocio</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>filepath</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>path string leading to v2 file rules</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=IOError>IOError</span></code> </td> <td> <div class=doc-md-description> <p>Input config does not exist.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p>aggregated available colorspaces</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1349</span>
<span class=normal>1350</span>
<span class=normal>1351</span>
<span class=normal>1352</span>
<span class=normal>1353</span>
<span class=normal>1354</span>
<span class=normal>1355</span>
<span class=normal>1356</span>
<span class=normal>1357</span>
<span class=normal>1358</span>
<span class=normal>1359</span>
<span class=normal>1360</span>
<span class=normal>1361</span>
<span class=normal>1362</span>
<span class=normal>1363</span>
<span class=normal>1364</span>
<span class=normal>1365</span>
<span class=normal>1366</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_get_config_file_rules_colorspace_from_filepath</span><span class=p>(</span><span class=n>config_path</span><span class=p>,</span> <span class=n>filepath</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return found colorspace data found in v2 file rules.</span>

<span class=sd>    Args:</span>
<span class=sd>        config_path (str): path string leading to config.ocio</span>
<span class=sd>        filepath (str): path string leading to v2 file rules</span>

<span class=sd>    Raises:</span>
<span class=sd>        IOError: Input config does not exist.</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: aggregated available colorspaces</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>config</span> <span class=o>=</span> <span class=n>_get_ocio_config</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span>

    <span class=c1># TODO: use `parseColorSpaceFromString` instead if ocio v1</span>
    <span class=k>return</span> <span class=n>config</span><span class=o>.</span><span class=n>getColorSpaceFromFilepath</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>filepath</span><span class=p>))</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace._get_config_path_from_profile_data class="doc doc-heading"> <code class="highlight language-python"><span class=n>_get_config_path_from_profile_data</span><span class=p>(</span><span class=n>profile</span><span class=p>,</span> <span class=n>profile_type</span><span class=p>,</span> <span class=n>template_data</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get config path from profile data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>profile</code> </td> <td> <code><span title=dict>dict</span>[<span title=str>str</span>, <span title=Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Profile data.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>profile_type</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Profile type.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>template_data</code> </td> <td> <code><span title=dict>dict</span>[<span title=str>str</span>, <span title=Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Template data.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>dict[str, str]: Config data with path and template.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>702</span>
<span class=normal>703</span>
<span class=normal>704</span>
<span class=normal>705</span>
<span class=normal>706</span>
<span class=normal>707</span>
<span class=normal>708</span>
<span class=normal>709</span>
<span class=normal>710</span>
<span class=normal>711</span>
<span class=normal>712</span>
<span class=normal>713</span>
<span class=normal>714</span>
<span class=normal>715</span>
<span class=normal>716</span>
<span class=normal>717</span>
<span class=normal>718</span>
<span class=normal>719</span>
<span class=normal>720</span>
<span class=normal>721</span>
<span class=normal>722</span>
<span class=normal>723</span>
<span class=normal>724</span>
<span class=normal>725</span>
<span class=normal>726</span>
<span class=normal>727</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_get_config_path_from_profile_data</span><span class=p>(</span>
    <span class=n>profile</span><span class=p>,</span> <span class=n>profile_type</span><span class=p>,</span> <span class=n>template_data</span>
<span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get config path from profile data.</span>

<span class=sd>    Args:</span>
<span class=sd>        profile (dict[str, Any]): Profile data.</span>
<span class=sd>        profile_type (str): Profile type.</span>
<span class=sd>        template_data (dict[str, Any]): Template data.</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict[str, str]: Config data with path and template.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>template</span> <span class=o>=</span> <span class=n>profile</span><span class=p>[</span><span class=n>profile_type</span><span class=p>]</span>
    <span class=n>result</span> <span class=o>=</span> <span class=n>StringTemplate</span><span class=o>.</span><span class=n>format_strict_template</span><span class=p>(</span>
        <span class=n>template</span><span class=p>,</span> <span class=n>template_data</span>
    <span class=p>)</span>
    <span class=n>normalized_path</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>result</span><span class=o>.</span><span class=n>normalized</span><span class=p>())</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>normalized_path</span><span class=p>):</span>
        <span class=n>log</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Path was not found &#39;</span><span class=si>{</span><span class=n>normalized_path</span><span class=si>}</span><span class=s2>&#39;.&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=kc>None</span>

    <span class=k>return</span> <span class=p>{</span>
        <span class=s2>&quot;path&quot;</span><span class=p>:</span> <span class=n>normalized_path</span><span class=p>,</span>
        <span class=s2>&quot;template&quot;</span><span class=p>:</span> <span class=n>template</span>
    <span class=p>}</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace._get_config_version_data class="doc doc-heading"> <code class="highlight language-python"><span class=n>_get_config_version_data</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return major and minor version info.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>path string leading to config.ocio</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=IOError>IOError</span></code> </td> <td> <div class=doc-md-description> <p>Input config does not exist.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p>minor and major keys with values</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1369</span>
<span class=normal>1370</span>
<span class=normal>1371</span>
<span class=normal>1372</span>
<span class=normal>1373</span>
<span class=normal>1374</span>
<span class=normal>1375</span>
<span class=normal>1376</span>
<span class=normal>1377</span>
<span class=normal>1378</span>
<span class=normal>1379</span>
<span class=normal>1380</span>
<span class=normal>1381</span>
<span class=normal>1382</span>
<span class=normal>1383</span>
<span class=normal>1384</span>
<span class=normal>1385</span>
<span class=normal>1386</span>
<span class=normal>1387</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_get_config_version_data</span><span class=p>(</span><span class=n>config_path</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return major and minor version info.</span>

<span class=sd>    Args:</span>
<span class=sd>        config_path (str): path string leading to config.ocio</span>

<span class=sd>    Raises:</span>
<span class=sd>        IOError: Input config does not exist.</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: minor and major keys with values</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>config</span> <span class=o>=</span> <span class=n>_get_ocio_config</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span>

    <span class=k>return</span> <span class=p>{</span>
        <span class=s2>&quot;major&quot;</span><span class=p>:</span> <span class=n>config</span><span class=o>.</span><span class=n>getMajorVersion</span><span class=p>(),</span>
        <span class=s2>&quot;minor&quot;</span><span class=p>:</span> <span class=n>config</span><span class=o>.</span><span class=n>getMinorVersion</span><span class=p>()</span>
    <span class=p>}</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace._get_display_view_colorspace_name class="doc doc-heading"> <code class="highlight language-python"><span class=n>_get_display_view_colorspace_name</span><span class=p>(</span><span class=n>config_path</span><span class=p>,</span> <span class=n>display</span><span class=p>,</span> <span class=n>view</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Returns the colorspace attribute of the (display, view) pair.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>path string leading to config.ocio</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>display</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>display name e.g. "ACES"</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>view</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>view name e.g. "sRGB"</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=IOError>IOError</span></code> </td> <td> <div class=doc-md-description> <p>Input config does not exist.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>str</code></td> <td> </td> <td> <div class=doc-md-description> <p>view color space name e.g. "Output - sRGB"</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1390</span>
<span class=normal>1391</span>
<span class=normal>1392</span>
<span class=normal>1393</span>
<span class=normal>1394</span>
<span class=normal>1395</span>
<span class=normal>1396</span>
<span class=normal>1397</span>
<span class=normal>1398</span>
<span class=normal>1399</span>
<span class=normal>1400</span>
<span class=normal>1401</span>
<span class=normal>1402</span>
<span class=normal>1403</span>
<span class=normal>1404</span>
<span class=normal>1405</span>
<span class=normal>1406</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_get_display_view_colorspace_name</span><span class=p>(</span><span class=n>config_path</span><span class=p>,</span> <span class=n>display</span><span class=p>,</span> <span class=n>view</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns the colorspace attribute of the (display, view) pair.</span>

<span class=sd>    Args:</span>
<span class=sd>        config_path (str): path string leading to config.ocio</span>
<span class=sd>        display (str): display name e.g. &quot;ACES&quot;</span>
<span class=sd>        view (str): view name e.g. &quot;sRGB&quot;</span>

<span class=sd>    Raises:</span>
<span class=sd>        IOError: Input config does not exist.</span>

<span class=sd>    Returns:</span>
<span class=sd>        str: view color space name e.g. &quot;Output - sRGB&quot;</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>config</span> <span class=o>=</span> <span class=n>_get_ocio_config</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>config</span><span class=o>.</span><span class=n>getDisplayViewColorSpaceName</span><span class=p>(</span><span class=n>display</span><span class=p>,</span> <span class=n>view</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace._get_global_config_data class="doc doc-heading"> <code class="highlight language-python"><span class=n>_get_global_config_data</span><span class=p>(</span><span class=n>project_name</span><span class=p>,</span> <span class=n>host_name</span><span class=p>,</span> <span class=n>anatomy</span><span class=p>,</span> <span class=n>template_data</span><span class=p>,</span> <span class=n>imageio_global</span><span class=p>,</span> <span class=n>folder_id</span><span class=p>,</span> <span class=n>log</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get global config data.</p> <p>Global config from core settings is using profiles that are based on host name, task name and task type. The filtered profile can define 3 types of config sources: 1. AYON ocio addon configs. 2. Custom path to ocio config. 3. Path to 'ocioconfig' representation on product. Name of product can be defined in settings. Product name can be regex but exact match is always preferred. Fallback can be defined in case no product is found.</p> <p>None is returned when no profile is found, when path</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>project_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Project name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>host_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Host name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>anatomy</code> </td> <td> <code><span title=ayon_core.pipeline.Anatomy>Anatomy</span></code> </td> <td> <div class=doc-md-description> <p>Project anatomy object.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>template_data</code> </td> <td> <code><span title=dict>dict</span>[<span title=str>str</span>, <span title=Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Template data.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>imageio_global</code> </td> <td> <code><span title=dict>dict</span>[<span title=str>str</span>, <span title=Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Core imagio settings.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>folder_id</code> </td> <td> <code><span title=Union>Union</span>[<span title=dict>dict</span>[<span title=str>str</span>, <span title=Any>Any</span>], None]</code> </td> <td> <div class=doc-md-description> <p>Folder id.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>log</code> </td> <td> <code><span title=logging.Logger>Logger</span></code> </td> <td> <div class=doc-md-description> <p>Logger object.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Union[dict[str, str], None]: Config data with path and template or None.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>730</span>
<span class=normal>731</span>
<span class=normal>732</span>
<span class=normal>733</span>
<span class=normal>734</span>
<span class=normal>735</span>
<span class=normal>736</span>
<span class=normal>737</span>
<span class=normal>738</span>
<span class=normal>739</span>
<span class=normal>740</span>
<span class=normal>741</span>
<span class=normal>742</span>
<span class=normal>743</span>
<span class=normal>744</span>
<span class=normal>745</span>
<span class=normal>746</span>
<span class=normal>747</span>
<span class=normal>748</span>
<span class=normal>749</span>
<span class=normal>750</span>
<span class=normal>751</span>
<span class=normal>752</span>
<span class=normal>753</span>
<span class=normal>754</span>
<span class=normal>755</span>
<span class=normal>756</span>
<span class=normal>757</span>
<span class=normal>758</span>
<span class=normal>759</span>
<span class=normal>760</span>
<span class=normal>761</span>
<span class=normal>762</span>
<span class=normal>763</span>
<span class=normal>764</span>
<span class=normal>765</span>
<span class=normal>766</span>
<span class=normal>767</span>
<span class=normal>768</span>
<span class=normal>769</span>
<span class=normal>770</span>
<span class=normal>771</span>
<span class=normal>772</span>
<span class=normal>773</span>
<span class=normal>774</span>
<span class=normal>775</span>
<span class=normal>776</span>
<span class=normal>777</span>
<span class=normal>778</span>
<span class=normal>779</span>
<span class=normal>780</span>
<span class=normal>781</span>
<span class=normal>782</span>
<span class=normal>783</span>
<span class=normal>784</span>
<span class=normal>785</span>
<span class=normal>786</span>
<span class=normal>787</span>
<span class=normal>788</span>
<span class=normal>789</span>
<span class=normal>790</span>
<span class=normal>791</span>
<span class=normal>792</span>
<span class=normal>793</span>
<span class=normal>794</span>
<span class=normal>795</span>
<span class=normal>796</span>
<span class=normal>797</span>
<span class=normal>798</span>
<span class=normal>799</span>
<span class=normal>800</span>
<span class=normal>801</span>
<span class=normal>802</span>
<span class=normal>803</span>
<span class=normal>804</span>
<span class=normal>805</span>
<span class=normal>806</span>
<span class=normal>807</span>
<span class=normal>808</span>
<span class=normal>809</span>
<span class=normal>810</span>
<span class=normal>811</span>
<span class=normal>812</span>
<span class=normal>813</span>
<span class=normal>814</span>
<span class=normal>815</span>
<span class=normal>816</span>
<span class=normal>817</span>
<span class=normal>818</span>
<span class=normal>819</span>
<span class=normal>820</span>
<span class=normal>821</span>
<span class=normal>822</span>
<span class=normal>823</span>
<span class=normal>824</span>
<span class=normal>825</span>
<span class=normal>826</span>
<span class=normal>827</span>
<span class=normal>828</span>
<span class=normal>829</span>
<span class=normal>830</span>
<span class=normal>831</span>
<span class=normal>832</span>
<span class=normal>833</span>
<span class=normal>834</span>
<span class=normal>835</span>
<span class=normal>836</span>
<span class=normal>837</span>
<span class=normal>838</span>
<span class=normal>839</span>
<span class=normal>840</span>
<span class=normal>841</span>
<span class=normal>842</span>
<span class=normal>843</span>
<span class=normal>844</span>
<span class=normal>845</span>
<span class=normal>846</span>
<span class=normal>847</span>
<span class=normal>848</span>
<span class=normal>849</span>
<span class=normal>850</span>
<span class=normal>851</span>
<span class=normal>852</span>
<span class=normal>853</span>
<span class=normal>854</span>
<span class=normal>855</span>
<span class=normal>856</span>
<span class=normal>857</span>
<span class=normal>858</span>
<span class=normal>859</span>
<span class=normal>860</span>
<span class=normal>861</span>
<span class=normal>862</span>
<span class=normal>863</span>
<span class=normal>864</span>
<span class=normal>865</span>
<span class=normal>866</span>
<span class=normal>867</span>
<span class=normal>868</span>
<span class=normal>869</span>
<span class=normal>870</span>
<span class=normal>871</span>
<span class=normal>872</span>
<span class=normal>873</span>
<span class=normal>874</span>
<span class=normal>875</span>
<span class=normal>876</span>
<span class=normal>877</span>
<span class=normal>878</span>
<span class=normal>879</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_get_global_config_data</span><span class=p>(</span>
    <span class=n>project_name</span><span class=p>,</span>
    <span class=n>host_name</span><span class=p>,</span>
    <span class=n>anatomy</span><span class=p>,</span>
    <span class=n>template_data</span><span class=p>,</span>
    <span class=n>imageio_global</span><span class=p>,</span>
    <span class=n>folder_id</span><span class=p>,</span>
    <span class=n>log</span><span class=p>,</span>
<span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get global config data.</span>

<span class=sd>    Global config from core settings is using profiles that are based on</span>
<span class=sd>    host name, task name and task type. The filtered profile can define 3</span>
<span class=sd>    types of config sources:</span>
<span class=sd>    1. AYON ocio addon configs.</span>
<span class=sd>    2. Custom path to ocio config.</span>
<span class=sd>    3. Path to &#39;ocioconfig&#39; representation on product. Name of product can be</span>
<span class=sd>        defined in settings. Product name can be regex but exact match is</span>
<span class=sd>        always preferred. Fallback can be defined in case no product is found.</span>

<span class=sd>    None is returned when no profile is found, when path</span>

<span class=sd>    Args:</span>
<span class=sd>        project_name (str): Project name.</span>
<span class=sd>        host_name (str): Host name.</span>
<span class=sd>        anatomy (Anatomy): Project anatomy object.</span>
<span class=sd>        template_data (dict[str, Any]): Template data.</span>
<span class=sd>        imageio_global (dict[str, Any]): Core imagio settings.</span>
<span class=sd>        folder_id (Union[dict[str, Any], None]): Folder id.</span>
<span class=sd>        log (logging.Logger): Logger object.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Union[dict[str, str], None]: Config data with path and template</span>
<span class=sd>            or None.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>task_name</span> <span class=o>=</span> <span class=n>task_type</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=n>task_data</span> <span class=o>=</span> <span class=n>template_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;task&quot;</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>task_data</span><span class=p>:</span>
        <span class=n>task_name</span> <span class=o>=</span> <span class=n>task_data</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>]</span>
        <span class=n>task_type</span> <span class=o>=</span> <span class=n>task_data</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span>

    <span class=n>filter_values</span> <span class=o>=</span> <span class=p>{</span>
        <span class=s2>&quot;task_names&quot;</span><span class=p>:</span> <span class=n>task_name</span><span class=p>,</span>
        <span class=s2>&quot;task_types&quot;</span><span class=p>:</span> <span class=n>task_type</span><span class=p>,</span>
        <span class=s2>&quot;host_names&quot;</span><span class=p>:</span> <span class=n>host_name</span><span class=p>,</span>
    <span class=p>}</span>
    <span class=n>profile</span> <span class=o>=</span> <span class=n>filter_profiles</span><span class=p>(</span>
        <span class=n>imageio_global</span><span class=p>[</span><span class=s2>&quot;ocio_config_profiles&quot;</span><span class=p>],</span> <span class=n>filter_values</span>
    <span class=p>)</span>
    <span class=k>if</span> <span class=n>profile</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;No config profile matched filters </span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=n>filter_values</span><span class=p>)</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=kc>None</span>

    <span class=n>profile_type</span> <span class=o>=</span> <span class=n>profile</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span>
    <span class=k>if</span> <span class=n>profile_type</span> <span class=ow>in</span> <span class=p>(</span><span class=s2>&quot;builtin_path&quot;</span><span class=p>,</span> <span class=s2>&quot;custom_path&quot;</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>_get_config_path_from_profile_data</span><span class=p>(</span>
            <span class=n>profile</span><span class=p>,</span> <span class=n>profile_type</span><span class=p>,</span> <span class=n>template_data</span><span class=p>)</span>

    <span class=c1># TODO decide if this is the right name for representation</span>
    <span class=n>repre_name</span> <span class=o>=</span> <span class=s2>&quot;ocioconfig&quot;</span>

    <span class=n>published_product_data</span> <span class=o>=</span> <span class=n>profile</span><span class=p>[</span><span class=s2>&quot;published_product&quot;</span><span class=p>]</span>
    <span class=n>product_name</span> <span class=o>=</span> <span class=n>published_product_data</span><span class=p>[</span><span class=s2>&quot;product_name&quot;</span><span class=p>]</span>
    <span class=n>fallback_data</span> <span class=o>=</span> <span class=n>published_product_data</span><span class=p>[</span><span class=s2>&quot;fallback&quot;</span><span class=p>]</span>

    <span class=k>if</span> <span class=n>product_name</span> <span class=o>==</span> <span class=s2>&quot;&quot;</span><span class=p>:</span>
        <span class=n>log</span><span class=o>.</span><span class=n>error</span><span class=p>(</span>
            <span class=s2>&quot;Colorspace OCIO config path cannot be set. &quot;</span>
            <span class=s2>&quot;Profile is set to published product but `Product name` is empty.&quot;</span>
        <span class=p>)</span>
        <span class=k>return</span> <span class=kc>None</span>

    <span class=n>folder_info</span> <span class=o>=</span> <span class=n>template_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;folder&quot;</span><span class=p>)</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>folder_info</span><span class=p>:</span>
        <span class=n>log</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s2>&quot;Folder info is missing.&quot;</span><span class=p>)</span>

        <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Using fallback data for ocio config path.&quot;</span><span class=p>)</span>
        <span class=c1># in case no product was found we need to use fallback</span>
        <span class=n>fallback_type</span> <span class=o>=</span> <span class=n>fallback_data</span><span class=p>[</span><span class=s2>&quot;fallback_type&quot;</span><span class=p>]</span>
        <span class=k>return</span> <span class=n>_get_config_path_from_profile_data</span><span class=p>(</span>
            <span class=n>fallback_data</span><span class=p>,</span> <span class=n>fallback_type</span><span class=p>,</span> <span class=n>template_data</span>
        <span class=p>)</span>

    <span class=n>folder_path</span> <span class=o>=</span> <span class=n>folder_info</span><span class=p>[</span><span class=s2>&quot;path&quot;</span><span class=p>]</span>

    <span class=k>if</span> <span class=n>folder_id</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>folder_entity</span> <span class=o>=</span> <span class=n>ayon_api</span><span class=o>.</span><span class=n>get_folder_by_path</span><span class=p>(</span>
            <span class=n>project_name</span><span class=p>,</span> <span class=n>folder_path</span><span class=p>,</span> <span class=n>fields</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;id&quot;</span><span class=p>}</span>
        <span class=p>)</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>folder_entity</span><span class=p>:</span>
            <span class=n>log</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Folder entity &#39;</span><span class=si>{</span><span class=n>folder_path</span><span class=si>}</span><span class=s2>&#39; was not found..&quot;</span><span class=p>)</span>
            <span class=k>return</span> <span class=kc>None</span>
        <span class=n>folder_id</span> <span class=o>=</span> <span class=n>folder_entity</span><span class=p>[</span><span class=s2>&quot;id&quot;</span><span class=p>]</span>

    <span class=n>product_entities_by_name</span> <span class=o>=</span> <span class=p>{</span>
        <span class=n>product_entity</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>]:</span> <span class=n>product_entity</span>
        <span class=k>for</span> <span class=n>product_entity</span> <span class=ow>in</span> <span class=n>ayon_api</span><span class=o>.</span><span class=n>get_products</span><span class=p>(</span>
            <span class=n>project_name</span><span class=p>,</span>
            <span class=n>folder_ids</span><span class=o>=</span><span class=p>{</span><span class=n>folder_id</span><span class=p>},</span>
            <span class=n>product_name_regex</span><span class=o>=</span><span class=n>product_name</span><span class=p>,</span>
            <span class=n>fields</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;id&quot;</span><span class=p>,</span> <span class=s2>&quot;name&quot;</span><span class=p>}</span>
        <span class=p>)</span>
    <span class=p>}</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>product_entities_by_name</span><span class=p>:</span>
        <span class=c1># in case no product was found we need to use fallback</span>
        <span class=n>fallback_type</span> <span class=o>=</span> <span class=n>fallback_data</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span>
        <span class=k>return</span> <span class=n>_get_config_path_from_profile_data</span><span class=p>(</span>
            <span class=n>fallback_data</span><span class=p>,</span> <span class=n>fallback_type</span><span class=p>,</span> <span class=n>template_data</span>
        <span class=p>)</span>

    <span class=c1># Try to use exact match first, otherwise use first available product</span>
    <span class=n>product_entity</span> <span class=o>=</span> <span class=n>product_entities_by_name</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>product_name</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>product_entity</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>product_entity</span> <span class=o>=</span> <span class=nb>next</span><span class=p>(</span><span class=nb>iter</span><span class=p>(</span><span class=n>product_entities_by_name</span><span class=o>.</span><span class=n>values</span><span class=p>()))</span>

    <span class=n>product_name</span> <span class=o>=</span> <span class=n>product_entity</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>]</span>
    <span class=c1># Find last product version</span>
    <span class=n>version_entity</span> <span class=o>=</span> <span class=n>ayon_api</span><span class=o>.</span><span class=n>get_last_version_by_product_id</span><span class=p>(</span>
        <span class=n>project_name</span><span class=p>,</span>
        <span class=n>product_id</span><span class=o>=</span><span class=n>product_entity</span><span class=p>[</span><span class=s2>&quot;id&quot;</span><span class=p>],</span>
        <span class=n>fields</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;id&quot;</span><span class=p>}</span>
    <span class=p>)</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>version_entity</span><span class=p>:</span>
        <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
            <span class=sa>f</span><span class=s2>&quot;Product &#39;</span><span class=si>{</span><span class=n>product_name</span><span class=si>}</span><span class=s2>&#39; does not have available any versions.&quot;</span>
        <span class=p>)</span>
        <span class=k>return</span> <span class=kc>None</span>

    <span class=c1># Find &#39;ocioconfig&#39; representation entity</span>
    <span class=n>repre_entity</span> <span class=o>=</span> <span class=n>ayon_api</span><span class=o>.</span><span class=n>get_representation_by_name</span><span class=p>(</span>
        <span class=n>project_name</span><span class=p>,</span>
        <span class=n>representation_name</span><span class=o>=</span><span class=n>repre_name</span><span class=p>,</span>
        <span class=n>version_id</span><span class=o>=</span><span class=n>version_entity</span><span class=p>[</span><span class=s2>&quot;id&quot;</span><span class=p>],</span>
    <span class=p>)</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>repre_entity</span><span class=p>:</span>
        <span class=n>log</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span>
            <span class=sa>f</span><span class=s2>&quot;Representation &#39;</span><span class=si>{</span><span class=n>repre_name</span><span class=si>}</span><span class=s2>&#39;&quot;</span>
            <span class=sa>f</span><span class=s2>&quot; not found on product &#39;</span><span class=si>{</span><span class=n>product_name</span><span class=si>}</span><span class=s2>&#39;.&quot;</span>
        <span class=p>)</span>
        <span class=k>return</span> <span class=kc>None</span>

    <span class=n>path</span> <span class=o>=</span> <span class=n>get_representation_path_with_anatomy</span><span class=p>(</span><span class=n>repre_entity</span><span class=p>,</span> <span class=n>anatomy</span><span class=p>)</span>
    <span class=n>template</span> <span class=o>=</span> <span class=n>repre_entity</span><span class=p>[</span><span class=s2>&quot;attrib&quot;</span><span class=p>][</span><span class=s2>&quot;template&quot;</span><span class=p>]</span>

    <span class=k>return</span> <span class=p>{</span>
        <span class=s2>&quot;path&quot;</span><span class=p>:</span> <span class=n>path</span><span class=p>,</span>
        <span class=s2>&quot;template&quot;</span><span class=p>:</span> <span class=n>template</span><span class=p>,</span>
    <span class=p>}</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace._get_host_config_data class="doc doc-heading"> <code class="highlight language-python"><span class=n>_get_host_config_data</span><span class=p>(</span><span class=n>templates</span><span class=p>,</span> <span class=n>template_data</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return first existing path in path list.</p> <p>Use template data to fill possible formatting in paths.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>templates</code> </td> <td> <code><span title=list>list</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>List of templates to config paths.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>template_data</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Template data used to format templates.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Union[dict, None]: Config data or 'None' if templates are empty or any path exists.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1027</span>
<span class=normal>1028</span>
<span class=normal>1029</span>
<span class=normal>1030</span>
<span class=normal>1031</span>
<span class=normal>1032</span>
<span class=normal>1033</span>
<span class=normal>1034</span>
<span class=normal>1035</span>
<span class=normal>1036</span>
<span class=normal>1037</span>
<span class=normal>1038</span>
<span class=normal>1039</span>
<span class=normal>1040</span>
<span class=normal>1041</span>
<span class=normal>1042</span>
<span class=normal>1043</span>
<span class=normal>1044</span>
<span class=normal>1045</span>
<span class=normal>1046</span>
<span class=normal>1047</span>
<span class=normal>1048</span>
<span class=normal>1049</span>
<span class=normal>1050</span>
<span class=normal>1051</span>
<span class=normal>1052</span>
<span class=normal>1053</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_get_host_config_data</span><span class=p>(</span><span class=n>templates</span><span class=p>,</span> <span class=n>template_data</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return first existing path in path list.</span>

<span class=sd>    Use template data to fill possible formatting in paths.</span>

<span class=sd>    Args:</span>
<span class=sd>        templates (list[str]): List of templates to config paths.</span>
<span class=sd>        template_data (dict): Template data used to format templates.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Union[dict, None]: Config data or &#39;None&#39; if templates are empty</span>
<span class=sd>            or any path exists.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>template</span> <span class=ow>in</span> <span class=n>templates</span><span class=p>:</span>
        <span class=n>formatted_path</span> <span class=o>=</span> <span class=n>StringTemplate</span><span class=o>.</span><span class=n>format_template</span><span class=p>(</span>
            <span class=n>template</span><span class=p>,</span> <span class=n>template_data</span>
        <span class=p>)</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>formatted_path</span><span class=o>.</span><span class=n>solved</span><span class=p>:</span>
            <span class=k>continue</span>

        <span class=n>path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>formatted_path</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>exists</span><span class=p>(</span><span class=n>path</span><span class=p>):</span>
            <span class=k>return</span> <span class=p>{</span>
                <span class=s2>&quot;path&quot;</span><span class=p>:</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>normpath</span><span class=p>(</span><span class=n>path</span><span class=p>),</span>
                <span class=s2>&quot;template&quot;</span><span class=p>:</span> <span class=n>template</span>
            <span class=p>}</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace._get_imageio_settings class="doc doc-heading"> <code class="highlight language-python"><span class=n>_get_imageio_settings</span><span class=p>(</span><span class=n>project_settings</span><span class=p>,</span> <span class=n>host_name</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get ImageIO settings for global and host</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>project_settings</code> </td> <td> <code><span title=dict>dict</span>[<span title=str>str</span>, <span title=Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Project settings.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>host_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Host name.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>tuple[dict, dict]: Image io settings for global and host.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1152</span>
<span class=normal>1153</span>
<span class=normal>1154</span>
<span class=normal>1155</span>
<span class=normal>1156</span>
<span class=normal>1157</span>
<span class=normal>1158</span>
<span class=normal>1159</span>
<span class=normal>1160</span>
<span class=normal>1161</span>
<span class=normal>1162</span>
<span class=normal>1163</span>
<span class=normal>1164</span>
<span class=normal>1165</span>
<span class=normal>1166</span>
<span class=normal>1167</span>
<span class=normal>1168</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_get_imageio_settings</span><span class=p>(</span><span class=n>project_settings</span><span class=p>,</span> <span class=n>host_name</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get ImageIO settings for global and host</span>

<span class=sd>    Args:</span>
<span class=sd>        project_settings (dict[str, Any]): Project settings.</span>
<span class=sd>        host_name (str): Host name.</span>

<span class=sd>    Returns:</span>
<span class=sd>        tuple[dict, dict]: Image io settings for global and host.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># get image io from global and host_name</span>
    <span class=n>imageio_global</span> <span class=o>=</span> <span class=n>project_settings</span><span class=p>[</span><span class=s2>&quot;core&quot;</span><span class=p>][</span><span class=s2>&quot;imageio&quot;</span><span class=p>]</span>
    <span class=c1># host is optional, some might not have any settings</span>
    <span class=n>imageio_host</span> <span class=o>=</span> <span class=n>project_settings</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>host_name</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;imageio&quot;</span><span class=p>,</span> <span class=p>{})</span>

    <span class=k>return</span> <span class=n>imageio_global</span><span class=p>,</span> <span class=n>imageio_host</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace._get_ocio_config class="doc doc-heading"> <code class="highlight language-python"><span class=n>_get_ocio_config</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Helper function to create OCIO config object.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Path to config.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>PyOpenColorIO.Config: OCIO config for the confing path.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1329</span>
<span class=normal>1330</span>
<span class=normal>1331</span>
<span class=normal>1332</span>
<span class=normal>1333</span>
<span class=normal>1334</span>
<span class=normal>1335</span>
<span class=normal>1336</span>
<span class=normal>1337</span>
<span class=normal>1338</span>
<span class=normal>1339</span>
<span class=normal>1340</span>
<span class=normal>1341</span>
<span class=normal>1342</span>
<span class=normal>1343</span>
<span class=normal>1344</span>
<span class=normal>1345</span>
<span class=normal>1346</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_get_ocio_config</span><span class=p>(</span><span class=n>config_path</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Helper function to create OCIO config object.</span>

<span class=sd>    Args:</span>
<span class=sd>        config_path (str): Path to config.</span>

<span class=sd>    Returns:</span>
<span class=sd>        PyOpenColorIO.Config: OCIO config for the confing path.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=kn>import</span><span class=w> </span><span class=nn>PyOpenColorIO</span>

    <span class=n>config_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>isfile</span><span class=p>(</span><span class=n>config_path</span><span class=p>):</span>
        <span class=k>raise</span> <span class=ne>IOError</span><span class=p>(</span><span class=s2>&quot;Input path should be `config.ocio` file&quot;</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>PyOpenColorIO</span><span class=o>.</span><span class=n>Config</span><span class=o>.</span><span class=n>CreateFromFile</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace._get_ocio_config_colorspaces class="doc doc-heading"> <code class="highlight language-python"><span class=n>_get_ocio_config_colorspaces</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return all found colorspace data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>path string leading to config.ocio</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=IOError>IOError</span></code> </td> <td> <div class=doc-md-description> <p>Input config does not exist.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p>aggregated available colorspaces</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1409</span>
<span class=normal>1410</span>
<span class=normal>1411</span>
<span class=normal>1412</span>
<span class=normal>1413</span>
<span class=normal>1414</span>
<span class=normal>1415</span>
<span class=normal>1416</span>
<span class=normal>1417</span>
<span class=normal>1418</span>
<span class=normal>1419</span>
<span class=normal>1420</span>
<span class=normal>1421</span>
<span class=normal>1422</span>
<span class=normal>1423</span>
<span class=normal>1424</span>
<span class=normal>1425</span>
<span class=normal>1426</span>
<span class=normal>1427</span>
<span class=normal>1428</span>
<span class=normal>1429</span>
<span class=normal>1430</span>
<span class=normal>1431</span>
<span class=normal>1432</span>
<span class=normal>1433</span>
<span class=normal>1434</span>
<span class=normal>1435</span>
<span class=normal>1436</span>
<span class=normal>1437</span>
<span class=normal>1438</span>
<span class=normal>1439</span>
<span class=normal>1440</span>
<span class=normal>1441</span>
<span class=normal>1442</span>
<span class=normal>1443</span>
<span class=normal>1444</span>
<span class=normal>1445</span>
<span class=normal>1446</span>
<span class=normal>1447</span>
<span class=normal>1448</span>
<span class=normal>1449</span>
<span class=normal>1450</span>
<span class=normal>1451</span>
<span class=normal>1452</span>
<span class=normal>1453</span>
<span class=normal>1454</span>
<span class=normal>1455</span>
<span class=normal>1456</span>
<span class=normal>1457</span>
<span class=normal>1458</span>
<span class=normal>1459</span>
<span class=normal>1460</span>
<span class=normal>1461</span>
<span class=normal>1462</span>
<span class=normal>1463</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_get_ocio_config_colorspaces</span><span class=p>(</span><span class=n>config_path</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return all found colorspace data.</span>

<span class=sd>    Args:</span>
<span class=sd>        config_path (str): path string leading to config.ocio</span>

<span class=sd>    Raises:</span>
<span class=sd>        IOError: Input config does not exist.</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: aggregated available colorspaces</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>config</span> <span class=o>=</span> <span class=n>_get_ocio_config</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span>

    <span class=n>colorspace_data</span> <span class=o>=</span> <span class=p>{</span>
        <span class=s2>&quot;roles&quot;</span><span class=p>:</span> <span class=p>{},</span>
        <span class=s2>&quot;colorspaces&quot;</span><span class=p>:</span> <span class=p>{</span>
            <span class=n>color</span><span class=o>.</span><span class=n>getName</span><span class=p>():</span> <span class=p>{</span>
                <span class=s2>&quot;family&quot;</span><span class=p>:</span> <span class=n>color</span><span class=o>.</span><span class=n>getFamily</span><span class=p>(),</span>
                <span class=s2>&quot;categories&quot;</span><span class=p>:</span> <span class=nb>list</span><span class=p>(</span><span class=n>color</span><span class=o>.</span><span class=n>getCategories</span><span class=p>()),</span>
                <span class=s2>&quot;aliases&quot;</span><span class=p>:</span> <span class=nb>list</span><span class=p>(</span><span class=n>color</span><span class=o>.</span><span class=n>getAliases</span><span class=p>()),</span>
                <span class=s2>&quot;equalitygroup&quot;</span><span class=p>:</span> <span class=n>color</span><span class=o>.</span><span class=n>getEqualityGroup</span><span class=p>(),</span>
            <span class=p>}</span>
            <span class=k>for</span> <span class=n>color</span> <span class=ow>in</span> <span class=n>config</span><span class=o>.</span><span class=n>getColorSpaces</span><span class=p>()</span>
        <span class=p>},</span>
        <span class=s2>&quot;displays_views&quot;</span><span class=p>:</span> <span class=p>{</span>
            <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>view</span><span class=si>}</span><span class=s2> (</span><span class=si>{</span><span class=n>display</span><span class=si>}</span><span class=s2>)&quot;</span><span class=p>:</span> <span class=p>{</span>
                <span class=s2>&quot;display&quot;</span><span class=p>:</span> <span class=n>display</span><span class=p>,</span>
                <span class=s2>&quot;view&quot;</span><span class=p>:</span> <span class=n>view</span>

            <span class=p>}</span>
            <span class=k>for</span> <span class=n>display</span> <span class=ow>in</span> <span class=n>config</span><span class=o>.</span><span class=n>getDisplays</span><span class=p>()</span>
            <span class=k>for</span> <span class=n>view</span> <span class=ow>in</span> <span class=n>config</span><span class=o>.</span><span class=n>getViews</span><span class=p>(</span><span class=n>display</span><span class=p>)</span>
        <span class=p>},</span>
        <span class=s2>&quot;looks&quot;</span><span class=p>:</span> <span class=p>{}</span>
    <span class=p>}</span>

    <span class=c1># add looks</span>
    <span class=n>looks</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>getLooks</span><span class=p>()</span>
    <span class=k>if</span> <span class=n>looks</span><span class=p>:</span>
        <span class=n>colorspace_data</span><span class=p>[</span><span class=s2>&quot;looks&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
            <span class=n>look</span><span class=o>.</span><span class=n>getName</span><span class=p>():</span> <span class=p>{</span><span class=s2>&quot;process_space&quot;</span><span class=p>:</span> <span class=n>look</span><span class=o>.</span><span class=n>getProcessSpace</span><span class=p>()}</span>
            <span class=k>for</span> <span class=n>look</span> <span class=ow>in</span> <span class=n>looks</span>
        <span class=p>}</span>

    <span class=c1># add roles</span>
    <span class=n>roles</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>getRoles</span><span class=p>()</span>
    <span class=k>if</span> <span class=n>roles</span><span class=p>:</span>
        <span class=n>colorspace_data</span><span class=p>[</span><span class=s2>&quot;roles&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
            <span class=n>role</span><span class=p>:</span> <span class=p>{</span><span class=s2>&quot;colorspace&quot;</span><span class=p>:</span> <span class=n>colorspace</span><span class=p>}</span>
            <span class=k>for</span> <span class=p>(</span><span class=n>role</span><span class=p>,</span> <span class=n>colorspace</span><span class=p>)</span> <span class=ow>in</span> <span class=n>roles</span>
        <span class=p>}</span>

    <span class=k>return</span> <span class=n>colorspace_data</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace._get_ocio_config_views class="doc doc-heading"> <code class="highlight language-python"><span class=n>_get_ocio_config_views</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return all found viewer data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>path string leading to config.ocio</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=IOError>IOError</span></code> </td> <td> <div class=doc-md-description> <p>Input config does not exist.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p>aggregated available viewers</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1466</span>
<span class=normal>1467</span>
<span class=normal>1468</span>
<span class=normal>1469</span>
<span class=normal>1470</span>
<span class=normal>1471</span>
<span class=normal>1472</span>
<span class=normal>1473</span>
<span class=normal>1474</span>
<span class=normal>1475</span>
<span class=normal>1476</span>
<span class=normal>1477</span>
<span class=normal>1478</span>
<span class=normal>1479</span>
<span class=normal>1480</span>
<span class=normal>1481</span>
<span class=normal>1482</span>
<span class=normal>1483</span>
<span class=normal>1484</span>
<span class=normal>1485</span>
<span class=normal>1486</span>
<span class=normal>1487</span>
<span class=normal>1488</span>
<span class=normal>1489</span>
<span class=normal>1490</span>
<span class=normal>1491</span>
<span class=normal>1492</span>
<span class=normal>1493</span>
<span class=normal>1494</span>
<span class=normal>1495</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_get_ocio_config_views</span><span class=p>(</span><span class=n>config_path</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return all found viewer data.</span>

<span class=sd>    Args:</span>
<span class=sd>        config_path (str): path string leading to config.ocio</span>

<span class=sd>    Raises:</span>
<span class=sd>        IOError: Input config does not exist.</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: aggregated available viewers</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>config</span> <span class=o>=</span> <span class=n>_get_ocio_config</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span>

    <span class=n>output</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=k>for</span> <span class=n>display</span> <span class=ow>in</span> <span class=n>config</span><span class=o>.</span><span class=n>getDisplays</span><span class=p>():</span>
        <span class=k>for</span> <span class=n>view</span> <span class=ow>in</span> <span class=n>config</span><span class=o>.</span><span class=n>getViews</span><span class=p>(</span><span class=n>display</span><span class=p>):</span>
            <span class=n>colorspace</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>getDisplayViewColorSpaceName</span><span class=p>(</span><span class=n>display</span><span class=p>,</span> <span class=n>view</span><span class=p>)</span>
            <span class=c1># Special token. See https://opencolorio.readthedocs.io/en/latest/guides/authoring/authoring.html#shared-views # noqa</span>
            <span class=k>if</span> <span class=n>colorspace</span> <span class=o>==</span> <span class=s2>&quot;&lt;USE_DISPLAY_NAME&gt;&quot;</span><span class=p>:</span>
                <span class=n>colorspace</span> <span class=o>=</span> <span class=n>display</span>

            <span class=n>output</span><span class=p>[</span><span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>display</span><span class=si>}</span><span class=s2>/</span><span class=si>{</span><span class=n>view</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
                <span class=s2>&quot;display&quot;</span><span class=p>:</span> <span class=n>display</span><span class=p>,</span>
                <span class=s2>&quot;view&quot;</span><span class=p>:</span> <span class=n>view</span><span class=p>,</span>
                <span class=s2>&quot;colorspace&quot;</span><span class=p>:</span> <span class=n>colorspace</span>
            <span class=p>}</span>

    <span class=k>return</span> <span class=n>output</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace._get_wrapped_with_subprocess class="doc doc-heading"> <code class="highlight language-python"><span class=n>_get_wrapped_with_subprocess</span><span class=p>(</span><span class=n>command</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get data via subprocess.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>command</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>command name</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>**kwargs</code> </td> <td> </td> <td> <div class=doc-md-description> <p>command arguments</p> </div> </td> <td> <code>{}</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Any[dict, None]: data</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>433</span>
<span class=normal>434</span>
<span class=normal>435</span>
<span class=normal>436</span>
<span class=normal>437</span>
<span class=normal>438</span>
<span class=normal>439</span>
<span class=normal>440</span>
<span class=normal>441</span>
<span class=normal>442</span>
<span class=normal>443</span>
<span class=normal>444</span>
<span class=normal>445</span>
<span class=normal>446</span>
<span class=normal>447</span>
<span class=normal>448</span>
<span class=normal>449</span>
<span class=normal>450</span>
<span class=normal>451</span>
<span class=normal>452</span>
<span class=normal>453</span>
<span class=normal>454</span>
<span class=normal>455</span>
<span class=normal>456</span>
<span class=normal>457</span>
<span class=normal>458</span>
<span class=normal>459</span>
<span class=normal>460</span>
<span class=normal>461</span>
<span class=normal>462</span>
<span class=normal>463</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_get_wrapped_with_subprocess</span><span class=p>(</span><span class=n>command</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get data via subprocess.</span>

<span class=sd>    Args:</span>
<span class=sd>        command (str): command name</span>
<span class=sd>        **kwargs: command arguments</span>

<span class=sd>    Returns:</span>
<span class=sd>        Any[dict, None]: data</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>with</span> <span class=n>_make_temp_json_file</span><span class=p>()</span> <span class=k>as</span> <span class=n>tmp_json_path</span><span class=p>:</span>
        <span class=c1># Prepare subprocess arguments</span>
        <span class=n>args</span> <span class=o>=</span> <span class=p>[</span>
            <span class=s2>&quot;run&quot;</span><span class=p>,</span>
            <span class=n>get_ocio_config_script_path</span><span class=p>(),</span>
            <span class=n>command</span>
        <span class=p>]</span>

        <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
            <span class=n>args</span><span class=o>.</span><span class=n>extend</span><span class=p>((</span><span class=s2>&quot;--</span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>key</span><span class=p>),</span> <span class=n>value</span><span class=p>))</span>

        <span class=n>args</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&quot;--output_path&quot;</span><span class=p>)</span>
        <span class=n>args</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>tmp_json_path</span><span class=p>)</span>

        <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Executing: </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=s2>&quot; &quot;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>args</span><span class=p>)))</span>

        <span class=n>run_ayon_launcher_process</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=n>logger</span><span class=o>=</span><span class=n>log</span><span class=p>)</span>

        <span class=c1># return all colorspaces</span>
        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tmp_json_path</span><span class=p>,</span> <span class=s2>&quot;r&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>stream</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>stream</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace._make_temp_json_file class="doc doc-heading"> <code class="highlight language-python"><span class=n>_make_temp_json_file</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Wrapping function for json temp file</p> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@contextlib</span><span class=o>.</span><span class=n>contextmanager</span>
<span class=k>def</span><span class=w> </span><span class=nf>_make_temp_json_file</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Wrapping function for json temp file</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>temporary_json_file</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=c1># Store dumped json to temporary file</span>
        <span class=k>with</span> <span class=n>tempfile</span><span class=o>.</span><span class=n>NamedTemporaryFile</span><span class=p>(</span>
            <span class=n>mode</span><span class=o>=</span><span class=s2>&quot;w&quot;</span><span class=p>,</span> <span class=n>suffix</span><span class=o>=</span><span class=s2>&quot;.json&quot;</span><span class=p>,</span> <span class=n>delete</span><span class=o>=</span><span class=kc>False</span>
        <span class=p>)</span> <span class=k>as</span> <span class=n>tmpfile</span><span class=p>:</span>
            <span class=n>temporary_json_filepath</span> <span class=o>=</span> <span class=n>tmpfile</span><span class=o>.</span><span class=n>name</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\\</span><span class=s2>&quot;</span><span class=p>,</span> <span class=s2>&quot;/&quot;</span><span class=p>)</span>

        <span class=k>yield</span> <span class=n>temporary_json_filepath</span>

    <span class=k>except</span> <span class=ne>IOError</span> <span class=k>as</span> <span class=n>exc</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>IOError</span><span class=p>(</span>
            <span class=s2>&quot;Unable to create temp json file: </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>exc</span><span class=p>)</span>
        <span class=p>)</span>

    <span class=k>finally</span><span class=p>:</span>
        <span class=c1># Remove the temporary json</span>
        <span class=k>if</span> <span class=n>temporary_json_file</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>os</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>temporary_json_filepath</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.compatibility_check class="doc doc-heading"> <code class="highlight language-python"><span class=n>compatibility_check</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Making sure PyOpenColorIO is importable</p> <details class=deprecated open> <summary>Deprecated</summary> <p>Deprecated since '0.3.2'. Use <code>has_compatible_ocio_package</code> instead.</p> </details> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1535</span>
<span class=normal>1536</span>
<span class=normal>1537</span>
<span class=normal>1538</span>
<span class=normal>1539</span>
<span class=normal>1540</span>
<span class=normal>1541</span>
<span class=normal>1542</span>
<span class=normal>1543</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@deprecated</span><span class=p>(</span><span class=s2>&quot;has_compatible_ocio_package&quot;</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>compatibility_check</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Making sure PyOpenColorIO is importable</span>

<span class=sd>    Deprecated:</span>
<span class=sd>        Deprecated since &#39;0.3.2&#39;. Use `has_compatible_ocio_package` instead.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>return</span> <span class=n>has_compatible_ocio_package</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.compatibility_check_config_version class="doc doc-heading"> <code class="highlight language-python"><span class=n>compatibility_check_config_version</span><span class=p>(</span><span class=n>config_path</span><span class=p>,</span> <span class=n>major</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>minor</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Making sure PyOpenColorIO config version is compatible</p> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>466</span>
<span class=normal>467</span>
<span class=normal>468</span>
<span class=normal>469</span>
<span class=normal>470</span>
<span class=normal>471</span>
<span class=normal>472</span>
<span class=normal>473</span>
<span class=normal>474</span>
<span class=normal>475</span>
<span class=normal>476</span>
<span class=normal>477</span>
<span class=normal>478</span>
<span class=normal>479</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>compatibility_check_config_version</span><span class=p>(</span><span class=n>config_path</span><span class=p>,</span> <span class=n>major</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>minor</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Making sure PyOpenColorIO config version is compatible&quot;&quot;&quot;</span>

    <span class=n>version_data</span> <span class=o>=</span> <span class=n>get_config_version_data</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span>

    <span class=c1># check major version</span>
    <span class=k>if</span> <span class=n>version_data</span><span class=p>[</span><span class=s2>&quot;major&quot;</span><span class=p>]</span> <span class=o>!=</span> <span class=n>major</span><span class=p>:</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=c1># check minor version</span>
    <span class=k>if</span> <span class=n>minor</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>version_data</span><span class=p>[</span><span class=s2>&quot;minor&quot;</span><span class=p>]</span> <span class=o>!=</span> <span class=n>minor</span><span class=p>:</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>return</span> <span class=kc>True</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.convert_colorspace_enumerator_item class="doc doc-heading"> <code class="highlight language-python"><span class=n>convert_colorspace_enumerator_item</span><span class=p>(</span><span class=n>colorspace_enum_item</span><span class=p>,</span> <span class=n>config_items</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Convert colorspace enumerator item to dictionary</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>colorspace_enum_item</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Colorspace and family in couple.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>config_items</code> </td> <td> <code><span title=dict>dict</span>[<span title=str>str</span>, <span title=dict>dict</span>]</code> </td> <td> <div class=doc-md-description> <p>Colorspace data.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p>colorspace data</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>508</span>
<span class=normal>509</span>
<span class=normal>510</span>
<span class=normal>511</span>
<span class=normal>512</span>
<span class=normal>513</span>
<span class=normal>514</span>
<span class=normal>515</span>
<span class=normal>516</span>
<span class=normal>517</span>
<span class=normal>518</span>
<span class=normal>519</span>
<span class=normal>520</span>
<span class=normal>521</span>
<span class=normal>522</span>
<span class=normal>523</span>
<span class=normal>524</span>
<span class=normal>525</span>
<span class=normal>526</span>
<span class=normal>527</span>
<span class=normal>528</span>
<span class=normal>529</span>
<span class=normal>530</span>
<span class=normal>531</span>
<span class=normal>532</span>
<span class=normal>533</span>
<span class=normal>534</span>
<span class=normal>535</span>
<span class=normal>536</span>
<span class=normal>537</span>
<span class=normal>538</span>
<span class=normal>539</span>
<span class=normal>540</span>
<span class=normal>541</span>
<span class=normal>542</span>
<span class=normal>543</span>
<span class=normal>544</span>
<span class=normal>545</span>
<span class=normal>546</span>
<span class=normal>547</span>
<span class=normal>548</span>
<span class=normal>549</span>
<span class=normal>550</span>
<span class=normal>551</span>
<span class=normal>552</span>
<span class=normal>553</span>
<span class=normal>554</span>
<span class=normal>555</span>
<span class=normal>556</span>
<span class=normal>557</span>
<span class=normal>558</span>
<span class=normal>559</span>
<span class=normal>560</span>
<span class=normal>561</span>
<span class=normal>562</span>
<span class=normal>563</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>convert_colorspace_enumerator_item</span><span class=p>(</span>
    <span class=n>colorspace_enum_item</span><span class=p>,</span>
    <span class=n>config_items</span>
<span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert colorspace enumerator item to dictionary</span>

<span class=sd>    Args:</span>
<span class=sd>        colorspace_enum_item (str): Colorspace and family in couple.</span>
<span class=sd>        config_items (dict[str,dict]): Colorspace data.</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: colorspace data</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=s2>&quot;::&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>colorspace_enum_item</span><span class=p>:</span>
        <span class=k>return</span> <span class=kc>None</span>

    <span class=c1># split string with `::` separator and set first as key and second as value</span>
    <span class=n>item_type</span><span class=p>,</span> <span class=n>item_name</span> <span class=o>=</span> <span class=n>colorspace_enum_item</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;::&quot;</span><span class=p>)</span>

    <span class=n>item_data</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>if</span> <span class=n>item_type</span> <span class=o>==</span> <span class=s2>&quot;aliases&quot;</span><span class=p>:</span>
        <span class=c1># loop through all colorspaces and find matching alias</span>
        <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>_data</span> <span class=ow>in</span> <span class=n>config_items</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;colorspaces&quot;</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
            <span class=k>if</span> <span class=n>item_name</span> <span class=ow>in</span> <span class=n>_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;aliases&quot;</span><span class=p>,</span> <span class=p>[]):</span>
                <span class=n>item_data</span> <span class=o>=</span> <span class=n>deepcopy</span><span class=p>(</span><span class=n>_data</span><span class=p>)</span>
                <span class=n>item_data</span><span class=o>.</span><span class=n>update</span><span class=p>({</span>
                    <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=n>name</span><span class=p>,</span>
                    <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;colorspace&quot;</span>
                <span class=p>})</span>
                <span class=k>break</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=c1># find matching colorspace item found in labeled_colorspaces</span>
        <span class=n>item_data</span> <span class=o>=</span> <span class=n>config_items</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>item_type</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>item_name</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>item_data</span><span class=p>:</span>
            <span class=n>item_data</span> <span class=o>=</span> <span class=n>deepcopy</span><span class=p>(</span><span class=n>item_data</span><span class=p>)</span>
            <span class=n>item_data</span><span class=o>.</span><span class=n>update</span><span class=p>({</span>
                <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=n>item_name</span><span class=p>,</span>
                <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=n>item_type</span>
            <span class=p>})</span>

    <span class=c1># raise exception if item is not found</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>item_data</span><span class=p>:</span>
        <span class=n>message_config_keys</span> <span class=o>=</span> <span class=s2>&quot;, &quot;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span>
            <span class=s2>&quot;&#39;</span><span class=si>{}</span><span class=s2>&#39;:</span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
                <span class=n>key</span><span class=p>,</span>
                <span class=nb>set</span><span class=p>(</span><span class=n>config_items</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span>
            <span class=p>)</span> <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>config_items</span><span class=o>.</span><span class=n>keys</span><span class=p>()</span>
        <span class=p>)</span>
        <span class=k>raise</span> <span class=ne>KeyError</span><span class=p>(</span>
            <span class=s2>&quot;Missing colorspace item &#39;</span><span class=si>{}</span><span class=s2>&#39; in config data: [</span><span class=si>{}</span><span class=s2>]&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
                <span class=n>colorspace_enum_item</span><span class=p>,</span> <span class=n>message_config_keys</span>
            <span class=p>)</span>
        <span class=p>)</span>

    <span class=k>return</span> <span class=n>item_data</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.deprecated class="doc doc-heading"> <code class="highlight language-python"><span class=n>deprecated</span><span class=p>(</span><span class=n>new_destination</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Mark functions as deprecated.</p> <p>It will result in a warning being emitted when the function is used.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span>
<span class=normal>63</span>
<span class=normal>64</span>
<span class=normal>65</span>
<span class=normal>66</span>
<span class=normal>67</span>
<span class=normal>68</span>
<span class=normal>69</span>
<span class=normal>70</span>
<span class=normal>71</span>
<span class=normal>72</span>
<span class=normal>73</span>
<span class=normal>74</span>
<span class=normal>75</span>
<span class=normal>76</span>
<span class=normal>77</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>deprecated</span><span class=p>(</span><span class=n>new_destination</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Mark functions as deprecated.</span>

<span class=sd>    It will result in a warning being emitted when the function is used.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>func</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>if</span> <span class=nb>callable</span><span class=p>(</span><span class=n>new_destination</span><span class=p>):</span>
        <span class=n>func</span> <span class=o>=</span> <span class=n>new_destination</span>
        <span class=n>new_destination</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_decorator</span><span class=p>(</span><span class=n>decorated_func</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>new_destination</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>warning_message</span> <span class=o>=</span> <span class=p>(</span>
                <span class=s2>&quot; Please check content of deprecated function to figure out&quot;</span>
                <span class=s2>&quot; possible replacement.&quot;</span>
            <span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>warning_message</span> <span class=o>=</span> <span class=s2>&quot; Please replace your usage with &#39;</span><span class=si>{}</span><span class=s2>&#39;.&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
                <span class=n>new_destination</span>
            <span class=p>)</span>

        <span class=nd>@functools</span><span class=o>.</span><span class=n>wraps</span><span class=p>(</span><span class=n>decorated_func</span><span class=p>)</span>
        <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
            <span class=n>warnings</span><span class=o>.</span><span class=n>simplefilter</span><span class=p>(</span><span class=s2>&quot;always&quot;</span><span class=p>,</span> <span class=ne>DeprecationWarning</span><span class=p>)</span>
            <span class=n>warnings</span><span class=o>.</span><span class=n>warn</span><span class=p>(</span>
                <span class=p>(</span>
                    <span class=s2>&quot;Call to deprecated function &#39;</span><span class=si>{}</span><span class=s2>&#39;&quot;</span>
                    <span class=s2>&quot;</span><span class=se>\n</span><span class=s2>Function was moved or removed.</span><span class=si>{}</span><span class=s2>&quot;</span>
                <span class=p>)</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>decorated_func</span><span class=o>.</span><span class=vm>__name__</span><span class=p>,</span> <span class=n>warning_message</span><span class=p>),</span>
                <span class=n>category</span><span class=o>=</span><span class=ne>DeprecationWarning</span><span class=p>,</span>
                <span class=n>stacklevel</span><span class=o>=</span><span class=mi>4</span>
            <span class=p>)</span>
            <span class=k>return</span> <span class=n>decorated_func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>wrapper</span>

    <span class=k>if</span> <span class=n>func</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>_decorator</span>
    <span class=k>return</span> <span class=n>_decorator</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_colorspace_data_subprocess class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_colorspace_data_subprocess</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>[Deprecated] Get colorspace data via subprocess</p> <details class=deprecated open> <summary>Deprecated</summary> <p>Deprecated since OpenPype. Use <code>_get_wrapped_with_subprocess</code> instead.</p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>path leading to config.ocio file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p>colorspace and family in couple</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1556</span>
<span class=normal>1557</span>
<span class=normal>1558</span>
<span class=normal>1559</span>
<span class=normal>1560</span>
<span class=normal>1561</span>
<span class=normal>1562</span>
<span class=normal>1563</span>
<span class=normal>1564</span>
<span class=normal>1565</span>
<span class=normal>1566</span>
<span class=normal>1567</span>
<span class=normal>1568</span>
<span class=normal>1569</span>
<span class=normal>1570</span>
<span class=normal>1571</span>
<span class=normal>1572</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@deprecated</span><span class=p>(</span><span class=s2>&quot;_get_wrapped_with_subprocess&quot;</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>get_colorspace_data_subprocess</span><span class=p>(</span><span class=n>config_path</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;[Deprecated] Get colorspace data via subprocess</span>

<span class=sd>    Deprecated:</span>
<span class=sd>        Deprecated since OpenPype. Use `_get_wrapped_with_subprocess` instead.</span>

<span class=sd>    Args:</span>
<span class=sd>        config_path (str): path leading to config.ocio file</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: colorspace and family in couple</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>_get_wrapped_with_subprocess</span><span class=p>(</span>
        <span class=s2>&quot;get_ocio_config_colorspaces&quot;</span><span class=p>,</span>
        <span class=n>config_path</span><span class=o>=</span><span class=n>config_path</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_colorspace_name_from_filepath class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_colorspace_name_from_filepath</span><span class=p>(</span><span class=n>filepath</span><span class=p>,</span> <span class=n>host_name</span><span class=p>,</span> <span class=n>project_name</span><span class=p>,</span> <span class=n>config_data</span><span class=p>,</span> <span class=n>file_rules</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>project_settings</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>validate</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get colorspace name from filepath</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>filepath</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Path string, file rule pattern is tested on it.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>host_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Host name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>project_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Project name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>config_data</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Config path and template in dict.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>file_rules</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=dict>dict</span>]</code> </td> <td> <div class=doc-md-description> <p>File rule data from settings.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>project_settings</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=dict>dict</span>]</code> </td> <td> <div class=doc-md-description> <p>Project settings.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>validate</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=bool>bool</span>]</code> </td> <td> <div class=doc-md-description> <p>should resulting colorspace be validated with config file? Defaults to True.</p> </div> </td> <td> <code>True</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Union[str, None]: name of colorspace</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>148</span>
<span class=normal>149</span>
<span class=normal>150</span>
<span class=normal>151</span>
<span class=normal>152</span>
<span class=normal>153</span>
<span class=normal>154</span>
<span class=normal>155</span>
<span class=normal>156</span>
<span class=normal>157</span>
<span class=normal>158</span>
<span class=normal>159</span>
<span class=normal>160</span>
<span class=normal>161</span>
<span class=normal>162</span>
<span class=normal>163</span>
<span class=normal>164</span>
<span class=normal>165</span>
<span class=normal>166</span>
<span class=normal>167</span>
<span class=normal>168</span>
<span class=normal>169</span>
<span class=normal>170</span>
<span class=normal>171</span>
<span class=normal>172</span>
<span class=normal>173</span>
<span class=normal>174</span>
<span class=normal>175</span>
<span class=normal>176</span>
<span class=normal>177</span>
<span class=normal>178</span>
<span class=normal>179</span>
<span class=normal>180</span>
<span class=normal>181</span>
<span class=normal>182</span>
<span class=normal>183</span>
<span class=normal>184</span>
<span class=normal>185</span>
<span class=normal>186</span>
<span class=normal>187</span>
<span class=normal>188</span>
<span class=normal>189</span>
<span class=normal>190</span>
<span class=normal>191</span>
<span class=normal>192</span>
<span class=normal>193</span>
<span class=normal>194</span>
<span class=normal>195</span>
<span class=normal>196</span>
<span class=normal>197</span>
<span class=normal>198</span>
<span class=normal>199</span>
<span class=normal>200</span>
<span class=normal>201</span>
<span class=normal>202</span>
<span class=normal>203</span>
<span class=normal>204</span>
<span class=normal>205</span>
<span class=normal>206</span>
<span class=normal>207</span>
<span class=normal>208</span>
<span class=normal>209</span>
<span class=normal>210</span>
<span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span>
<span class=normal>214</span>
<span class=normal>215</span>
<span class=normal>216</span>
<span class=normal>217</span>
<span class=normal>218</span>
<span class=normal>219</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_colorspace_name_from_filepath</span><span class=p>(</span>
    <span class=n>filepath</span><span class=p>,</span>
    <span class=n>host_name</span><span class=p>,</span>
    <span class=n>project_name</span><span class=p>,</span>
    <span class=n>config_data</span><span class=p>,</span>
    <span class=n>file_rules</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
    <span class=n>project_settings</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
    <span class=n>validate</span><span class=o>=</span><span class=kc>True</span>
<span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get colorspace name from filepath</span>

<span class=sd>    Args:</span>
<span class=sd>        filepath (str): Path string, file rule pattern is tested on it.</span>
<span class=sd>        host_name (str): Host name.</span>
<span class=sd>        project_name (str): Project name.</span>
<span class=sd>        config_data (dict): Config path and template in dict.</span>
<span class=sd>        file_rules (Optional[dict]): File rule data from settings.</span>
<span class=sd>        project_settings (Optional[dict]): Project settings.</span>
<span class=sd>        validate (Optional[bool]): should resulting colorspace be validated</span>
<span class=sd>            with config file? Defaults to True.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Union[str, None]: name of colorspace</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>config_data</span><span class=p>:</span>
        <span class=c1># in case global or host color management is not enabled</span>
        <span class=k>return</span> <span class=kc>None</span>

    <span class=k>if</span> <span class=n>file_rules</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>project_settings</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>project_settings</span> <span class=o>=</span> <span class=n>get_project_settings</span><span class=p>(</span><span class=n>project_name</span><span class=p>)</span>
        <span class=n>file_rules</span> <span class=o>=</span> <span class=n>get_imageio_file_rules</span><span class=p>(</span>
            <span class=n>project_name</span><span class=p>,</span> <span class=n>host_name</span><span class=p>,</span> <span class=n>project_settings</span>
        <span class=p>)</span>

    <span class=c1># use ImageIO file rules</span>
    <span class=n>colorspace_name</span> <span class=o>=</span> <span class=n>get_imageio_file_rules_colorspace_from_filepath</span><span class=p>(</span>
        <span class=n>filepath</span><span class=p>,</span>
        <span class=n>host_name</span><span class=p>,</span>
        <span class=n>project_name</span><span class=p>,</span>
        <span class=n>config_data</span><span class=o>=</span><span class=n>config_data</span><span class=p>,</span>
        <span class=n>file_rules</span><span class=o>=</span><span class=n>file_rules</span><span class=p>,</span>
        <span class=n>project_settings</span><span class=o>=</span><span class=n>project_settings</span>
    <span class=p>)</span>

    <span class=c1># try to get colorspace from OCIO v2 file rules</span>
    <span class=k>if</span> <span class=p>(</span>
        <span class=ow>not</span> <span class=n>colorspace_name</span>
        <span class=ow>and</span> <span class=n>compatibility_check_config_version</span><span class=p>(</span><span class=n>config_data</span><span class=p>[</span><span class=s2>&quot;path&quot;</span><span class=p>],</span> <span class=n>major</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
    <span class=p>):</span>
        <span class=n>colorspace_name</span> <span class=o>=</span> <span class=n>get_config_file_rules_colorspace_from_filepath</span><span class=p>(</span>
            <span class=n>config_data</span><span class=p>[</span><span class=s2>&quot;path&quot;</span><span class=p>],</span> <span class=n>filepath</span><span class=p>)</span>

    <span class=c1># use parse colorspace from filepath as fallback</span>
    <span class=n>colorspace_name</span> <span class=o>=</span> <span class=n>colorspace_name</span> <span class=ow>or</span> <span class=n>parse_colorspace_from_filepath</span><span class=p>(</span>
        <span class=n>filepath</span><span class=p>,</span> <span class=n>config_path</span><span class=o>=</span><span class=n>config_data</span><span class=p>[</span><span class=s2>&quot;path&quot;</span><span class=p>]</span>
    <span class=p>)</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>colorspace_name</span><span class=p>:</span>
        <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;No imageio file rule matched input path: &#39;</span><span class=si>{}</span><span class=s2>&#39;&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
            <span class=n>filepath</span>
        <span class=p>))</span>
        <span class=k>return</span> <span class=kc>None</span>

    <span class=c1># validate matching colorspace with config</span>
    <span class=k>if</span> <span class=n>validate</span><span class=p>:</span>
        <span class=n>validate_imageio_colorspace_in_config</span><span class=p>(</span>
            <span class=n>config_data</span><span class=p>[</span><span class=s2>&quot;path&quot;</span><span class=p>],</span> <span class=n>colorspace_name</span>
        <span class=p>)</span>

    <span class=k>return</span> <span class=n>colorspace_name</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_colorspace_settings_from_publish_context class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_colorspace_settings_from_publish_context</span><span class=p>(</span><span class=n>context_data</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Returns solved settings for the host context.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>context_data</code> </td> <td> <code><span title=client.ayon_core.pipeline.publish.Context.data>data</span></code> </td> <td> <div class=doc-md-description> <p>publishing context data</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>tuple | bool: config, file rules or None</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1171</span>
<span class=normal>1172</span>
<span class=normal>1173</span>
<span class=normal>1174</span>
<span class=normal>1175</span>
<span class=normal>1176</span>
<span class=normal>1177</span>
<span class=normal>1178</span>
<span class=normal>1179</span>
<span class=normal>1180</span>
<span class=normal>1181</span>
<span class=normal>1182</span>
<span class=normal>1183</span>
<span class=normal>1184</span>
<span class=normal>1185</span>
<span class=normal>1186</span>
<span class=normal>1187</span>
<span class=normal>1188</span>
<span class=normal>1189</span>
<span class=normal>1190</span>
<span class=normal>1191</span>
<span class=normal>1192</span>
<span class=normal>1193</span>
<span class=normal>1194</span>
<span class=normal>1195</span>
<span class=normal>1196</span>
<span class=normal>1197</span>
<span class=normal>1198</span>
<span class=normal>1199</span>
<span class=normal>1200</span>
<span class=normal>1201</span>
<span class=normal>1202</span>
<span class=normal>1203</span>
<span class=normal>1204</span>
<span class=normal>1205</span>
<span class=normal>1206</span>
<span class=normal>1207</span>
<span class=normal>1208</span>
<span class=normal>1209</span>
<span class=normal>1210</span>
<span class=normal>1211</span>
<span class=normal>1212</span>
<span class=normal>1213</span>
<span class=normal>1214</span>
<span class=normal>1215</span>
<span class=normal>1216</span>
<span class=normal>1217</span>
<span class=normal>1218</span>
<span class=normal>1219</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_colorspace_settings_from_publish_context</span><span class=p>(</span><span class=n>context_data</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns solved settings for the host context.</span>

<span class=sd>    Args:</span>
<span class=sd>        context_data (publish.Context.data): publishing context data</span>

<span class=sd>    Returns:</span>
<span class=sd>        tuple | bool: config, file rules or None</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=s2>&quot;imageioSettings&quot;</span> <span class=ow>in</span> <span class=n>context_data</span> <span class=ow>and</span> <span class=n>context_data</span><span class=p>[</span><span class=s2>&quot;imageioSettings&quot;</span><span class=p>]:</span>
        <span class=k>return</span> <span class=n>context_data</span><span class=p>[</span><span class=s2>&quot;imageioSettings&quot;</span><span class=p>]</span>

    <span class=n>project_name</span> <span class=o>=</span> <span class=n>context_data</span><span class=p>[</span><span class=s2>&quot;projectName&quot;</span><span class=p>]</span>
    <span class=n>folder_path</span> <span class=o>=</span> <span class=n>context_data</span><span class=p>[</span><span class=s2>&quot;folderPath&quot;</span><span class=p>]</span>
    <span class=n>task_name</span> <span class=o>=</span> <span class=n>context_data</span><span class=p>[</span><span class=s2>&quot;task&quot;</span><span class=p>]</span>
    <span class=n>host_name</span> <span class=o>=</span> <span class=n>context_data</span><span class=p>[</span><span class=s2>&quot;hostName&quot;</span><span class=p>]</span>
    <span class=n>anatomy</span> <span class=o>=</span> <span class=n>context_data</span><span class=p>[</span><span class=s2>&quot;anatomy&quot;</span><span class=p>]</span>
    <span class=n>template_data</span> <span class=o>=</span> <span class=n>context_data</span><span class=p>[</span><span class=s2>&quot;anatomyData&quot;</span><span class=p>]</span>
    <span class=n>project_settings</span> <span class=o>=</span> <span class=n>context_data</span><span class=p>[</span><span class=s2>&quot;project_settings&quot;</span><span class=p>]</span>
    <span class=n>folder_id</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=n>folder_entity</span> <span class=o>=</span> <span class=n>context_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;folderEntity&quot;</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>folder_entity</span><span class=p>:</span>
        <span class=n>folder_id</span> <span class=o>=</span> <span class=n>folder_entity</span><span class=p>[</span><span class=s2>&quot;id&quot;</span><span class=p>]</span>

    <span class=n>config_data</span> <span class=o>=</span> <span class=n>get_imageio_config_preset</span><span class=p>(</span>
        <span class=n>project_name</span><span class=p>,</span>
        <span class=n>folder_path</span><span class=p>,</span>
        <span class=n>task_name</span><span class=p>,</span>
        <span class=n>host_name</span><span class=p>,</span>
        <span class=n>anatomy</span><span class=o>=</span><span class=n>anatomy</span><span class=p>,</span>
        <span class=n>project_settings</span><span class=o>=</span><span class=n>project_settings</span><span class=p>,</span>
        <span class=n>template_data</span><span class=o>=</span><span class=n>template_data</span><span class=p>,</span>
        <span class=n>folder_id</span><span class=o>=</span><span class=n>folder_id</span><span class=p>,</span>
    <span class=p>)</span>

    <span class=c1># caching invalid state, so it&#39;s not recalculated all the time</span>
    <span class=n>file_rules</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>if</span> <span class=n>config_data</span><span class=p>:</span>
        <span class=n>file_rules</span> <span class=o>=</span> <span class=n>get_imageio_file_rules</span><span class=p>(</span>
            <span class=n>project_name</span><span class=p>,</span>
            <span class=n>host_name</span><span class=p>,</span>
            <span class=n>project_settings</span><span class=o>=</span><span class=n>project_settings</span>
        <span class=p>)</span>

    <span class=c1># caching settings for future instance processing</span>
    <span class=n>context_data</span><span class=p>[</span><span class=s2>&quot;imageioSettings&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=n>config_data</span><span class=p>,</span> <span class=n>file_rules</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>config_data</span><span class=p>,</span> <span class=n>file_rules</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_colorspaces_enumerator_items class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_colorspaces_enumerator_items</span><span class=p>(</span><span class=n>config_items</span><span class=p>,</span> <span class=n>include_aliases</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>include_looks</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>include_roles</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>include_display_views</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get all colorspace data with labels</p> <p>Wrapper function for aggregating all names and its families. Families can be used for building menu and submenus in gui.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_items</code> </td> <td> <code><span title=dict>dict</span>[<span title=str>str</span>, <span title=dict>dict</span>]</code> </td> <td> <div class=doc-md-description> <p>Colorspace data coming from <code>get_ocio_config_colorspaces</code> function.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>include_aliases</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=bool>bool</span>]</code> </td> <td> <div class=doc-md-description> <p>Include aliases in result.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>include_looks</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=bool>bool</span>]</code> </td> <td> <div class=doc-md-description> <p>Include looks in result.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>include_roles</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=bool>bool</span>]</code> </td> <td> <div class=doc-md-description> <p>Include roles in result.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>include_display_views</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=bool>bool</span>]</code> </td> <td> <div class=doc-md-description> <p>Include display views in result.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>list[tuple[str, str]]: Colorspace and family in couples.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>566</span>
<span class=normal>567</span>
<span class=normal>568</span>
<span class=normal>569</span>
<span class=normal>570</span>
<span class=normal>571</span>
<span class=normal>572</span>
<span class=normal>573</span>
<span class=normal>574</span>
<span class=normal>575</span>
<span class=normal>576</span>
<span class=normal>577</span>
<span class=normal>578</span>
<span class=normal>579</span>
<span class=normal>580</span>
<span class=normal>581</span>
<span class=normal>582</span>
<span class=normal>583</span>
<span class=normal>584</span>
<span class=normal>585</span>
<span class=normal>586</span>
<span class=normal>587</span>
<span class=normal>588</span>
<span class=normal>589</span>
<span class=normal>590</span>
<span class=normal>591</span>
<span class=normal>592</span>
<span class=normal>593</span>
<span class=normal>594</span>
<span class=normal>595</span>
<span class=normal>596</span>
<span class=normal>597</span>
<span class=normal>598</span>
<span class=normal>599</span>
<span class=normal>600</span>
<span class=normal>601</span>
<span class=normal>602</span>
<span class=normal>603</span>
<span class=normal>604</span>
<span class=normal>605</span>
<span class=normal>606</span>
<span class=normal>607</span>
<span class=normal>608</span>
<span class=normal>609</span>
<span class=normal>610</span>
<span class=normal>611</span>
<span class=normal>612</span>
<span class=normal>613</span>
<span class=normal>614</span>
<span class=normal>615</span>
<span class=normal>616</span>
<span class=normal>617</span>
<span class=normal>618</span>
<span class=normal>619</span>
<span class=normal>620</span>
<span class=normal>621</span>
<span class=normal>622</span>
<span class=normal>623</span>
<span class=normal>624</span>
<span class=normal>625</span>
<span class=normal>626</span>
<span class=normal>627</span>
<span class=normal>628</span>
<span class=normal>629</span>
<span class=normal>630</span>
<span class=normal>631</span>
<span class=normal>632</span>
<span class=normal>633</span>
<span class=normal>634</span>
<span class=normal>635</span>
<span class=normal>636</span>
<span class=normal>637</span>
<span class=normal>638</span>
<span class=normal>639</span>
<span class=normal>640</span>
<span class=normal>641</span>
<span class=normal>642</span>
<span class=normal>643</span>
<span class=normal>644</span>
<span class=normal>645</span>
<span class=normal>646</span>
<span class=normal>647</span>
<span class=normal>648</span>
<span class=normal>649</span>
<span class=normal>650</span>
<span class=normal>651</span>
<span class=normal>652</span>
<span class=normal>653</span>
<span class=normal>654</span>
<span class=normal>655</span>
<span class=normal>656</span>
<span class=normal>657</span>
<span class=normal>658</span>
<span class=normal>659</span>
<span class=normal>660</span>
<span class=normal>661</span>
<span class=normal>662</span>
<span class=normal>663</span>
<span class=normal>664</span>
<span class=normal>665</span>
<span class=normal>666</span>
<span class=normal>667</span>
<span class=normal>668</span>
<span class=normal>669</span>
<span class=normal>670</span>
<span class=normal>671</span>
<span class=normal>672</span>
<span class=normal>673</span>
<span class=normal>674</span>
<span class=normal>675</span>
<span class=normal>676</span>
<span class=normal>677</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_colorspaces_enumerator_items</span><span class=p>(</span>
    <span class=n>config_items</span><span class=p>,</span>
    <span class=n>include_aliases</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
    <span class=n>include_looks</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
    <span class=n>include_roles</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
    <span class=n>include_display_views</span><span class=o>=</span><span class=kc>False</span>
<span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get all colorspace data with labels</span>

<span class=sd>    Wrapper function for aggregating all names and its families.</span>
<span class=sd>    Families can be used for building menu and submenus in gui.</span>

<span class=sd>    Args:</span>
<span class=sd>        config_items (dict[str,dict]): Colorspace data coming from</span>
<span class=sd>            `get_ocio_config_colorspaces` function.</span>
<span class=sd>        include_aliases (Optional[bool]): Include aliases in result.</span>
<span class=sd>        include_looks (Optional[bool]): Include looks in result.</span>
<span class=sd>        include_roles (Optional[bool]): Include roles in result.</span>
<span class=sd>        include_display_views (Optional[bool]): Include display views</span>
<span class=sd>            in result.</span>

<span class=sd>    Returns:</span>
<span class=sd>        list[tuple[str, str]]: Colorspace and family in couples.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>aliases</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
    <span class=n>colorspaces</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
    <span class=n>looks</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
    <span class=n>roles</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
    <span class=n>display_views</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
    <span class=k>for</span> <span class=n>items_type</span><span class=p>,</span> <span class=n>colorspace_items</span> <span class=ow>in</span> <span class=n>config_items</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
        <span class=k>if</span> <span class=n>items_type</span> <span class=o>==</span> <span class=s2>&quot;colorspaces&quot;</span><span class=p>:</span>
            <span class=k>for</span> <span class=n>color_name</span><span class=p>,</span> <span class=n>color_data</span> <span class=ow>in</span> <span class=n>colorspace_items</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
                <span class=k>if</span> <span class=n>color_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;aliases&quot;</span><span class=p>):</span>
                    <span class=n>aliases</span><span class=o>.</span><span class=n>update</span><span class=p>({</span>
                        <span class=p>(</span>
                            <span class=s2>&quot;aliases::</span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>alias_name</span><span class=p>),</span>
                            <span class=s2>&quot;[alias] </span><span class=si>{}</span><span class=s2> (</span><span class=si>{}</span><span class=s2>)&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>alias_name</span><span class=p>,</span> <span class=n>color_name</span><span class=p>)</span>
                        <span class=p>)</span>
                        <span class=k>for</span> <span class=n>alias_name</span> <span class=ow>in</span> <span class=n>color_data</span><span class=p>[</span><span class=s2>&quot;aliases&quot;</span><span class=p>]</span>
                    <span class=p>})</span>
                <span class=n>colorspaces</span><span class=o>.</span><span class=n>add</span><span class=p>((</span>
                    <span class=s2>&quot;</span><span class=si>{}</span><span class=s2>::</span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>items_type</span><span class=p>,</span> <span class=n>color_name</span><span class=p>),</span>
                    <span class=s2>&quot;[colorspace] </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>color_name</span><span class=p>)</span>
                <span class=p>))</span>

        <span class=k>elif</span> <span class=n>items_type</span> <span class=o>==</span> <span class=s2>&quot;looks&quot;</span><span class=p>:</span>
            <span class=n>looks</span><span class=o>.</span><span class=n>update</span><span class=p>({</span>
                <span class=p>(</span>
                    <span class=s2>&quot;</span><span class=si>{}</span><span class=s2>::</span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>items_type</span><span class=p>,</span> <span class=n>name</span><span class=p>),</span>
                    <span class=s2>&quot;[look] </span><span class=si>{}</span><span class=s2> (</span><span class=si>{}</span><span class=s2>)&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>role_data</span><span class=p>[</span><span class=s2>&quot;process_space&quot;</span><span class=p>])</span>
                <span class=p>)</span>
                <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>role_data</span> <span class=ow>in</span> <span class=n>colorspace_items</span><span class=o>.</span><span class=n>items</span><span class=p>()</span>
            <span class=p>})</span>

        <span class=k>elif</span> <span class=n>items_type</span> <span class=o>==</span> <span class=s2>&quot;displays_views&quot;</span><span class=p>:</span>
            <span class=n>display_views</span><span class=o>.</span><span class=n>update</span><span class=p>({</span>
                <span class=p>(</span>
                    <span class=s2>&quot;</span><span class=si>{}</span><span class=s2>::</span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>items_type</span><span class=p>,</span> <span class=n>name</span><span class=p>),</span>
                    <span class=s2>&quot;[view (display)] </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
                <span class=p>)</span>
                <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>_</span> <span class=ow>in</span> <span class=n>colorspace_items</span><span class=o>.</span><span class=n>items</span><span class=p>()</span>
            <span class=p>})</span>

        <span class=k>elif</span> <span class=n>items_type</span> <span class=o>==</span> <span class=s2>&quot;roles&quot;</span><span class=p>:</span>
            <span class=n>roles</span><span class=o>.</span><span class=n>update</span><span class=p>({</span>
                <span class=p>(</span>
                    <span class=s2>&quot;</span><span class=si>{}</span><span class=s2>::</span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>items_type</span><span class=p>,</span> <span class=n>name</span><span class=p>),</span>
                    <span class=s2>&quot;[role] </span><span class=si>{}</span><span class=s2> (</span><span class=si>{}</span><span class=s2>)&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>role_data</span><span class=p>[</span><span class=s2>&quot;colorspace&quot;</span><span class=p>])</span>
                <span class=p>)</span>
                <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>role_data</span> <span class=ow>in</span> <span class=n>colorspace_items</span><span class=o>.</span><span class=n>items</span><span class=p>()</span>
            <span class=p>})</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_sort_key_getter</span><span class=p>(</span><span class=n>item</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Use colorspace for sorting.</span>

<span class=sd>        Args:</span>
<span class=sd>            item (tuple[str, str]): Item with colorspace and label.</span>

<span class=sd>        Returns:</span>
<span class=sd>            str: Colorspace.</span>

<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=n>item</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>

    <span class=n>labeled_colorspaces</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>if</span> <span class=n>include_roles</span><span class=p>:</span>
        <span class=n>labeled_colorspaces</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span>
            <span class=nb>sorted</span><span class=p>(</span><span class=n>roles</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=n>_sort_key_getter</span><span class=p>)</span>
        <span class=p>)</span>

    <span class=c1># Add colorspaces after roles, so it is not first in menu</span>
    <span class=n>labeled_colorspaces</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span>
        <span class=nb>sorted</span><span class=p>(</span><span class=n>colorspaces</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=n>_sort_key_getter</span><span class=p>)</span>
    <span class=p>)</span>

    <span class=k>if</span> <span class=n>include_aliases</span><span class=p>:</span>
        <span class=n>labeled_colorspaces</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span>
            <span class=nb>sorted</span><span class=p>(</span><span class=n>aliases</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=n>_sort_key_getter</span><span class=p>)</span>
        <span class=p>)</span>

    <span class=k>if</span> <span class=n>include_looks</span><span class=p>:</span>
        <span class=n>labeled_colorspaces</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span>
            <span class=nb>sorted</span><span class=p>(</span><span class=n>looks</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=n>_sort_key_getter</span><span class=p>)</span>
        <span class=p>)</span>

    <span class=k>if</span> <span class=n>include_display_views</span><span class=p>:</span>
        <span class=n>labeled_colorspaces</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span>
            <span class=nb>sorted</span><span class=p>(</span><span class=n>display_views</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=n>_sort_key_getter</span><span class=p>)</span>
        <span class=p>)</span>

    <span class=k>return</span> <span class=n>labeled_colorspaces</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_config_file_rules_colorspace_from_filepath class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_config_file_rules_colorspace_from_filepath</span><span class=p>(</span><span class=n>config_path</span><span class=p>,</span> <span class=n>filepath</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get colorspace from file path wrapper.</p> <p>Wrapper function for getting colorspace from file path with use of OCIO v2 file-rules.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>path leading to config.ocio file</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>filepath</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>path leading to a file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Union[str, None]: matching colorspace name</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>275</span>
<span class=normal>276</span>
<span class=normal>277</span>
<span class=normal>278</span>
<span class=normal>279</span>
<span class=normal>280</span>
<span class=normal>281</span>
<span class=normal>282</span>
<span class=normal>283</span>
<span class=normal>284</span>
<span class=normal>285</span>
<span class=normal>286</span>
<span class=normal>287</span>
<span class=normal>288</span>
<span class=normal>289</span>
<span class=normal>290</span>
<span class=normal>291</span>
<span class=normal>292</span>
<span class=normal>293</span>
<span class=normal>294</span>
<span class=normal>295</span>
<span class=normal>296</span>
<span class=normal>297</span>
<span class=normal>298</span>
<span class=normal>299</span>
<span class=normal>300</span>
<span class=normal>301</span>
<span class=normal>302</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_config_file_rules_colorspace_from_filepath</span><span class=p>(</span><span class=n>config_path</span><span class=p>,</span> <span class=n>filepath</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get colorspace from file path wrapper.</span>

<span class=sd>    Wrapper function for getting colorspace from file path</span>
<span class=sd>    with use of OCIO v2 file-rules.</span>

<span class=sd>    Args:</span>
<span class=sd>        config_path (str): path leading to config.ocio file</span>
<span class=sd>        filepath (str): path leading to a file</span>

<span class=sd>    Returns:</span>
<span class=sd>        Union[str, None]: matching colorspace name</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>has_compatible_ocio_package</span><span class=p>():</span>
        <span class=n>result_data</span> <span class=o>=</span> <span class=n>_get_config_file_rules_colorspace_from_filepath</span><span class=p>(</span>
            <span class=n>config_path</span><span class=p>,</span> <span class=n>filepath</span>
        <span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=n>result_data</span> <span class=o>=</span> <span class=n>_get_wrapped_with_subprocess</span><span class=p>(</span>
            <span class=s2>&quot;get_config_file_rules_colorspace_from_filepath&quot;</span><span class=p>,</span>
            <span class=n>config_path</span><span class=o>=</span><span class=n>config_path</span><span class=p>,</span>
            <span class=n>filepath</span><span class=o>=</span><span class=n>filepath</span>
        <span class=p>)</span>

    <span class=k>if</span> <span class=n>result_data</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>result_data</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
    <span class=k>return</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_config_version_data class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_config_version_data</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return major and minor version info.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>path string leading to config.ocio</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=IOError>IOError</span></code> </td> <td> <div class=doc-md-description> <p>Input config does not exist.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p>minor and major keys with values</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>305</span>
<span class=normal>306</span>
<span class=normal>307</span>
<span class=normal>308</span>
<span class=normal>309</span>
<span class=normal>310</span>
<span class=normal>311</span>
<span class=normal>312</span>
<span class=normal>313</span>
<span class=normal>314</span>
<span class=normal>315</span>
<span class=normal>316</span>
<span class=normal>317</span>
<span class=normal>318</span>
<span class=normal>319</span>
<span class=normal>320</span>
<span class=normal>321</span>
<span class=normal>322</span>
<span class=normal>323</span>
<span class=normal>324</span>
<span class=normal>325</span>
<span class=normal>326</span>
<span class=normal>327</span>
<span class=normal>328</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_config_version_data</span><span class=p>(</span><span class=n>config_path</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return major and minor version info.</span>

<span class=sd>    Args:</span>
<span class=sd>        config_path (str): path string leading to config.ocio</span>

<span class=sd>    Raises:</span>
<span class=sd>        IOError: Input config does not exist.</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: minor and major keys with values</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>config_path</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>CachedData</span><span class=o>.</span><span class=n>config_version_data</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>has_compatible_ocio_package</span><span class=p>():</span>
            <span class=n>version_data</span> <span class=o>=</span> <span class=n>_get_config_version_data</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>version_data</span> <span class=o>=</span> <span class=n>_get_wrapped_with_subprocess</span><span class=p>(</span>
                <span class=s2>&quot;get_config_version_data&quot;</span><span class=p>,</span>
                <span class=n>config_path</span><span class=o>=</span><span class=n>config_path</span>
            <span class=p>)</span>
        <span class=n>CachedData</span><span class=o>.</span><span class=n>config_version_data</span><span class=p>[</span><span class=n>config_path</span><span class=p>]</span> <span class=o>=</span> <span class=n>version_data</span>

    <span class=k>return</span> <span class=n>deepcopy</span><span class=p>(</span><span class=n>CachedData</span><span class=o>.</span><span class=n>config_version_data</span><span class=p>[</span><span class=n>config_path</span><span class=p>])</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_current_context_imageio_config_preset class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_current_context_imageio_config_preset</span><span class=p>(</span><span class=n>anatomy</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>project_settings</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>template_data</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>env</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get ImageIO config preset for current context.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>anatomy</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=ayon_core.pipeline.Anatomy>Anatomy</span>]</code> </td> <td> <div class=doc-md-description> <p>Current project anatomy.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>project_settings</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=dict>dict</span>[<span title=str>str</span>, <span title=Any>Any</span>]]</code> </td> <td> <div class=doc-md-description> <p>Current project settings.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>template_data</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=dict>dict</span>[<span title=str>str</span>, <span title=Any>Any</span>]]</code> </td> <td> <div class=doc-md-description> <p>Prepared template data for current context.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>env</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=dict>dict</span>[<span title=str>str</span>, <span title=str>str</span>]]</code> </td> <td> <div class=doc-md-description> <p>Custom environment variable values.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p>ImageIO config preset.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1499</span>
<span class=normal>1500</span>
<span class=normal>1501</span>
<span class=normal>1502</span>
<span class=normal>1503</span>
<span class=normal>1504</span>
<span class=normal>1505</span>
<span class=normal>1506</span>
<span class=normal>1507</span>
<span class=normal>1508</span>
<span class=normal>1509</span>
<span class=normal>1510</span>
<span class=normal>1511</span>
<span class=normal>1512</span>
<span class=normal>1513</span>
<span class=normal>1514</span>
<span class=normal>1515</span>
<span class=normal>1516</span>
<span class=normal>1517</span>
<span class=normal>1518</span>
<span class=normal>1519</span>
<span class=normal>1520</span>
<span class=normal>1521</span>
<span class=normal>1522</span>
<span class=normal>1523</span>
<span class=normal>1524</span>
<span class=normal>1525</span>
<span class=normal>1526</span>
<span class=normal>1527</span>
<span class=normal>1528</span>
<span class=normal>1529</span>
<span class=normal>1530</span>
<span class=normal>1531</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_current_context_imageio_config_preset</span><span class=p>(</span>
    <span class=n>anatomy</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
    <span class=n>project_settings</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
    <span class=n>template_data</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
    <span class=n>env</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
<span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get ImageIO config preset for current context.</span>

<span class=sd>    Args:</span>
<span class=sd>        anatomy (Optional[Anatomy]): Current project anatomy.</span>
<span class=sd>        project_settings (Optional[dict[str, Any]]): Current project settings.</span>
<span class=sd>        template_data (Optional[dict[str, Any]]): Prepared template data</span>
<span class=sd>            for current context.</span>
<span class=sd>        env (Optional[dict[str, str]]): Custom environment variable values.</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: ImageIO config preset.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=kn>from</span><span class=w> </span><span class=nn>.context_tools</span><span class=w> </span><span class=kn>import</span> <span class=n>get_current_context</span><span class=p>,</span> <span class=n>get_current_host_name</span>

    <span class=n>context</span> <span class=o>=</span> <span class=n>get_current_context</span><span class=p>()</span>
    <span class=n>host_name</span> <span class=o>=</span> <span class=n>get_current_host_name</span><span class=p>()</span>
    <span class=k>return</span> <span class=n>get_imageio_config_preset</span><span class=p>(</span>
        <span class=n>context</span><span class=p>[</span><span class=s2>&quot;project_name&quot;</span><span class=p>],</span>
        <span class=n>context</span><span class=p>[</span><span class=s2>&quot;folder_path&quot;</span><span class=p>],</span>
        <span class=n>context</span><span class=p>[</span><span class=s2>&quot;task_name&quot;</span><span class=p>],</span>
        <span class=n>host_name</span><span class=p>,</span>
        <span class=n>anatomy</span><span class=o>=</span><span class=n>anatomy</span><span class=p>,</span>
        <span class=n>project_settings</span><span class=o>=</span><span class=n>project_settings</span><span class=p>,</span>
        <span class=n>template_data</span><span class=o>=</span><span class=n>template_data</span><span class=p>,</span>
        <span class=n>env</span><span class=o>=</span><span class=n>env</span><span class=p>,</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_display_view_colorspace_name class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_display_view_colorspace_name</span><span class=p>(</span><span class=n>config_path</span><span class=p>,</span> <span class=n>display</span><span class=p>,</span> <span class=n>view</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Returns the colorspace attribute of the (display, view) pair.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>path string leading to config.ocio</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>display</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>display name e.g. "ACES"</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>view</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>view name e.g. "sRGB"</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>str</code></td> <td> </td> <td> <div class=doc-md-description> <p>View color space name. e.g. "Output - sRGB"</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1304</span>
<span class=normal>1305</span>
<span class=normal>1306</span>
<span class=normal>1307</span>
<span class=normal>1308</span>
<span class=normal>1309</span>
<span class=normal>1310</span>
<span class=normal>1311</span>
<span class=normal>1312</span>
<span class=normal>1313</span>
<span class=normal>1314</span>
<span class=normal>1315</span>
<span class=normal>1316</span>
<span class=normal>1317</span>
<span class=normal>1318</span>
<span class=normal>1319</span>
<span class=normal>1320</span>
<span class=normal>1321</span>
<span class=normal>1322</span>
<span class=normal>1323</span>
<span class=normal>1324</span>
<span class=normal>1325</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_display_view_colorspace_name</span><span class=p>(</span><span class=n>config_path</span><span class=p>,</span> <span class=n>display</span><span class=p>,</span> <span class=n>view</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns the colorspace attribute of the (display, view) pair.</span>

<span class=sd>    Args:</span>
<span class=sd>        config_path (str): path string leading to config.ocio</span>
<span class=sd>        display (str): display name e.g. &quot;ACES&quot;</span>
<span class=sd>        view (str): view name e.g. &quot;sRGB&quot;</span>

<span class=sd>    Returns:</span>
<span class=sd>        str: View color space name. e.g. &quot;Output - sRGB&quot;</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>has_compatible_ocio_package</span><span class=p>():</span>
        <span class=k>return</span> <span class=n>_get_display_view_colorspace_name</span><span class=p>(</span>
            <span class=n>config_path</span><span class=p>,</span> <span class=n>display</span><span class=p>,</span> <span class=n>view</span>
        <span class=p>)</span>
    <span class=k>return</span> <span class=n>_get_wrapped_with_subprocess</span><span class=p>(</span>
        <span class=s2>&quot;get_display_view_colorspace_name&quot;</span><span class=p>,</span>
        <span class=n>config_path</span><span class=o>=</span><span class=n>config_path</span><span class=p>,</span>
        <span class=n>display</span><span class=o>=</span><span class=n>display</span><span class=p>,</span>
        <span class=n>view</span><span class=o>=</span><span class=n>view</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_imageio_config class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_imageio_config</span><span class=p>(</span><span class=n>project_name</span><span class=p>,</span> <span class=n>host_name</span><span class=p>,</span> <span class=n>project_settings</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>anatomy_data</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>anatomy</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>env</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Returns config data from settings</p> <p>Config path is formatted in <code>path</code> key and original settings input is saved into <code>template</code> key.</p> <details class=deprecated open> <summary>Deprecated</summary> <p>Deprecated since '0.3.1' . Use <code>get_imageio_config_preset</code> instead.</p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>project_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>project name</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>host_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>host name</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>project_settings</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=dict>dict</span>]</code> </td> <td> <div class=doc-md-description> <p>Project settings.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>anatomy_data</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=dict>dict</span>]</code> </td> <td> <div class=doc-md-description> <p>anatomy formatting data.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>anatomy</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=ayon_core.pipeline.Anatomy>Anatomy</span>]</code> </td> <td> <div class=doc-md-description> <p>Anatomy object.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>env</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=dict>dict</span>]</code> </td> <td> <div class=doc-md-description> <p>Environment variables.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p>config path data or empty dict</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1595</span>
<span class=normal>1596</span>
<span class=normal>1597</span>
<span class=normal>1598</span>
<span class=normal>1599</span>
<span class=normal>1600</span>
<span class=normal>1601</span>
<span class=normal>1602</span>
<span class=normal>1603</span>
<span class=normal>1604</span>
<span class=normal>1605</span>
<span class=normal>1606</span>
<span class=normal>1607</span>
<span class=normal>1608</span>
<span class=normal>1609</span>
<span class=normal>1610</span>
<span class=normal>1611</span>
<span class=normal>1612</span>
<span class=normal>1613</span>
<span class=normal>1614</span>
<span class=normal>1615</span>
<span class=normal>1616</span>
<span class=normal>1617</span>
<span class=normal>1618</span>
<span class=normal>1619</span>
<span class=normal>1620</span>
<span class=normal>1621</span>
<span class=normal>1622</span>
<span class=normal>1623</span>
<span class=normal>1624</span>
<span class=normal>1625</span>
<span class=normal>1626</span>
<span class=normal>1627</span>
<span class=normal>1628</span>
<span class=normal>1629</span>
<span class=normal>1630</span>
<span class=normal>1631</span>
<span class=normal>1632</span>
<span class=normal>1633</span>
<span class=normal>1634</span>
<span class=normal>1635</span>
<span class=normal>1636</span>
<span class=normal>1637</span>
<span class=normal>1638</span>
<span class=normal>1639</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@deprecated</span><span class=p>(</span><span class=s2>&quot;get_imageio_config_preset&quot;</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>get_imageio_config</span><span class=p>(</span>
    <span class=n>project_name</span><span class=p>,</span>
    <span class=n>host_name</span><span class=p>,</span>
    <span class=n>project_settings</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
    <span class=n>anatomy_data</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
    <span class=n>anatomy</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
    <span class=n>env</span><span class=o>=</span><span class=kc>None</span>
<span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns config data from settings</span>

<span class=sd>    Config path is formatted in `path` key</span>
<span class=sd>    and original settings input is saved into `template` key.</span>

<span class=sd>    Deprecated:</span>
<span class=sd>        Deprecated since &#39;0.3.1&#39; . Use `get_imageio_config_preset` instead.</span>

<span class=sd>    Args:</span>
<span class=sd>        project_name (str): project name</span>
<span class=sd>        host_name (str): host name</span>
<span class=sd>        project_settings (Optional[dict]): Project settings.</span>
<span class=sd>        anatomy_data (Optional[dict]): anatomy formatting data.</span>
<span class=sd>        anatomy (Optional[Anatomy]): Anatomy object.</span>
<span class=sd>        env (Optional[dict]): Environment variables.</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: config path data or empty dict</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>anatomy_data</span><span class=p>:</span>
        <span class=kn>from</span><span class=w> </span><span class=nn>.context_tools</span><span class=w> </span><span class=kn>import</span> <span class=n>get_current_context_template_data</span>
        <span class=n>anatomy_data</span> <span class=o>=</span> <span class=n>get_current_context_template_data</span><span class=p>()</span>

    <span class=n>task_name</span> <span class=o>=</span> <span class=n>anatomy_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;task&quot;</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;name&quot;</span><span class=p>)</span>
    <span class=n>folder_path</span> <span class=o>=</span> <span class=n>anatomy_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;folder&quot;</span><span class=p>,</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;path&quot;</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>get_imageio_config_preset</span><span class=p>(</span>
        <span class=n>project_name</span><span class=p>,</span>
        <span class=n>folder_path</span><span class=p>,</span>
        <span class=n>task_name</span><span class=p>,</span>
        <span class=n>host_name</span><span class=p>,</span>
        <span class=n>anatomy</span><span class=o>=</span><span class=n>anatomy</span><span class=p>,</span>
        <span class=n>project_settings</span><span class=o>=</span><span class=n>project_settings</span><span class=p>,</span>
        <span class=n>template_data</span><span class=o>=</span><span class=n>anatomy_data</span><span class=p>,</span>
        <span class=n>env</span><span class=o>=</span><span class=n>env</span><span class=p>,</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_imageio_config_preset class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_imageio_config_preset</span><span class=p>(</span><span class=n>project_name</span><span class=p>,</span> <span class=n>folder_path</span><span class=p>,</span> <span class=n>task_name</span><span class=p>,</span> <span class=n>host_name</span><span class=p>,</span> <span class=n>anatomy</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>project_settings</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>template_data</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>env</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>folder_id</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Returns config data from settings</p> <p>Output contains 'path' key and 'template' key holds its template.</p> <p>Template data can be prepared with 'get_template_data'.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>project_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Project name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>folder_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Folder path.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>task_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Task name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>host_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Host name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>anatomy</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=ayon_core.pipeline.Anatomy>Anatomy</span>]</code> </td> <td> <div class=doc-md-description> <p>Project anatomy object.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>project_settings</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=dict>dict</span>]</code> </td> <td> <div class=doc-md-description> <p>Project settings.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>template_data</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=dict>dict</span>]</code> </td> <td> <div class=doc-md-description> <p>Template data used for template formatting.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>env</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=dict>dict</span>]</code> </td> <td> <div class=doc-md-description> <p>Environment variables. Environments are used for template formatting too. Values from 'os.environ' are used when not provided.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>folder_id</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>Folder id. Is used only when config path is received from published representation. Is autofilled when not provided.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p>config path data or empty dict</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 882</span>
<span class=normal> 883</span>
<span class=normal> 884</span>
<span class=normal> 885</span>
<span class=normal> 886</span>
<span class=normal> 887</span>
<span class=normal> 888</span>
<span class=normal> 889</span>
<span class=normal> 890</span>
<span class=normal> 891</span>
<span class=normal> 892</span>
<span class=normal> 893</span>
<span class=normal> 894</span>
<span class=normal> 895</span>
<span class=normal> 896</span>
<span class=normal> 897</span>
<span class=normal> 898</span>
<span class=normal> 899</span>
<span class=normal> 900</span>
<span class=normal> 901</span>
<span class=normal> 902</span>
<span class=normal> 903</span>
<span class=normal> 904</span>
<span class=normal> 905</span>
<span class=normal> 906</span>
<span class=normal> 907</span>
<span class=normal> 908</span>
<span class=normal> 909</span>
<span class=normal> 910</span>
<span class=normal> 911</span>
<span class=normal> 912</span>
<span class=normal> 913</span>
<span class=normal> 914</span>
<span class=normal> 915</span>
<span class=normal> 916</span>
<span class=normal> 917</span>
<span class=normal> 918</span>
<span class=normal> 919</span>
<span class=normal> 920</span>
<span class=normal> 921</span>
<span class=normal> 922</span>
<span class=normal> 923</span>
<span class=normal> 924</span>
<span class=normal> 925</span>
<span class=normal> 926</span>
<span class=normal> 927</span>
<span class=normal> 928</span>
<span class=normal> 929</span>
<span class=normal> 930</span>
<span class=normal> 931</span>
<span class=normal> 932</span>
<span class=normal> 933</span>
<span class=normal> 934</span>
<span class=normal> 935</span>
<span class=normal> 936</span>
<span class=normal> 937</span>
<span class=normal> 938</span>
<span class=normal> 939</span>
<span class=normal> 940</span>
<span class=normal> 941</span>
<span class=normal> 942</span>
<span class=normal> 943</span>
<span class=normal> 944</span>
<span class=normal> 945</span>
<span class=normal> 946</span>
<span class=normal> 947</span>
<span class=normal> 948</span>
<span class=normal> 949</span>
<span class=normal> 950</span>
<span class=normal> 951</span>
<span class=normal> 952</span>
<span class=normal> 953</span>
<span class=normal> 954</span>
<span class=normal> 955</span>
<span class=normal> 956</span>
<span class=normal> 957</span>
<span class=normal> 958</span>
<span class=normal> 959</span>
<span class=normal> 960</span>
<span class=normal> 961</span>
<span class=normal> 962</span>
<span class=normal> 963</span>
<span class=normal> 964</span>
<span class=normal> 965</span>
<span class=normal> 966</span>
<span class=normal> 967</span>
<span class=normal> 968</span>
<span class=normal> 969</span>
<span class=normal> 970</span>
<span class=normal> 971</span>
<span class=normal> 972</span>
<span class=normal> 973</span>
<span class=normal> 974</span>
<span class=normal> 975</span>
<span class=normal> 976</span>
<span class=normal> 977</span>
<span class=normal> 978</span>
<span class=normal> 979</span>
<span class=normal> 980</span>
<span class=normal> 981</span>
<span class=normal> 982</span>
<span class=normal> 983</span>
<span class=normal> 984</span>
<span class=normal> 985</span>
<span class=normal> 986</span>
<span class=normal> 987</span>
<span class=normal> 988</span>
<span class=normal> 989</span>
<span class=normal> 990</span>
<span class=normal> 991</span>
<span class=normal> 992</span>
<span class=normal> 993</span>
<span class=normal> 994</span>
<span class=normal> 995</span>
<span class=normal> 996</span>
<span class=normal> 997</span>
<span class=normal> 998</span>
<span class=normal> 999</span>
<span class=normal>1000</span>
<span class=normal>1001</span>
<span class=normal>1002</span>
<span class=normal>1003</span>
<span class=normal>1004</span>
<span class=normal>1005</span>
<span class=normal>1006</span>
<span class=normal>1007</span>
<span class=normal>1008</span>
<span class=normal>1009</span>
<span class=normal>1010</span>
<span class=normal>1011</span>
<span class=normal>1012</span>
<span class=normal>1013</span>
<span class=normal>1014</span>
<span class=normal>1015</span>
<span class=normal>1016</span>
<span class=normal>1017</span>
<span class=normal>1018</span>
<span class=normal>1019</span>
<span class=normal>1020</span>
<span class=normal>1021</span>
<span class=normal>1022</span>
<span class=normal>1023</span>
<span class=normal>1024</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_imageio_config_preset</span><span class=p>(</span>
    <span class=n>project_name</span><span class=p>,</span>
    <span class=n>folder_path</span><span class=p>,</span>
    <span class=n>task_name</span><span class=p>,</span>
    <span class=n>host_name</span><span class=p>,</span>
    <span class=n>anatomy</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
    <span class=n>project_settings</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
    <span class=n>template_data</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
    <span class=n>env</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
    <span class=n>folder_id</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
<span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Returns config data from settings</span>

<span class=sd>    Output contains &#39;path&#39; key and &#39;template&#39; key holds its template.</span>

<span class=sd>    Template data can be prepared with &#39;get_template_data&#39;.</span>

<span class=sd>    Args:</span>
<span class=sd>        project_name (str): Project name.</span>
<span class=sd>        folder_path (str): Folder path.</span>
<span class=sd>        task_name (str): Task name.</span>
<span class=sd>        host_name (str): Host name.</span>
<span class=sd>        anatomy (Optional[Anatomy]): Project anatomy object.</span>
<span class=sd>        project_settings (Optional[dict]): Project settings.</span>
<span class=sd>        template_data (Optional[dict]): Template data used for</span>
<span class=sd>            template formatting.</span>
<span class=sd>        env (Optional[dict]): Environment variables. Environments are used</span>
<span class=sd>            for template formatting too. Values from &#39;os.environ&#39; are used</span>
<span class=sd>            when not provided.</span>
<span class=sd>        folder_id (Optional[str]): Folder id. Is used only when config path</span>
<span class=sd>            is received from published representation. Is autofilled when</span>
<span class=sd>            not provided.</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: config path data or empty dict</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>project_settings</span><span class=p>:</span>
        <span class=n>project_settings</span> <span class=o>=</span> <span class=n>get_project_settings</span><span class=p>(</span><span class=n>project_name</span><span class=p>)</span>

    <span class=c1># Get colorspace settings</span>
    <span class=n>imageio_global</span><span class=p>,</span> <span class=n>imageio_host</span> <span class=o>=</span> <span class=n>_get_imageio_settings</span><span class=p>(</span>
        <span class=n>project_settings</span><span class=p>,</span> <span class=n>host_name</span>
    <span class=p>)</span>
    <span class=c1># Global color management must be enabled to be able to use host settings</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>imageio_global</span><span class=p>[</span><span class=s2>&quot;activate_global_color_management&quot;</span><span class=p>]:</span>
        <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Colorspace management is disabled globally.&quot;</span><span class=p>)</span>
        <span class=k>return</span> <span class=p>{}</span>

    <span class=c1># Host &#39;ocio_config&#39; is optional</span>
    <span class=n>host_ocio_config</span> <span class=o>=</span> <span class=n>imageio_host</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;ocio_config&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=p>{}</span>
    <span class=c1># TODO remove</span>
    <span class=c1>#  - backward compatibility when host settings had only &#39;enabled&#39; flag</span>
    <span class=c1>#      the flag was split into &#39;activate_global_color_management&#39;</span>
    <span class=c1>#      and &#39;override_global_config&#39;</span>
    <span class=n>host_ocio_config_enabled</span> <span class=o>=</span> <span class=n>host_ocio_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;enabled&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>

    <span class=c1># Check if host settings group is having &#39;activate_host_color_management&#39;</span>
    <span class=c1># - if it does not have activation key then default it to True so it uses</span>
    <span class=c1>#       global settings</span>
    <span class=n>activate_host_color_management</span> <span class=o>=</span> <span class=n>imageio_host</span><span class=o>.</span><span class=n>get</span><span class=p>(</span>
        <span class=s2>&quot;activate_host_color_management&quot;</span>
    <span class=p>)</span>
    <span class=k>if</span> <span class=n>activate_host_color_management</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>activate_host_color_management</span> <span class=o>=</span> <span class=n>host_ocio_config_enabled</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>activate_host_color_management</span><span class=p>:</span>
        <span class=c1># if host settings are disabled return False because</span>
        <span class=c1># it is expected that no colorspace management is needed</span>
        <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
            <span class=sa>f</span><span class=s2>&quot;Colorspace management for host &#39;</span><span class=si>{</span><span class=n>host_name</span><span class=si>}</span><span class=s2>&#39; is disabled.&quot;</span>
        <span class=p>)</span>
        <span class=k>return</span> <span class=p>{}</span>

    <span class=n>project_entity</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>if</span> <span class=n>anatomy</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>project_entity</span> <span class=o>=</span> <span class=n>ayon_api</span><span class=o>.</span><span class=n>get_project</span><span class=p>(</span><span class=n>project_name</span><span class=p>)</span>
        <span class=n>anatomy</span> <span class=o>=</span> <span class=n>Anatomy</span><span class=p>(</span><span class=n>project_name</span><span class=p>,</span> <span class=n>project_entity</span><span class=o>=</span><span class=n>project_entity</span><span class=p>)</span>

    <span class=k>if</span> <span class=n>env</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>env</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>items</span><span class=p>())</span>

    <span class=k>if</span> <span class=n>template_data</span><span class=p>:</span>
        <span class=n>template_data</span> <span class=o>=</span> <span class=n>deepcopy</span><span class=p>(</span><span class=n>template_data</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>project_entity</span><span class=p>:</span>
            <span class=n>project_entity</span> <span class=o>=</span> <span class=n>ayon_api</span><span class=o>.</span><span class=n>get_project</span><span class=p>(</span><span class=n>project_name</span><span class=p>)</span>

        <span class=n>folder_entity</span> <span class=o>=</span> <span class=n>task_entity</span> <span class=o>=</span> <span class=n>folder_id</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=k>if</span> <span class=n>folder_path</span><span class=p>:</span>
            <span class=n>folder_entity</span> <span class=o>=</span> <span class=n>ayon_api</span><span class=o>.</span><span class=n>get_folder_by_path</span><span class=p>(</span>
                <span class=n>project_name</span><span class=p>,</span> <span class=n>folder_path</span>
            <span class=p>)</span>
            <span class=n>folder_id</span> <span class=o>=</span> <span class=n>folder_entity</span><span class=p>[</span><span class=s2>&quot;id&quot;</span><span class=p>]</span>

        <span class=k>if</span> <span class=n>folder_id</span> <span class=ow>and</span> <span class=n>task_name</span><span class=p>:</span>
            <span class=n>task_entity</span> <span class=o>=</span> <span class=n>ayon_api</span><span class=o>.</span><span class=n>get_task_by_name</span><span class=p>(</span>
                <span class=n>project_name</span><span class=p>,</span> <span class=n>folder_id</span><span class=p>,</span> <span class=n>task_name</span>
            <span class=p>)</span>
        <span class=n>template_data</span> <span class=o>=</span> <span class=n>get_template_data</span><span class=p>(</span>
            <span class=n>project_entity</span><span class=p>,</span>
            <span class=n>folder_entity</span><span class=p>,</span>
            <span class=n>task_entity</span><span class=p>,</span>
            <span class=n>host_name</span><span class=p>,</span>
            <span class=n>project_settings</span><span class=p>,</span>
        <span class=p>)</span>

    <span class=c1># Add project roots to anatomy data</span>
    <span class=n>template_data</span><span class=p>[</span><span class=s2>&quot;root&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>anatomy</span><span class=o>.</span><span class=n>roots</span>
    <span class=n>template_data</span><span class=p>[</span><span class=s2>&quot;platform&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>platform</span><span class=o>.</span><span class=n>system</span><span class=p>()</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>

    <span class=c1># Add environment variables to template data</span>
    <span class=n>template_data</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>env</span><span class=p>)</span>

    <span class=c1># Get config path from core or host settings</span>
    <span class=c1>#  - based on override flag in host settings</span>
    <span class=c1># TODO: in future rewrite this to be more explicit</span>
    <span class=n>override_global_config</span> <span class=o>=</span> <span class=n>host_ocio_config</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;override_global_config&quot;</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>override_global_config</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>override_global_config</span> <span class=o>=</span> <span class=n>host_ocio_config_enabled</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>override_global_config</span><span class=p>:</span>
        <span class=n>config_data</span> <span class=o>=</span> <span class=n>_get_global_config_data</span><span class=p>(</span>
            <span class=n>project_name</span><span class=p>,</span>
            <span class=n>host_name</span><span class=p>,</span>
            <span class=n>anatomy</span><span class=p>,</span>
            <span class=n>template_data</span><span class=p>,</span>
            <span class=n>imageio_global</span><span class=p>,</span>
            <span class=n>folder_id</span><span class=p>,</span>
            <span class=n>log</span><span class=p>,</span>
        <span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=n>config_data</span> <span class=o>=</span> <span class=n>_get_host_config_data</span><span class=p>(</span>
            <span class=n>host_ocio_config</span><span class=p>[</span><span class=s2>&quot;filepath&quot;</span><span class=p>],</span> <span class=n>template_data</span>
        <span class=p>)</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>config_data</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>FileExistsError</span><span class=p>(</span>
            <span class=s2>&quot;No OCIO config found in settings. It is&quot;</span>
            <span class=s2>&quot; either missing or there is typo in path inputs&quot;</span>
        <span class=p>)</span>

    <span class=k>return</span> <span class=n>config_data</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_imageio_file_rules class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_imageio_file_rules</span><span class=p>(</span><span class=n>project_name</span><span class=p>,</span> <span class=n>host_name</span><span class=p>,</span> <span class=n>project_settings</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get ImageIO File rules from project settings</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>project_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Project name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>host_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Host name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>project_settings</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=dict>dict</span>]</code> </td> <td> <div class=doc-md-description> <p>Project settings.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>list[dict[str, Any]]: file rules data</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1056</span>
<span class=normal>1057</span>
<span class=normal>1058</span>
<span class=normal>1059</span>
<span class=normal>1060</span>
<span class=normal>1061</span>
<span class=normal>1062</span>
<span class=normal>1063</span>
<span class=normal>1064</span>
<span class=normal>1065</span>
<span class=normal>1066</span>
<span class=normal>1067</span>
<span class=normal>1068</span>
<span class=normal>1069</span>
<span class=normal>1070</span>
<span class=normal>1071</span>
<span class=normal>1072</span>
<span class=normal>1073</span>
<span class=normal>1074</span>
<span class=normal>1075</span>
<span class=normal>1076</span>
<span class=normal>1077</span>
<span class=normal>1078</span>
<span class=normal>1079</span>
<span class=normal>1080</span>
<span class=normal>1081</span>
<span class=normal>1082</span>
<span class=normal>1083</span>
<span class=normal>1084</span>
<span class=normal>1085</span>
<span class=normal>1086</span>
<span class=normal>1087</span>
<span class=normal>1088</span>
<span class=normal>1089</span>
<span class=normal>1090</span>
<span class=normal>1091</span>
<span class=normal>1092</span>
<span class=normal>1093</span>
<span class=normal>1094</span>
<span class=normal>1095</span>
<span class=normal>1096</span>
<span class=normal>1097</span>
<span class=normal>1098</span>
<span class=normal>1099</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_imageio_file_rules</span><span class=p>(</span><span class=n>project_name</span><span class=p>,</span> <span class=n>host_name</span><span class=p>,</span> <span class=n>project_settings</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get ImageIO File rules from project settings</span>

<span class=sd>    Args:</span>
<span class=sd>        project_name (str): Project name.</span>
<span class=sd>        host_name (str): Host name.</span>
<span class=sd>        project_settings (Optional[dict]): Project settings.</span>

<span class=sd>    Returns:</span>
<span class=sd>        list[dict[str, Any]]: file rules data</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>project_settings</span> <span class=o>=</span> <span class=n>project_settings</span> <span class=ow>or</span> <span class=n>get_project_settings</span><span class=p>(</span><span class=n>project_name</span><span class=p>)</span>

    <span class=n>imageio_global</span><span class=p>,</span> <span class=n>imageio_host</span> <span class=o>=</span> <span class=n>_get_imageio_settings</span><span class=p>(</span>
        <span class=n>project_settings</span><span class=p>,</span> <span class=n>host_name</span><span class=p>)</span>

    <span class=c1># host is optional, some might not have any settings</span>
    <span class=n>frules_host</span> <span class=o>=</span> <span class=n>imageio_host</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;file_rules&quot;</span><span class=p>,</span> <span class=p>{})</span>

    <span class=c1># compile file rules dictionary</span>
    <span class=n>activate_host_rules</span> <span class=o>=</span> <span class=n>frules_host</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;activate_host_rules&quot;</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>activate_host_rules</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=c1># TODO: remove this in future - backward compatibility</span>
        <span class=n>activate_host_rules</span> <span class=o>=</span> <span class=n>frules_host</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;enabled&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>

    <span class=k>if</span> <span class=n>activate_host_rules</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>frules_host</span><span class=p>[</span><span class=s2>&quot;rules&quot;</span><span class=p>]</span>

    <span class=c1># get file rules from global and host_name</span>
    <span class=n>frules_global</span> <span class=o>=</span> <span class=n>imageio_global</span><span class=p>[</span><span class=s2>&quot;file_rules&quot;</span><span class=p>]</span>
    <span class=n>activate_global_rules</span> <span class=o>=</span> <span class=p>(</span>
        <span class=n>frules_global</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;activate_global_file_rules&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>
        <span class=c1># TODO: remove this in future - backward compatibility</span>
        <span class=ow>or</span> <span class=n>frules_global</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;enabled&quot;</span><span class=p>)</span>
    <span class=p>)</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>activate_global_rules</span><span class=p>:</span>
        <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span>
            <span class=s2>&quot;Colorspace global file rules are disabled.&quot;</span>
        <span class=p>)</span>
        <span class=k>return</span> <span class=p>[]</span>

    <span class=k>return</span> <span class=n>frules_global</span><span class=p>[</span><span class=s2>&quot;rules&quot;</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_imageio_file_rules_colorspace_from_filepath class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_imageio_file_rules_colorspace_from_filepath</span><span class=p>(</span><span class=n>filepath</span><span class=p>,</span> <span class=n>host_name</span><span class=p>,</span> <span class=n>project_name</span><span class=p>,</span> <span class=n>config_data</span><span class=p>,</span> <span class=n>file_rules</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>project_settings</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get colorspace name from filepath</p> <p>ImageIO Settings file rules are tested for matching rule.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>filepath</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Path string, file rule pattern is tested on it.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>host_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Host name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>project_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Project name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>config_data</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Config path and template in dict.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>file_rules</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=dict>dict</span>]</code> </td> <td> <div class=doc-md-description> <p>File rule data from settings.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>project_settings</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=dict>dict</span>]</code> </td> <td> <div class=doc-md-description> <p>Project settings.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Union[str, None]: Name of colorspace.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span>
<span class=normal>232</span>
<span class=normal>233</span>
<span class=normal>234</span>
<span class=normal>235</span>
<span class=normal>236</span>
<span class=normal>237</span>
<span class=normal>238</span>
<span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span>
<span class=normal>252</span>
<span class=normal>253</span>
<span class=normal>254</span>
<span class=normal>255</span>
<span class=normal>256</span>
<span class=normal>257</span>
<span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span>
<span class=normal>264</span>
<span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span>
<span class=normal>268</span>
<span class=normal>269</span>
<span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_imageio_file_rules_colorspace_from_filepath</span><span class=p>(</span>
    <span class=n>filepath</span><span class=p>,</span>
    <span class=n>host_name</span><span class=p>,</span>
    <span class=n>project_name</span><span class=p>,</span>
    <span class=n>config_data</span><span class=p>,</span>
    <span class=n>file_rules</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
    <span class=n>project_settings</span><span class=o>=</span><span class=kc>None</span>
<span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get colorspace name from filepath</span>

<span class=sd>    ImageIO Settings file rules are tested for matching rule.</span>

<span class=sd>    Args:</span>
<span class=sd>        filepath (str): Path string, file rule pattern is tested on it.</span>
<span class=sd>        host_name (str): Host name.</span>
<span class=sd>        project_name (str): Project name.</span>
<span class=sd>        config_data (dict): Config path and template in dict.</span>
<span class=sd>        file_rules (Optional[dict]): File rule data from settings.</span>
<span class=sd>        project_settings (Optional[dict]): Project settings.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Union[str, None]: Name of colorspace.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>config_data</span><span class=p>:</span>
        <span class=c1># in case global or host color management is not enabled</span>
        <span class=k>return</span> <span class=kc>None</span>

    <span class=k>if</span> <span class=n>file_rules</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>project_settings</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>project_settings</span> <span class=o>=</span> <span class=n>get_project_settings</span><span class=p>(</span><span class=n>project_name</span><span class=p>)</span>
        <span class=n>file_rules</span> <span class=o>=</span> <span class=n>get_imageio_file_rules</span><span class=p>(</span>
            <span class=n>project_name</span><span class=p>,</span> <span class=n>host_name</span><span class=p>,</span> <span class=n>project_settings</span>
        <span class=p>)</span>

    <span class=c1># match file rule from path</span>
    <span class=n>colorspace_name</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>for</span> <span class=n>file_rule</span> <span class=ow>in</span> <span class=n>file_rules</span><span class=p>:</span>
        <span class=n>pattern</span> <span class=o>=</span> <span class=n>file_rule</span><span class=p>[</span><span class=s2>&quot;pattern&quot;</span><span class=p>]</span>
        <span class=n>extension</span> <span class=o>=</span> <span class=n>file_rule</span><span class=p>[</span><span class=s2>&quot;ext&quot;</span><span class=p>]</span>
        <span class=n>ext_match</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span>
            <span class=sa>r</span><span class=s2>&quot;.*(?=.</span><span class=si>{}</span><span class=s2>)&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>extension</span><span class=p>),</span> <span class=n>filepath</span>
        <span class=p>)</span>
        <span class=n>file_match</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span>
            <span class=n>pattern</span><span class=p>,</span> <span class=n>filepath</span>
        <span class=p>)</span>

        <span class=k>if</span> <span class=n>ext_match</span> <span class=ow>and</span> <span class=n>file_match</span><span class=p>:</span>
            <span class=n>colorspace_name</span> <span class=o>=</span> <span class=n>file_rule</span><span class=p>[</span><span class=s2>&quot;colorspace&quot;</span><span class=p>]</span>

    <span class=k>return</span> <span class=n>colorspace_name</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_ocio_config_colorspaces class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_ocio_config_colorspaces</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get all colorspace data</p> <p>Wrapper function for aggregating all names and its families. Families can be used for building menu and submenus in gui.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>path leading to config.ocio file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p>colorspace and family in couple</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>482</span>
<span class=normal>483</span>
<span class=normal>484</span>
<span class=normal>485</span>
<span class=normal>486</span>
<span class=normal>487</span>
<span class=normal>488</span>
<span class=normal>489</span>
<span class=normal>490</span>
<span class=normal>491</span>
<span class=normal>492</span>
<span class=normal>493</span>
<span class=normal>494</span>
<span class=normal>495</span>
<span class=normal>496</span>
<span class=normal>497</span>
<span class=normal>498</span>
<span class=normal>499</span>
<span class=normal>500</span>
<span class=normal>501</span>
<span class=normal>502</span>
<span class=normal>503</span>
<span class=normal>504</span>
<span class=normal>505</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_ocio_config_colorspaces</span><span class=p>(</span><span class=n>config_path</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get all colorspace data</span>

<span class=sd>    Wrapper function for aggregating all names and its families.</span>
<span class=sd>    Families can be used for building menu and submenus in gui.</span>

<span class=sd>    Args:</span>
<span class=sd>        config_path (str): path leading to config.ocio file</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: colorspace and family in couple</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>config_path</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>CachedData</span><span class=o>.</span><span class=n>ocio_config_colorspaces</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>has_compatible_ocio_package</span><span class=p>():</span>
            <span class=n>config_colorspaces</span> <span class=o>=</span> <span class=n>_get_ocio_config_colorspaces</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>config_colorspaces</span> <span class=o>=</span> <span class=n>_get_wrapped_with_subprocess</span><span class=p>(</span>
                <span class=s2>&quot;get_ocio_config_colorspaces&quot;</span><span class=p>,</span>
                <span class=n>config_path</span><span class=o>=</span><span class=n>config_path</span>
            <span class=p>)</span>
        <span class=n>CachedData</span><span class=o>.</span><span class=n>ocio_config_colorspaces</span><span class=p>[</span><span class=n>config_path</span><span class=p>]</span> <span class=o>=</span> <span class=n>config_colorspaces</span>

    <span class=k>return</span> <span class=n>deepcopy</span><span class=p>(</span><span class=n>CachedData</span><span class=o>.</span><span class=n>ocio_config_colorspaces</span><span class=p>[</span><span class=n>config_path</span><span class=p>])</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_ocio_config_script_path class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_ocio_config_script_path</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Get path to ocio wrapper script</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>str</code></td> <td> </td> <td> <div class=doc-md-description> <p>path string</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_ocio_config_script_path</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get path to ocio wrapper script</span>

<span class=sd>    Returns:</span>
<span class=sd>        str: path string</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span>
        <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>normpath</span><span class=p>(</span><span class=n>AYON_CORE_ROOT</span><span class=p>),</span>
        <span class=s2>&quot;scripts&quot;</span><span class=p>,</span>
        <span class=s2>&quot;ocio_wrapper.py&quot;</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_ocio_config_views class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_ocio_config_views</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get all viewer data</p> <p>Wrapper function for aggregating all display and related viewers. Key can be used for building gui menu with submenus.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>path leading to config.ocio file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p><code>display/viewer</code> and viewer data</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>680</span>
<span class=normal>681</span>
<span class=normal>682</span>
<span class=normal>683</span>
<span class=normal>684</span>
<span class=normal>685</span>
<span class=normal>686</span>
<span class=normal>687</span>
<span class=normal>688</span>
<span class=normal>689</span>
<span class=normal>690</span>
<span class=normal>691</span>
<span class=normal>692</span>
<span class=normal>693</span>
<span class=normal>694</span>
<span class=normal>695</span>
<span class=normal>696</span>
<span class=normal>697</span>
<span class=normal>698</span>
<span class=normal>699</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_ocio_config_views</span><span class=p>(</span><span class=n>config_path</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get all viewer data</span>

<span class=sd>    Wrapper function for aggregating all display and related viewers.</span>
<span class=sd>    Key can be used for building gui menu with submenus.</span>

<span class=sd>    Args:</span>
<span class=sd>        config_path (str): path leading to config.ocio file</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: `display/viewer` and viewer data</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>has_compatible_ocio_package</span><span class=p>():</span>
        <span class=k>return</span> <span class=n>_get_ocio_config_views</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>_get_wrapped_with_subprocess</span><span class=p>(</span>
        <span class=s2>&quot;get_ocio_config_views&quot;</span><span class=p>,</span>
        <span class=n>config_path</span><span class=o>=</span><span class=n>config_path</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_remapped_colorspace_from_native class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_remapped_colorspace_from_native</span><span class=p>(</span><span class=n>host_native_colorspace_name</span><span class=p>,</span> <span class=n>host_name</span><span class=p>,</span> <span class=n>imageio_host_settings</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return ocio colorspace name remapped from host native used name.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>host_native_colorspace_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>host native colorspace name</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>host_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Host name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>imageio_host_settings</code> </td> <td> <code><span title=dict>dict</span>[<span title=str>str</span>, <span title=Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>ImageIO host settings.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Union[str, None]: Ocio colorspace name defined in remapping or None.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1127</span>
<span class=normal>1128</span>
<span class=normal>1129</span>
<span class=normal>1130</span>
<span class=normal>1131</span>
<span class=normal>1132</span>
<span class=normal>1133</span>
<span class=normal>1134</span>
<span class=normal>1135</span>
<span class=normal>1136</span>
<span class=normal>1137</span>
<span class=normal>1138</span>
<span class=normal>1139</span>
<span class=normal>1140</span>
<span class=normal>1141</span>
<span class=normal>1142</span>
<span class=normal>1143</span>
<span class=normal>1144</span>
<span class=normal>1145</span>
<span class=normal>1146</span>
<span class=normal>1147</span>
<span class=normal>1148</span>
<span class=normal>1149</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_remapped_colorspace_from_native</span><span class=p>(</span>
    <span class=n>host_native_colorspace_name</span><span class=p>,</span> <span class=n>host_name</span><span class=p>,</span> <span class=n>imageio_host_settings</span>
<span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return ocio colorspace name remapped from host native used name.</span>

<span class=sd>    Args:</span>
<span class=sd>        host_native_colorspace_name (str): host native colorspace name</span>
<span class=sd>        host_name (str): Host name.</span>
<span class=sd>        imageio_host_settings (dict[str, Any]): ImageIO host settings.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Union[str, None]: Ocio colorspace name defined in remapping or None.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>host_mapping</span> <span class=o>=</span> <span class=n>CachedData</span><span class=o>.</span><span class=n>remapping</span><span class=o>.</span><span class=n>setdefault</span><span class=p>(</span><span class=n>host_name</span><span class=p>,</span> <span class=p>{})</span>
    <span class=k>if</span> <span class=s2>&quot;from_native&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>host_mapping</span><span class=p>:</span>
        <span class=n>remapping_rules</span> <span class=o>=</span> <span class=n>imageio_host_settings</span><span class=p>[</span><span class=s2>&quot;remapping&quot;</span><span class=p>][</span><span class=s2>&quot;rules&quot;</span><span class=p>]</span>
        <span class=n>host_mapping</span><span class=p>[</span><span class=s2>&quot;from_native&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
            <span class=n>rule</span><span class=p>[</span><span class=s2>&quot;host_native_name&quot;</span><span class=p>]:</span> <span class=n>rule</span><span class=p>[</span><span class=s2>&quot;ocio_name&quot;</span><span class=p>]</span>
            <span class=k>for</span> <span class=n>rule</span> <span class=ow>in</span> <span class=n>remapping_rules</span>
        <span class=p>}</span>

    <span class=k>return</span> <span class=n>host_mapping</span><span class=p>[</span><span class=s2>&quot;from_native&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>host_native_colorspace_name</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_remapped_colorspace_to_native class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_remapped_colorspace_to_native</span><span class=p>(</span><span class=n>ocio_colorspace_name</span><span class=p>,</span> <span class=n>host_name</span><span class=p>,</span> <span class=n>imageio_host_settings</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return native colorspace name.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>ocio_colorspace_name</code> </td> <td> <code><span title=str>str</span> | None</code> </td> <td> <div class=doc-md-description> <p>OCIO colorspace name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>host_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Host name.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>imageio_host_settings</code> </td> <td> <code><span title=dict>dict</span>[<span title=str>str</span>, <span title=Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>ImageIO host settings.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Union[str, None]: native colorspace name defined in remapping or None</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1102</span>
<span class=normal>1103</span>
<span class=normal>1104</span>
<span class=normal>1105</span>
<span class=normal>1106</span>
<span class=normal>1107</span>
<span class=normal>1108</span>
<span class=normal>1109</span>
<span class=normal>1110</span>
<span class=normal>1111</span>
<span class=normal>1112</span>
<span class=normal>1113</span>
<span class=normal>1114</span>
<span class=normal>1115</span>
<span class=normal>1116</span>
<span class=normal>1117</span>
<span class=normal>1118</span>
<span class=normal>1119</span>
<span class=normal>1120</span>
<span class=normal>1121</span>
<span class=normal>1122</span>
<span class=normal>1123</span>
<span class=normal>1124</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_remapped_colorspace_to_native</span><span class=p>(</span>
    <span class=n>ocio_colorspace_name</span><span class=p>,</span> <span class=n>host_name</span><span class=p>,</span> <span class=n>imageio_host_settings</span>
<span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return native colorspace name.</span>

<span class=sd>    Args:</span>
<span class=sd>        ocio_colorspace_name (str | None): OCIO colorspace name.</span>
<span class=sd>        host_name (str): Host name.</span>
<span class=sd>        imageio_host_settings (dict[str, Any]): ImageIO host settings.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Union[str, None]: native colorspace name defined in remapping or None</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>host_mapping</span> <span class=o>=</span> <span class=n>CachedData</span><span class=o>.</span><span class=n>remapping</span><span class=o>.</span><span class=n>setdefault</span><span class=p>(</span><span class=n>host_name</span><span class=p>,</span> <span class=p>{})</span>
    <span class=k>if</span> <span class=s2>&quot;to_native&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>host_mapping</span><span class=p>:</span>
        <span class=n>remapping_rules</span> <span class=o>=</span> <span class=n>imageio_host_settings</span><span class=p>[</span><span class=s2>&quot;remapping&quot;</span><span class=p>][</span><span class=s2>&quot;rules&quot;</span><span class=p>]</span>
        <span class=n>host_mapping</span><span class=p>[</span><span class=s2>&quot;to_native&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
            <span class=n>rule</span><span class=p>[</span><span class=s2>&quot;ocio_name&quot;</span><span class=p>]:</span> <span class=n>rule</span><span class=p>[</span><span class=s2>&quot;host_native_name&quot;</span><span class=p>]</span>
            <span class=k>for</span> <span class=n>rule</span> <span class=ow>in</span> <span class=n>remapping_rules</span>
        <span class=p>}</span>

    <span class=k>return</span> <span class=n>host_mapping</span><span class=p>[</span><span class=s2>&quot;to_native&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>ocio_colorspace_name</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.get_views_data_subprocess class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_views_data_subprocess</span><span class=p>(</span><span class=n>config_path</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>[Deprecated] Get viewers data via subprocess</p> <details class=deprecated open> <summary>Deprecated</summary> <p>Deprecated since OpenPype. Use <code>_get_wrapped_with_subprocess</code> instead.</p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>path leading to config.ocio file</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p><code>display/viewer</code> and viewer data</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1575</span>
<span class=normal>1576</span>
<span class=normal>1577</span>
<span class=normal>1578</span>
<span class=normal>1579</span>
<span class=normal>1580</span>
<span class=normal>1581</span>
<span class=normal>1582</span>
<span class=normal>1583</span>
<span class=normal>1584</span>
<span class=normal>1585</span>
<span class=normal>1586</span>
<span class=normal>1587</span>
<span class=normal>1588</span>
<span class=normal>1589</span>
<span class=normal>1590</span>
<span class=normal>1591</span>
<span class=normal>1592</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@deprecated</span><span class=p>(</span><span class=s2>&quot;_get_wrapped_with_subprocess&quot;</span><span class=p>)</span>
<span class=k>def</span><span class=w> </span><span class=nf>get_views_data_subprocess</span><span class=p>(</span><span class=n>config_path</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;[Deprecated] Get viewers data via subprocess</span>

<span class=sd>    Deprecated:</span>
<span class=sd>        Deprecated since OpenPype. Use `_get_wrapped_with_subprocess` instead.</span>

<span class=sd>    Args:</span>
<span class=sd>        config_path (str): path leading to config.ocio file</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: `display/viewer` and viewer data</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>_get_wrapped_with_subprocess</span><span class=p>(</span>
        <span class=s2>&quot;get_ocio_config_views&quot;</span><span class=p>,</span>
        <span class=n>config_path</span><span class=o>=</span><span class=n>config_path</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.has_compatible_ocio_package class="doc doc-heading"> <code class="highlight language-python"><span class=n>has_compatible_ocio_package</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Current process has available compatible 'PyOpenColorIO'.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>bool</code></td> <td> </td> <td> <div class=doc-md-description> <p>True if compatible package is available.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>has_compatible_ocio_package</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Current process has available compatible &#39;PyOpenColorIO&#39;.</span>

<span class=sd>    Returns:</span>
<span class=sd>        bool: True if compatible package is available.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>CachedData</span><span class=o>.</span><span class=n>has_compatible_ocio_package</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>CachedData</span><span class=o>.</span><span class=n>has_compatible_ocio_package</span>

    <span class=n>is_compatible</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=kn>import</span><span class=w> </span><span class=nn>PyOpenColorIO</span>

        <span class=c1># Check if PyOpenColorIO is compatible</span>
        <span class=c1># - version 2.0.0 or higher is required</span>
        <span class=c1># NOTE version 1 does not have &#39;__version__&#39; attribute</span>
        <span class=k>if</span> <span class=nb>hasattr</span><span class=p>(</span><span class=n>PyOpenColorIO</span><span class=p>,</span> <span class=s2>&quot;__version__&quot;</span><span class=p>):</span>
            <span class=n>version_parts</span> <span class=o>=</span> <span class=n>PyOpenColorIO</span><span class=o>.</span><span class=n>__version__</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;.&quot;</span><span class=p>)</span>
            <span class=n>major</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>version_parts</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
            <span class=n>is_compatible</span> <span class=o>=</span> <span class=p>(</span><span class=n>major</span><span class=p>,</span> <span class=p>)</span> <span class=o>&gt;=</span> <span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=p>)</span>
    <span class=k>except</span> <span class=ne>ImportError</span><span class=p>:</span>
        <span class=k>pass</span>

    <span class=n>CachedData</span><span class=o>.</span><span class=n>has_compatible_ocio_package</span> <span class=o>=</span> <span class=n>is_compatible</span>
    <span class=c1># compatible</span>
    <span class=k>return</span> <span class=n>CachedData</span><span class=o>.</span><span class=n>has_compatible_ocio_package</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.parse_colorspace_from_filepath class="doc doc-heading"> <code class="highlight language-python"><span class=n>parse_colorspace_from_filepath</span><span class=p>(</span><span class=n>filepath</span><span class=p>,</span> <span class=n>colorspaces</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>config_path</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Parse colorspace name from filepath</p> <p>An input path can have colorspace name used as part of name or as folder name.</p> <details class=example open> <summary>Example</summary> <blockquote> <blockquote> <blockquote> <p>config_path = "path/to/config.ocio" colorspaces = get_ocio_config_colorspaces(config_path) colorspace = parse_colorspace_from_filepath( "path/to/file/acescg/file.exr", colorspaces=colorspaces ) print(colorspace) acescg</p> </blockquote> </blockquote> </blockquote> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>filepath</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>path string</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>colorspaces</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=dict>dict</span>[<span title=str>str</span>]]</code> </td> <td> <div class=doc-md-description> <p>list of colorspaces</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>config_path</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>path to config.ocio file</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>str</code></td> <td> </td> <td> <div class=doc-md-description> <p>name of colorspace</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>331</span>
<span class=normal>332</span>
<span class=normal>333</span>
<span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span>
<span class=normal>338</span>
<span class=normal>339</span>
<span class=normal>340</span>
<span class=normal>341</span>
<span class=normal>342</span>
<span class=normal>343</span>
<span class=normal>344</span>
<span class=normal>345</span>
<span class=normal>346</span>
<span class=normal>347</span>
<span class=normal>348</span>
<span class=normal>349</span>
<span class=normal>350</span>
<span class=normal>351</span>
<span class=normal>352</span>
<span class=normal>353</span>
<span class=normal>354</span>
<span class=normal>355</span>
<span class=normal>356</span>
<span class=normal>357</span>
<span class=normal>358</span>
<span class=normal>359</span>
<span class=normal>360</span>
<span class=normal>361</span>
<span class=normal>362</span>
<span class=normal>363</span>
<span class=normal>364</span>
<span class=normal>365</span>
<span class=normal>366</span>
<span class=normal>367</span>
<span class=normal>368</span>
<span class=normal>369</span>
<span class=normal>370</span>
<span class=normal>371</span>
<span class=normal>372</span>
<span class=normal>373</span>
<span class=normal>374</span>
<span class=normal>375</span>
<span class=normal>376</span>
<span class=normal>377</span>
<span class=normal>378</span>
<span class=normal>379</span>
<span class=normal>380</span>
<span class=normal>381</span>
<span class=normal>382</span>
<span class=normal>383</span>
<span class=normal>384</span>
<span class=normal>385</span>
<span class=normal>386</span>
<span class=normal>387</span>
<span class=normal>388</span>
<span class=normal>389</span>
<span class=normal>390</span>
<span class=normal>391</span>
<span class=normal>392</span>
<span class=normal>393</span>
<span class=normal>394</span>
<span class=normal>395</span>
<span class=normal>396</span>
<span class=normal>397</span>
<span class=normal>398</span>
<span class=normal>399</span>
<span class=normal>400</span>
<span class=normal>401</span>
<span class=normal>402</span>
<span class=normal>403</span>
<span class=normal>404</span>
<span class=normal>405</span>
<span class=normal>406</span>
<span class=normal>407</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>parse_colorspace_from_filepath</span><span class=p>(</span>
    <span class=n>filepath</span><span class=p>,</span> <span class=n>colorspaces</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>config_path</span><span class=o>=</span><span class=kc>None</span>
<span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Parse colorspace name from filepath</span>

<span class=sd>    An input path can have colorspace name used as part of name</span>
<span class=sd>    or as folder name.</span>

<span class=sd>    Example:</span>
<span class=sd>        &gt;&gt;&gt; config_path = &quot;path/to/config.ocio&quot;</span>
<span class=sd>        &gt;&gt;&gt; colorspaces = get_ocio_config_colorspaces(config_path)</span>
<span class=sd>        &gt;&gt;&gt; colorspace = parse_colorspace_from_filepath(</span>
<span class=sd>                &quot;path/to/file/acescg/file.exr&quot;,</span>
<span class=sd>                colorspaces=colorspaces</span>
<span class=sd>            )</span>
<span class=sd>        &gt;&gt;&gt; print(colorspace)</span>
<span class=sd>        acescg</span>

<span class=sd>    Args:</span>
<span class=sd>        filepath (str): path string</span>
<span class=sd>        colorspaces (Optional[dict[str]]): list of colorspaces</span>
<span class=sd>        config_path (Optional[str]): path to config.ocio file</span>

<span class=sd>    Returns:</span>
<span class=sd>        str: name of colorspace</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>def</span><span class=w> </span><span class=nf>_get_colorspace_match_regex</span><span class=p>(</span><span class=n>colorspaces</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Return a regex pattern</span>

<span class=sd>        Allows to search a colorspace match in a filename</span>

<span class=sd>        Args:</span>
<span class=sd>            colorspaces (list): List of colorspace names</span>

<span class=sd>        Returns:</span>
<span class=sd>            re.Pattern: regex pattern</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>pattern</span> <span class=o>=</span> <span class=s2>&quot;|&quot;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span>
            <span class=c1># Allow to match spaces also as underscores because the</span>
            <span class=c1># integrator replaces spaces with underscores in filenames</span>
            <span class=n>re</span><span class=o>.</span><span class=n>escape</span><span class=p>(</span><span class=n>colorspace</span><span class=p>)</span>
            <span class=c1># Sort by longest first so the regex matches longer matches</span>
            <span class=c1># over smaller matches, e.g. matching &#39;Output - sRGB&#39; over &#39;sRGB&#39;</span>
            <span class=k>for</span> <span class=n>colorspace</span> <span class=ow>in</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>colorspaces</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=nb>len</span><span class=p>,</span> <span class=n>reverse</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
        <span class=p>)</span>
        <span class=k>return</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=n>pattern</span><span class=p>)</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>colorspaces</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>config_path</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
            <span class=s2>&quot;Must provide `config_path` if `colorspaces` is not provided.&quot;</span>
        <span class=p>)</span>

    <span class=n>colorspaces</span> <span class=o>=</span> <span class=p>(</span>
        <span class=n>colorspaces</span>
        <span class=ow>or</span> <span class=n>get_ocio_config_colorspaces</span><span class=p>(</span><span class=n>config_path</span><span class=p>)[</span><span class=s2>&quot;colorspaces&quot;</span><span class=p>]</span>
    <span class=p>)</span>
    <span class=n>underscored_colorspaces</span> <span class=o>=</span> <span class=p>{</span>
        <span class=n>key</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot; &quot;</span><span class=p>,</span> <span class=s2>&quot;_&quot;</span><span class=p>):</span> <span class=n>key</span> <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>colorspaces</span>
        <span class=k>if</span> <span class=s2>&quot; &quot;</span> <span class=ow>in</span> <span class=n>key</span>
    <span class=p>}</span>

    <span class=c1># match colorspace from  filepath</span>
    <span class=n>regex_pattern</span> <span class=o>=</span> <span class=n>_get_colorspace_match_regex</span><span class=p>(</span>
        <span class=nb>list</span><span class=p>(</span><span class=n>colorspaces</span><span class=p>)</span> <span class=o>+</span> <span class=nb>list</span><span class=p>(</span><span class=n>underscored_colorspaces</span><span class=p>))</span>
    <span class=n>match</span> <span class=o>=</span> <span class=n>regex_pattern</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=n>filepath</span><span class=p>)</span>
    <span class=n>colorspace</span> <span class=o>=</span> <span class=n>match</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span> <span class=k>if</span> <span class=n>match</span> <span class=k>else</span> <span class=kc>None</span>

    <span class=k>if</span> <span class=n>colorspace</span> <span class=ow>in</span> <span class=n>underscored_colorspaces</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>underscored_colorspaces</span><span class=p>[</span><span class=n>colorspace</span><span class=p>]</span>

    <span class=k>if</span> <span class=n>colorspace</span><span class=p>:</span>
        <span class=k>return</span> <span class=n>colorspace</span>

    <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;No matching colorspace in config &#39;</span><span class=si>{}</span><span class=s2>&#39; for path: &#39;</span><span class=si>{}</span><span class=s2>&#39;&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
        <span class=n>config_path</span><span class=p>,</span> <span class=n>filepath</span>
    <span class=p>))</span>
    <span class=k>return</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.set_colorspace_data_to_representation class="doc doc-heading"> <code class="highlight language-python"><span class=n>set_colorspace_data_to_representation</span><span class=p>(</span><span class=n>representation</span><span class=p>,</span> <span class=n>context_data</span><span class=p>,</span> <span class=n>colorspace</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>log</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Sets colorspace data to representation.</p> <details class=example open> <summary>Example</summary> <pre><code>{
    # for other publish plugins and loaders
    &quot;colorspace&quot;: &quot;linear&quot;,
    &quot;config&quot;: {
        # for future references in case need
        &quot;path&quot;: &quot;/abs/path/to/config.ocio&quot;,
        # for other plugins within remote publish cases
        &quot;template&quot;: &quot;{project[root]}/path/to/config.ocio&quot;
    }
}
</code></pre> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>representation</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>publishing representation</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>context_data</code> </td> <td> <code><span title=client.ayon_core.pipeline.publish.Context.data>data</span></code> </td> <td> <div class=doc-md-description> <p>publishing context data</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>colorspace</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=str>str</span>]</code> </td> <td> <div class=doc-md-description> <p>Colorspace name.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>log</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=logging.Logger>Logger</span>]</code> </td> <td> <div class=doc-md-description> <p>logger instance.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1222</span>
<span class=normal>1223</span>
<span class=normal>1224</span>
<span class=normal>1225</span>
<span class=normal>1226</span>
<span class=normal>1227</span>
<span class=normal>1228</span>
<span class=normal>1229</span>
<span class=normal>1230</span>
<span class=normal>1231</span>
<span class=normal>1232</span>
<span class=normal>1233</span>
<span class=normal>1234</span>
<span class=normal>1235</span>
<span class=normal>1236</span>
<span class=normal>1237</span>
<span class=normal>1238</span>
<span class=normal>1239</span>
<span class=normal>1240</span>
<span class=normal>1241</span>
<span class=normal>1242</span>
<span class=normal>1243</span>
<span class=normal>1244</span>
<span class=normal>1245</span>
<span class=normal>1246</span>
<span class=normal>1247</span>
<span class=normal>1248</span>
<span class=normal>1249</span>
<span class=normal>1250</span>
<span class=normal>1251</span>
<span class=normal>1252</span>
<span class=normal>1253</span>
<span class=normal>1254</span>
<span class=normal>1255</span>
<span class=normal>1256</span>
<span class=normal>1257</span>
<span class=normal>1258</span>
<span class=normal>1259</span>
<span class=normal>1260</span>
<span class=normal>1261</span>
<span class=normal>1262</span>
<span class=normal>1263</span>
<span class=normal>1264</span>
<span class=normal>1265</span>
<span class=normal>1266</span>
<span class=normal>1267</span>
<span class=normal>1268</span>
<span class=normal>1269</span>
<span class=normal>1270</span>
<span class=normal>1271</span>
<span class=normal>1272</span>
<span class=normal>1273</span>
<span class=normal>1274</span>
<span class=normal>1275</span>
<span class=normal>1276</span>
<span class=normal>1277</span>
<span class=normal>1278</span>
<span class=normal>1279</span>
<span class=normal>1280</span>
<span class=normal>1281</span>
<span class=normal>1282</span>
<span class=normal>1283</span>
<span class=normal>1284</span>
<span class=normal>1285</span>
<span class=normal>1286</span>
<span class=normal>1287</span>
<span class=normal>1288</span>
<span class=normal>1289</span>
<span class=normal>1290</span>
<span class=normal>1291</span>
<span class=normal>1292</span>
<span class=normal>1293</span>
<span class=normal>1294</span>
<span class=normal>1295</span>
<span class=normal>1296</span>
<span class=normal>1297</span>
<span class=normal>1298</span>
<span class=normal>1299</span>
<span class=normal>1300</span>
<span class=normal>1301</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>set_colorspace_data_to_representation</span><span class=p>(</span>
    <span class=n>representation</span><span class=p>,</span>
    <span class=n>context_data</span><span class=p>,</span>
    <span class=n>colorspace</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
    <span class=n>log</span><span class=o>=</span><span class=kc>None</span>
<span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets colorspace data to representation.</span>

<span class=sd>    Example:</span>
<span class=sd>        ```</span>
<span class=sd>        {</span>
<span class=sd>            # for other publish plugins and loaders</span>
<span class=sd>            &quot;colorspace&quot;: &quot;linear&quot;,</span>
<span class=sd>            &quot;config&quot;: {</span>
<span class=sd>                # for future references in case need</span>
<span class=sd>                &quot;path&quot;: &quot;/abs/path/to/config.ocio&quot;,</span>
<span class=sd>                # for other plugins within remote publish cases</span>
<span class=sd>                &quot;template&quot;: &quot;{project[root]}/path/to/config.ocio&quot;</span>
<span class=sd>            }</span>
<span class=sd>        }</span>
<span class=sd>        ```</span>

<span class=sd>    Args:</span>
<span class=sd>        representation (dict): publishing representation</span>
<span class=sd>        context_data (publish.Context.data): publishing context data</span>
<span class=sd>        colorspace (Optional[str]): Colorspace name.</span>
<span class=sd>        log (Optional[logging.Logger]): logger instance.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>log</span> <span class=o>=</span> <span class=n>log</span> <span class=ow>or</span> <span class=n>Logger</span><span class=o>.</span><span class=n>get_logger</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>

    <span class=n>file_ext</span> <span class=o>=</span> <span class=n>representation</span><span class=p>[</span><span class=s2>&quot;ext&quot;</span><span class=p>]</span>

    <span class=c1># check if `file_ext` in lower case is in CachedData.allowed_exts</span>
    <span class=k>if</span> <span class=n>file_ext</span><span class=o>.</span><span class=n>lstrip</span><span class=p>(</span><span class=s2>&quot;.&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>CachedData</span><span class=o>.</span><span class=n>allowed_exts</span><span class=p>:</span>
        <span class=n>log</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span>
            <span class=s2>&quot;Extension &#39;</span><span class=si>{}</span><span class=s2>&#39; is not in allowed extensions.&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>file_ext</span><span class=p>)</span>
        <span class=p>)</span>
        <span class=k>return</span>

    <span class=c1># get colorspace settings</span>
    <span class=n>config_data</span><span class=p>,</span> <span class=n>file_rules</span> <span class=o>=</span> <span class=n>get_colorspace_settings_from_publish_context</span><span class=p>(</span>
        <span class=n>context_data</span><span class=p>)</span>

    <span class=c1># in case host color management is not enabled</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>config_data</span><span class=p>:</span>
        <span class=n>log</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s2>&quot;Host&#39;s colorspace management is disabled.&quot;</span><span class=p>)</span>
        <span class=k>return</span>

    <span class=n>log</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;Config data is: `</span><span class=si>{}</span><span class=s2>`&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>config_data</span><span class=p>))</span>

    <span class=n>project_name</span> <span class=o>=</span> <span class=n>context_data</span><span class=p>[</span><span class=s2>&quot;projectName&quot;</span><span class=p>]</span>
    <span class=n>host_name</span> <span class=o>=</span> <span class=n>context_data</span><span class=p>[</span><span class=s2>&quot;hostName&quot;</span><span class=p>]</span>
    <span class=n>project_settings</span> <span class=o>=</span> <span class=n>context_data</span><span class=p>[</span><span class=s2>&quot;project_settings&quot;</span><span class=p>]</span>

    <span class=c1># get one filename</span>
    <span class=n>filename</span> <span class=o>=</span> <span class=n>representation</span><span class=p>[</span><span class=s2>&quot;files&quot;</span><span class=p>]</span>
    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>filename</span><span class=p>,</span> <span class=nb>list</span><span class=p>):</span>
        <span class=n>filename</span> <span class=o>=</span> <span class=n>filename</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>

    <span class=c1># get matching colorspace from rules</span>
    <span class=k>if</span> <span class=n>colorspace</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>colorspace</span> <span class=o>=</span> <span class=n>get_imageio_file_rules_colorspace_from_filepath</span><span class=p>(</span>
            <span class=n>filename</span><span class=p>,</span>
            <span class=n>host_name</span><span class=p>,</span>
            <span class=n>project_name</span><span class=p>,</span>
            <span class=n>config_data</span><span class=o>=</span><span class=n>config_data</span><span class=p>,</span>
            <span class=n>file_rules</span><span class=o>=</span><span class=n>file_rules</span><span class=p>,</span>
            <span class=n>project_settings</span><span class=o>=</span><span class=n>project_settings</span>
        <span class=p>)</span>

    <span class=c1># infuse data to representation</span>
    <span class=k>if</span> <span class=n>colorspace</span><span class=p>:</span>
        <span class=n>colorspace_data</span> <span class=o>=</span> <span class=p>{</span>
            <span class=s2>&quot;colorspace&quot;</span><span class=p>:</span> <span class=n>colorspace</span><span class=p>,</span>
            <span class=s2>&quot;config&quot;</span><span class=p>:</span> <span class=n>config_data</span>
        <span class=p>}</span>

        <span class=c1># update data key</span>
        <span class=n>representation</span><span class=p>[</span><span class=s2>&quot;colorspaceData&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>colorspace_data</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.pipeline.colorspace.validate_imageio_colorspace_in_config class="doc doc-heading"> <code class="highlight language-python"><span class=n>validate_imageio_colorspace_in_config</span><span class=p>(</span><span class=n>config_path</span><span class=p>,</span> <span class=n>colorspace_name</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Validator making sure colorspace name is used in config.ocio</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>config_path</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>path leading to config.ocio file</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>colorspace_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>tested colorspace name</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=KeyError>KeyError</span></code> </td> <td> <div class=doc-md-description> <p>missing colorspace name</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>bool</code></td> <td> </td> <td> <div class=doc-md-description> <p>True if exists</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/pipeline/colorspace.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>410</span>
<span class=normal>411</span>
<span class=normal>412</span>
<span class=normal>413</span>
<span class=normal>414</span>
<span class=normal>415</span>
<span class=normal>416</span>
<span class=normal>417</span>
<span class=normal>418</span>
<span class=normal>419</span>
<span class=normal>420</span>
<span class=normal>421</span>
<span class=normal>422</span>
<span class=normal>423</span>
<span class=normal>424</span>
<span class=normal>425</span>
<span class=normal>426</span>
<span class=normal>427</span>
<span class=normal>428</span>
<span class=normal>429</span>
<span class=normal>430</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>validate_imageio_colorspace_in_config</span><span class=p>(</span><span class=n>config_path</span><span class=p>,</span> <span class=n>colorspace_name</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Validator making sure colorspace name is used in config.ocio</span>

<span class=sd>    Args:</span>
<span class=sd>        config_path (str): path leading to config.ocio file</span>
<span class=sd>        colorspace_name (str): tested colorspace name</span>

<span class=sd>    Raises:</span>
<span class=sd>        KeyError: missing colorspace name</span>

<span class=sd>    Returns:</span>
<span class=sd>        bool: True if exists</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>colorspaces</span> <span class=o>=</span> <span class=n>get_ocio_config_colorspaces</span><span class=p>(</span><span class=n>config_path</span><span class=p>)[</span><span class=s2>&quot;colorspaces&quot;</span><span class=p>]</span>
    <span class=k>if</span> <span class=n>colorspace_name</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>colorspaces</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>KeyError</span><span class=p>(</span>
            <span class=s2>&quot;Missing colorspace &#39;</span><span class=si>{}</span><span class=s2>&#39; in config file &#39;</span><span class=si>{}</span><span class=s2>&#39;&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
                <span class=n>colorspace_name</span><span class=p>,</span> <span class=n>config_path</span><span class=p>)</span>
        <span class=p>)</span>
    <span class=k>return</span> <span class=kc>True</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../..", "features": ["navigation.sections", "navigation.path", "navigation.prune"], "search": "../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../assets/javascripts/bundle.c8b220af.min.js></script> </body> </html>