<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=prev href=border_label_widget.html><link rel=next href=create_context_widgets.html><link rel=icon href=../../../../../../img/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.8"><title>card_view_widgets - ayon-core</title><link rel=stylesheet href=../../../../../../assets/stylesheets/main.8608ea7d.min.css><link rel=stylesheet href=../../../../../../assets/stylesheets/palette.06af60db.min.css><script src=https://unpkg.com/iframe-worker/shim></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../../../css/custom.css><script>__md_scope=new URL("../../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../../../index.html title=ayon-core class="md-header__button md-logo" aria-label=ayon-core data-md-component=logo> <img src=../../../../../../img/ay-symbol-blackw-full.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ayon-core </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> card_view_widgets </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../../../index.html title=ayon-core class="md-nav__button md-logo" aria-label=ayon-core data-md-component=logo> <img src=../../../../../../img/ay-symbol-blackw-full.png alt=logo> </a> ayon-core </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../../index.html class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../license.html class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1 checked> <div class="md-nav__link md-nav__container"> <a href=../../../../index.html class="md-nav__link "> <span class=md-ellipsis> client </span> </a> <label class="md-nav__link " for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> client </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1 checked> <div class="md-nav__link md-nav__container"> <a href=../../../index.html class="md-nav__link "> <span class=md-ellipsis> ayon_core </span> </a> <label class="md-nav__link " for=__nav_3_1_1 id=__nav_3_1_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1> <span class="md-nav__icon md-icon"></span> ayon_core </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../__main__.html class=md-nav__link> <span class=md-ellipsis> __main__ </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../addon/base.html class=md-nav__link> <span class=md-ellipsis> addon </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../cli.html class=md-nav__link> <span class=md-ellipsis> cli </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../hooks/pre_add_last_workfile_arg.html class=md-nav__link> <span class=md-ellipsis> hooks </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../host/dirmap.html class=md-nav__link> <span class=md-ellipsis> host </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../lib/attribute_definitions.html class=md-nav__link> <span class=md-ellipsis> lib </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../pipeline/actions.html class=md-nav__link> <span class=md-ellipsis> pipeline </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../plugins/actions/open_file_explorer.html class=md-nav__link> <span class=md-ellipsis> plugins </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../resources/app_icons/index.html class=md-nav__link> <span class=md-ellipsis> resources </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../scripts/ocio_wrapper.html class=md-nav__link> <span class=md-ellipsis> scripts </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../settings/lib.html class=md-nav__link> <span class=md-ellipsis> settings </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../style/color_defs.html class=md-nav__link> <span class=md-ellipsis> style </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../tests/conftest.html class=md-nav__link> <span class=md-ellipsis> tests </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1_14 checked> <div class="md-nav__link md-nav__container"> <a href=../../index.html class="md-nav__link "> <span class=md-ellipsis> tools </span> </a> <label class="md-nav__link " for=__nav_3_1_1_14 id=__nav_3_1_1_14_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_1_1_14_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1_14> <span class="md-nav__icon md-icon"></span> tools </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../attribute_defs/_constants.html class=md-nav__link> <span class=md-ellipsis> attribute_defs </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../common_models/cache.html class=md-nav__link> <span class=md-ellipsis> common_models </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../console_interpreter/abstract.html class=md-nav__link> <span class=md-ellipsis> console_interpreter </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../context_dialog/window.html class=md-nav__link> <span class=md-ellipsis> context_dialog </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../creator/constants.html class=md-nav__link> <span class=md-ellipsis> creator </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../experimental_tools/dialog.html class=md-nav__link> <span class=md-ellipsis> experimental_tools </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../flickcharm.html class=md-nav__link> <span class=md-ellipsis> flickcharm </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../launcher/abstract.html class=md-nav__link> <span class=md-ellipsis> launcher </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../loader/abstract.html class=md-nav__link> <span class=md-ellipsis> loader </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1_14_10 checked> <div class="md-nav__link md-nav__container"> <a href=../index.html class="md-nav__link "> <span class=md-ellipsis> publisher </span> </a> <label class="md-nav__link " for=__nav_3_1_1_14_10 id=__nav_3_1_1_14_10_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_3_1_1_14_10_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1_14_10> <span class="md-nav__icon md-icon"></span> publisher </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../abstract.html class=md-nav__link> <span class=md-ellipsis> abstract </span> </a> </li> <li class=md-nav__item> <a href=../app.html class=md-nav__link> <span class=md-ellipsis> app </span> </a> </li> <li class=md-nav__item> <a href=../constants.html class=md-nav__link> <span class=md-ellipsis> constants </span> </a> </li> <li class=md-nav__item> <a href=../control.html class=md-nav__link> <span class=md-ellipsis> control </span> </a> </li> <li class=md-nav__item> <a href=../control_qt.html class=md-nav__link> <span class=md-ellipsis> control_qt </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../models/create.html class=md-nav__link> <span class=md-ellipsis> models </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../publish_report_viewer/constants.html class=md-nav__link> <span class=md-ellipsis> publish_report_viewer </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1_14_10_8 checked> <div class="md-nav__link md-nav__container"> <a href=index.html class="md-nav__link "> <span class=md-ellipsis> widgets </span> </a> <label class="md-nav__link " for=__nav_3_1_1_14_10_8 id=__nav_3_1_1_14_10_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=6 aria-labelledby=__nav_3_1_1_14_10_8_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1_14_10_8> <span class="md-nav__icon md-icon"></span> widgets </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=border_label_widget.html class=md-nav__link> <span class=md-ellipsis> border_label_widget </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> card_view_widgets </span> <span class="md-nav__icon md-icon"></span> </label> <a href=card_view_widgets.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> card_view_widgets </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets class=md-nav__link> <span class=md-ellipsis> card_view_widgets </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget class=md-nav__link> <span class=md-ellipsis> BaseGroupWidget </span> </a> <nav class=md-nav aria-label=BaseGroupWidget> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget.group_name class=md-nav__link> <span class=md-ellipsis> group_name </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget.get_ordered_widgets class=md-nav__link> <span class=md-ellipsis> get_ordered_widgets </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget.get_selected_item_ids class=md-nav__link> <span class=md-ellipsis> get_selected_item_ids </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget.get_selected_widgets class=md-nav__link> <span class=md-ellipsis> get_selected_widgets </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget.get_widget_by_item_id class=md-nav__link> <span class=md-ellipsis> get_widget_by_item_id </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget class=md-nav__link> <span class=md-ellipsis> CardWidget </span> </a> <nav class=md-nav aria-label=CardWidget> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget.id class=md-nav__link> <span class=md-ellipsis> id </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget.is_selected class=md-nav__link> <span class=md-ellipsis> is_selected </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget._mouse_release_callback class=md-nav__link> <span class=md-ellipsis> _mouse_release_callback </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget.set_selected class=md-nav__link> <span class=md-ellipsis> set_selected </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.ContextCardWidget class=md-nav__link> <span class=md-ellipsis> ContextCardWidget </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.ConvertorItemCardWidget class=md-nav__link> <span class=md-ellipsis> ConvertorItemCardWidget </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView class=md-nav__link> <span class=md-ellipsis> InstanceCardView </span> </a> <nav class=md-nav aria-label=InstanceCardView> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView._on_widget_selection class=md-nav__link> <span class=md-ellipsis> _on_widget_selection </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView._select_item_clear class=md-nav__link> <span class=md-ellipsis> _select_item_clear </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView._select_item_extend class=md-nav__link> <span class=md-ellipsis> _select_item_extend </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView._select_item_extend_to class=md-nav__link> <span class=md-ellipsis> _select_item_extend_to </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView.get_selected_items class=md-nav__link> <span class=md-ellipsis> get_selected_items </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView.refresh class=md-nav__link> <span class=md-ellipsis> refresh </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView.refresh_instance_states class=md-nav__link> <span class=md-ellipsis> refresh_instance_states </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView.sizeHint class=md-nav__link> <span class=md-ellipsis> sizeHint </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardWidget class=md-nav__link> <span class=md-ellipsis> InstanceCardWidget </span> </a> <nav class=md-nav aria-label=InstanceCardWidget> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardWidget._set_active class=md-nav__link> <span class=md-ellipsis> _set_active </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardWidget._update_instance_values class=md-nav__link> <span class=md-ellipsis> _update_instance_values </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardWidget.update_instance class=md-nav__link> <span class=md-ellipsis> update_instance </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceGroupWidget class=md-nav__link> <span class=md-ellipsis> InstanceGroupWidget </span> </a> <nav class=md-nav aria-label=InstanceGroupWidget> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceGroupWidget.update_instance_values class=md-nav__link> <span class=md-ellipsis> update_instance_values </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceGroupWidget.update_instances class=md-nav__link> <span class=md-ellipsis> update_instances </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=create_context_widgets.html class=md-nav__link> <span class=md-ellipsis> create_context_widgets </span> </a> </li> <li class=md-nav__item> <a href=create_widget.html class=md-nav__link> <span class=md-ellipsis> create_widget </span> </a> </li> <li class=md-nav__item> <a href=folders_dialog.html class=md-nav__link> <span class=md-ellipsis> folders_dialog </span> </a> </li> <li class=md-nav__item> <a href=help_widget.html class=md-nav__link> <span class=md-ellipsis> help_widget </span> </a> </li> <li class=md-nav__item> <a href=icons.html class=md-nav__link> <span class=md-ellipsis> icons </span> </a> </li> <li class=md-nav__item> <a href=images/index.html class=md-nav__link> <span class=md-ellipsis> images </span> </a> </li> <li class=md-nav__item> <a href=list_view_widgets.html class=md-nav__link> <span class=md-ellipsis> list_view_widgets </span> </a> </li> <li class=md-nav__item> <a href=overview_widget.html class=md-nav__link> <span class=md-ellipsis> overview_widget </span> </a> </li> <li class=md-nav__item> <a href=precreate_widget.html class=md-nav__link> <span class=md-ellipsis> precreate_widget </span> </a> </li> <li class=md-nav__item> <a href=product_attributes.html class=md-nav__link> <span class=md-ellipsis> product_attributes </span> </a> </li> <li class=md-nav__item> <a href=product_context.html class=md-nav__link> <span class=md-ellipsis> product_context </span> </a> </li> <li class=md-nav__item> <a href=product_info.html class=md-nav__link> <span class=md-ellipsis> product_info </span> </a> </li> <li class=md-nav__item> <a href=publish_frame.html class=md-nav__link> <span class=md-ellipsis> publish_frame </span> </a> </li> <li class=md-nav__item> <a href=report_page.html class=md-nav__link> <span class=md-ellipsis> report_page </span> </a> </li> <li class=md-nav__item> <a href=screenshot_widget.html class=md-nav__link> <span class=md-ellipsis> screenshot_widget </span> </a> </li> <li class=md-nav__item> <a href=tabs_widget.html class=md-nav__link> <span class=md-ellipsis> tabs_widget </span> </a> </li> <li class=md-nav__item> <a href=tasks_model.html class=md-nav__link> <span class=md-ellipsis> tasks_model </span> </a> </li> <li class=md-nav__item> <a href=thumbnail_widget.html class=md-nav__link> <span class=md-ellipsis> thumbnail_widget </span> </a> </li> <li class=md-nav__item> <a href=widgets.html class=md-nav__link> <span class=md-ellipsis> widgets </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../window.html class=md-nav__link> <span class=md-ellipsis> window </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../push_to_project/control.html class=md-nav__link> <span class=md-ellipsis> push_to_project </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../resources/images/index.html class=md-nav__link> <span class=md-ellipsis> resources </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../sceneinventory/control.html class=md-nav__link> <span class=md-ellipsis> sceneinventory </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../stdout_broker/app.html class=md-nav__link> <span class=md-ellipsis> stdout_broker </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../subsetmanager/model.html class=md-nav__link> <span class=md-ellipsis> subsetmanager </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../texture_copy/app.html class=md-nav__link> <span class=md-ellipsis> texture_copy </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../tray/lib.html class=md-nav__link> <span class=md-ellipsis> tray </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../utils/color_widgets/color_inputs.html class=md-nav__link> <span class=md-ellipsis> utils </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../workfile_template_build/lib.html class=md-nav__link> <span class=md-ellipsis> workfile_template_build </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../workfiles/abstract.html class=md-nav__link> <span class=md-ellipsis> workfiles </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../vendor/python/qargparse.html class=md-nav__link> <span class=md-ellipsis> vendor </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../version.html class=md-nav__link> <span class=md-ellipsis> version </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../server/settings/conversion.html class=md-nav__link> <span class=md-ellipsis> server </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets class=md-nav__link> <span class=md-ellipsis> card_view_widgets </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget class=md-nav__link> <span class=md-ellipsis> BaseGroupWidget </span> </a> <nav class=md-nav aria-label=BaseGroupWidget> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget.group_name class=md-nav__link> <span class=md-ellipsis> group_name </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget.get_ordered_widgets class=md-nav__link> <span class=md-ellipsis> get_ordered_widgets </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget.get_selected_item_ids class=md-nav__link> <span class=md-ellipsis> get_selected_item_ids </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget.get_selected_widgets class=md-nav__link> <span class=md-ellipsis> get_selected_widgets </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget.get_widget_by_item_id class=md-nav__link> <span class=md-ellipsis> get_widget_by_item_id </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget class=md-nav__link> <span class=md-ellipsis> CardWidget </span> </a> <nav class=md-nav aria-label=CardWidget> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget.id class=md-nav__link> <span class=md-ellipsis> id </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget.is_selected class=md-nav__link> <span class=md-ellipsis> is_selected </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget._mouse_release_callback class=md-nav__link> <span class=md-ellipsis> _mouse_release_callback </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget.set_selected class=md-nav__link> <span class=md-ellipsis> set_selected </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.ContextCardWidget class=md-nav__link> <span class=md-ellipsis> ContextCardWidget </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.ConvertorItemCardWidget class=md-nav__link> <span class=md-ellipsis> ConvertorItemCardWidget </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView class=md-nav__link> <span class=md-ellipsis> InstanceCardView </span> </a> <nav class=md-nav aria-label=InstanceCardView> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView._on_widget_selection class=md-nav__link> <span class=md-ellipsis> _on_widget_selection </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView._select_item_clear class=md-nav__link> <span class=md-ellipsis> _select_item_clear </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView._select_item_extend class=md-nav__link> <span class=md-ellipsis> _select_item_extend </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView._select_item_extend_to class=md-nav__link> <span class=md-ellipsis> _select_item_extend_to </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView.get_selected_items class=md-nav__link> <span class=md-ellipsis> get_selected_items </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView.refresh class=md-nav__link> <span class=md-ellipsis> refresh </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView.refresh_instance_states class=md-nav__link> <span class=md-ellipsis> refresh_instance_states </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView.sizeHint class=md-nav__link> <span class=md-ellipsis> sizeHint </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardWidget class=md-nav__link> <span class=md-ellipsis> InstanceCardWidget </span> </a> <nav class=md-nav aria-label=InstanceCardWidget> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardWidget._set_active class=md-nav__link> <span class=md-ellipsis> _set_active </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardWidget._update_instance_values class=md-nav__link> <span class=md-ellipsis> _update_instance_values </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardWidget.update_instance class=md-nav__link> <span class=md-ellipsis> update_instance </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceGroupWidget class=md-nav__link> <span class=md-ellipsis> InstanceGroupWidget </span> </a> <nav class=md-nav aria-label=InstanceGroupWidget> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceGroupWidget.update_instance_values class=md-nav__link> <span class=md-ellipsis> update_instance_values </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceGroupWidget.update_instances class=md-nav__link> <span class=md-ellipsis> update_instances </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>card_view_widgets</h1> <div class="doc doc-object doc-module"> <a id=client.ayon_core.tools.publisher.widgets.card_view_widgets></a> <div class="doc doc-contents first"> <p>Card view instance with more information about each instance.</p> <p>Instances are grouped under groups. Groups are defined by <code>creator_label</code> attribute on instance (Group defined by creator).</p> <p>Only one item can be selected at a time.</p> <pre><code>&lt;i&gt; : Icon. Can have Warning icon when context is not right
┌──────────────────────┐
│  Context             │
│ &lt;Group 1&gt; ────────── │
│ &lt;i&gt; &lt;Instance 1&gt;  [x]│
│ &lt;i&gt; &lt;Instance 2&gt;  [x]│
│ &lt;Group 2&gt; ────────── │
│ &lt;i&gt; &lt;Instance 3&gt;  [x]│
│ ...                  │
└──────────────────────┘
</code></pre> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget class="doc doc-heading"> <code>BaseGroupWidget</code> </h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=qtpy.QtWidgets.QWidget>QWidget</span></code></p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 56</span>
<span class=normal> 57</span>
<span class=normal> 58</span>
<span class=normal> 59</span>
<span class=normal> 60</span>
<span class=normal> 61</span>
<span class=normal> 62</span>
<span class=normal> 63</span>
<span class=normal> 64</span>
<span class=normal> 65</span>
<span class=normal> 66</span>
<span class=normal> 67</span>
<span class=normal> 68</span>
<span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span>
<span class=normal>150</span>
<span class=normal>151</span>
<span class=normal>152</span>
<span class=normal>153</span>
<span class=normal>154</span>
<span class=normal>155</span>
<span class=normal>156</span>
<span class=normal>157</span>
<span class=normal>158</span>
<span class=normal>159</span>
<span class=normal>160</span>
<span class=normal>161</span>
<span class=normal>162</span>
<span class=normal>163</span>
<span class=normal>164</span>
<span class=normal>165</span>
<span class=normal>166</span>
<span class=normal>167</span>
<span class=normal>168</span>
<span class=normal>169</span>
<span class=normal>170</span>
<span class=normal>171</span>
<span class=normal>172</span>
<span class=normal>173</span>
<span class=normal>174</span>
<span class=normal>175</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>BaseGroupWidget</span><span class=p>(</span><span class=n>QtWidgets</span><span class=o>.</span><span class=n>QWidget</span><span class=p>):</span>
    <span class=n>selected</span> <span class=o>=</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Signal</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=nb>str</span><span class=p>,</span> <span class=nb>str</span><span class=p>)</span>
    <span class=n>removed_selected</span> <span class=o>=</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Signal</span><span class=p>()</span>
    <span class=n>double_clicked</span> <span class=o>=</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Signal</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>parent</span><span class=p>):</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span>

        <span class=n>label_widget</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QLabel</span><span class=p>(</span><span class=n>group_name</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>

        <span class=n>line_widget</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QWidget</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
        <span class=n>line_widget</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;Separator&quot;</span><span class=p>)</span>
        <span class=n>line_widget</span><span class=o>.</span><span class=n>setMinimumHeight</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
        <span class=n>line_widget</span><span class=o>.</span><span class=n>setMaximumHeight</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>

        <span class=n>label_layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QHBoxLayout</span><span class=p>()</span>
        <span class=n>label_layout</span><span class=o>.</span><span class=n>setAlignment</span><span class=p>(</span><span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>AlignVCenter</span><span class=p>)</span>
        <span class=n>label_layout</span><span class=o>.</span><span class=n>setSpacing</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
        <span class=n>label_layout</span><span class=o>.</span><span class=n>setContentsMargins</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
        <span class=n>label_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>label_widget</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
        <span class=n>label_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>line_widget</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>

        <span class=n>layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QVBoxLayout</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
        <span class=n>layout</span><span class=o>.</span><span class=n>setContentsMargins</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
        <span class=n>layout</span><span class=o>.</span><span class=n>addLayout</span><span class=p>(</span><span class=n>label_layout</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_group</span> <span class=o>=</span> <span class=n>group_name</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span> <span class=o>=</span> <span class=p>{}</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_ordered_item_ids</span> <span class=o>=</span> <span class=p>[]</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_label_widget</span> <span class=o>=</span> <span class=n>label_widget</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_content_layout</span> <span class=o>=</span> <span class=n>layout</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>group_name</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Group which widget represent.</span>

<span class=sd>        Returns:</span>
<span class=sd>            str: Name of group.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_group</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_widget_by_item_id</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item_id</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get instance widget by its id.&quot;&quot;&quot;</span>

        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>item_id</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_selected_item_ids</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Selected instance ids.</span>

<span class=sd>        Returns:</span>
<span class=sd>            Set[str]: Instance ids that are selected.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=k>return</span> <span class=p>{</span>
            <span class=n>instance_id</span>
            <span class=k>for</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>widget</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=o>.</span><span class=n>items</span><span class=p>()</span>
            <span class=k>if</span> <span class=n>widget</span><span class=o>.</span><span class=n>is_selected</span>
        <span class=p>}</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_selected_widgets</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Access to widgets marked as selected.</span>

<span class=sd>        Returns:</span>
<span class=sd>            List[InstanceCardWidget]: Instance widgets that are selected.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=k>return</span> <span class=p>[</span>
            <span class=n>widget</span>
            <span class=k>for</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>widget</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=o>.</span><span class=n>items</span><span class=p>()</span>
            <span class=k>if</span> <span class=n>widget</span><span class=o>.</span><span class=n>is_selected</span>
        <span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_ordered_widgets</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get instance ids in order as are shown in ui.</span>

<span class=sd>        Returns:</span>
<span class=sd>            List[str]: Instance ids.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=k>return</span> <span class=p>[</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=p>[</span><span class=n>instance_id</span><span class=p>]</span>
            <span class=k>for</span> <span class=n>instance_id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ordered_item_ids</span>
        <span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_remove_all_except</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item_ids</span><span class=p>):</span>
        <span class=n>item_ids</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>item_ids</span><span class=p>)</span>
        <span class=c1># Remove instance widgets that are not in passed instances</span>
        <span class=k>for</span> <span class=n>item_id</span> <span class=ow>in</span> <span class=nb>tuple</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=o>.</span><span class=n>keys</span><span class=p>()):</span>
            <span class=k>if</span> <span class=n>item_id</span> <span class=ow>in</span> <span class=n>item_ids</span><span class=p>:</span>
                <span class=k>continue</span>

            <span class=n>widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=n>item_id</span><span class=p>)</span>
            <span class=k>if</span> <span class=n>widget</span><span class=o>.</span><span class=n>is_selected</span><span class=p>:</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>removed_selected</span><span class=o>.</span><span class=n>emit</span><span class=p>()</span>

            <span class=n>widget</span><span class=o>.</span><span class=n>setVisible</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_content_layout</span><span class=o>.</span><span class=n>removeWidget</span><span class=p>(</span><span class=n>widget</span><span class=p>)</span>
            <span class=n>widget</span><span class=o>.</span><span class=n>deleteLater</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_update_ordered_item_ids</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>ordered_item_ids</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=k>for</span> <span class=n>idx</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_content_layout</span><span class=o>.</span><span class=n>count</span><span class=p>()):</span>
            <span class=k>if</span> <span class=n>idx</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
                <span class=n>item</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_content_layout</span><span class=o>.</span><span class=n>itemAt</span><span class=p>(</span><span class=n>idx</span><span class=p>)</span>
                <span class=n>widget</span> <span class=o>=</span> <span class=n>item</span><span class=o>.</span><span class=n>widget</span><span class=p>()</span>
                <span class=k>if</span> <span class=n>widget</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
                    <span class=n>ordered_item_ids</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>widget</span><span class=o>.</span><span class=n>id</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_ordered_item_ids</span> <span class=o>=</span> <span class=n>ordered_item_ids</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_on_widget_selection</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>group_id</span><span class=p>,</span> <span class=n>selection_type</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>selected</span><span class=o>.</span><span class=n>emit</span><span class=p>(</span><span class=n>instance_id</span><span class=p>,</span> <span class=n>group_id</span><span class=p>,</span> <span class=n>selection_type</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>set_active_toggle_enabled</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>enabled</span><span class=p>):</span>
        <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>widget</span><span class=p>,</span> <span class=n>InstanceCardWidget</span><span class=p>):</span>
                <span class=n>widget</span><span class=o>.</span><span class=n>set_active_toggle_enabled</span><span class=p>(</span><span class=n>enabled</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget.group_name class="doc doc-heading"> <code class="highlight language-python"><span class=n>group_name</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h3> <div class="doc doc-contents "> <p>Group which widget represent.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>str</code></td> <td> </td> <td> <div class=doc-md-description> <p>Name of group.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget.get_ordered_widgets class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_ordered_widgets</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Get instance ids in order as are shown in ui.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>List[str]: Instance ids.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_ordered_widgets</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get instance ids in order as are shown in ui.</span>

<span class=sd>    Returns:</span>
<span class=sd>        List[str]: Instance ids.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>return</span> <span class=p>[</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=p>[</span><span class=n>instance_id</span><span class=p>]</span>
        <span class=k>for</span> <span class=n>instance_id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ordered_item_ids</span>
    <span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget.get_selected_item_ids class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_selected_item_ids</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Selected instance ids.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Set[str]: Instance ids that are selected.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_selected_item_ids</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Selected instance ids.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Set[str]: Instance ids that are selected.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>return</span> <span class=p>{</span>
        <span class=n>instance_id</span>
        <span class=k>for</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>widget</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=o>.</span><span class=n>items</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>widget</span><span class=o>.</span><span class=n>is_selected</span>
    <span class=p>}</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget.get_selected_widgets class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_selected_widgets</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Access to widgets marked as selected.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>List[InstanceCardWidget]: Instance widgets that are selected.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_selected_widgets</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Access to widgets marked as selected.</span>

<span class=sd>    Returns:</span>
<span class=sd>        List[InstanceCardWidget]: Instance widgets that are selected.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>return</span> <span class=p>[</span>
        <span class=n>widget</span>
        <span class=k>for</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>widget</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=o>.</span><span class=n>items</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>widget</span><span class=o>.</span><span class=n>is_selected</span>
    <span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget.get_widget_by_item_id class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_widget_by_item_id</span><span class=p>(</span><span class=n>item_id</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Get instance widget by its id.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_widget_by_item_id</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item_id</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get instance widget by its id.&quot;&quot;&quot;</span>

    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>item_id</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget class="doc doc-heading"> <code>CardWidget</code> </h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=ayon_core.tools.utils.BaseClickableFrame>BaseClickableFrame</span></code></p> <p>Clickable card used as bigger button.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>284</span>
<span class=normal>285</span>
<span class=normal>286</span>
<span class=normal>287</span>
<span class=normal>288</span>
<span class=normal>289</span>
<span class=normal>290</span>
<span class=normal>291</span>
<span class=normal>292</span>
<span class=normal>293</span>
<span class=normal>294</span>
<span class=normal>295</span>
<span class=normal>296</span>
<span class=normal>297</span>
<span class=normal>298</span>
<span class=normal>299</span>
<span class=normal>300</span>
<span class=normal>301</span>
<span class=normal>302</span>
<span class=normal>303</span>
<span class=normal>304</span>
<span class=normal>305</span>
<span class=normal>306</span>
<span class=normal>307</span>
<span class=normal>308</span>
<span class=normal>309</span>
<span class=normal>310</span>
<span class=normal>311</span>
<span class=normal>312</span>
<span class=normal>313</span>
<span class=normal>314</span>
<span class=normal>315</span>
<span class=normal>316</span>
<span class=normal>317</span>
<span class=normal>318</span>
<span class=normal>319</span>
<span class=normal>320</span>
<span class=normal>321</span>
<span class=normal>322</span>
<span class=normal>323</span>
<span class=normal>324</span>
<span class=normal>325</span>
<span class=normal>326</span>
<span class=normal>327</span>
<span class=normal>328</span>
<span class=normal>329</span>
<span class=normal>330</span>
<span class=normal>331</span>
<span class=normal>332</span>
<span class=normal>333</span>
<span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span>
<span class=normal>338</span>
<span class=normal>339</span>
<span class=normal>340</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>CardWidget</span><span class=p>(</span><span class=n>BaseClickableFrame</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Clickable card used as bigger button.&quot;&quot;&quot;</span>

    <span class=n>selected</span> <span class=o>=</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Signal</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=nb>str</span><span class=p>,</span> <span class=nb>str</span><span class=p>)</span>
    <span class=c1># Group identifier of card</span>
    <span class=c1># - this must be set because if send when mouse is released with card id</span>
    <span class=n>_group_identifier</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=n>double_clicked</span> <span class=o>=</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Signal</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span><span class=p>):</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;CardViewWidget&quot;</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_selected</span> <span class=o>=</span> <span class=kc>False</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_id</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=nf>mouseDoubleClickEvent</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>):</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>mouseDoubleClickEvent</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_is_valid_double_click</span><span class=p>(</span><span class=n>event</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>double_clicked</span><span class=o>.</span><span class=n>emit</span><span class=p>()</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>id</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Id of card.&quot;&quot;&quot;</span>

        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_id</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>is_selected</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Is card selected.&quot;&quot;&quot;</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_selected</span>

    <span class=k>def</span><span class=w> </span><span class=nf>set_selected</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>selected</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Set card as selected.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=n>selected</span> <span class=ow>is</span> <span class=bp>self</span><span class=o>.</span><span class=n>_selected</span><span class=p>:</span>
            <span class=k>return</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_selected</span> <span class=o>=</span> <span class=n>selected</span>
        <span class=n>state</span> <span class=o>=</span> <span class=s2>&quot;selected&quot;</span> <span class=k>if</span> <span class=n>selected</span> <span class=k>else</span> <span class=s2>&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>setProperty</span><span class=p>(</span><span class=s2>&quot;state&quot;</span><span class=p>,</span> <span class=n>state</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>style</span><span class=p>()</span><span class=o>.</span><span class=n>polish</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_mouse_release_callback</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Trigger selected signal.&quot;&quot;&quot;</span>

        <span class=n>modifiers</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QApplication</span><span class=o>.</span><span class=n>keyboardModifiers</span><span class=p>()</span>
        <span class=n>selection_type</span> <span class=o>=</span> <span class=n>SelectionTypes</span><span class=o>.</span><span class=n>clear</span>
        <span class=k>if</span> <span class=nb>bool</span><span class=p>(</span><span class=n>modifiers</span> <span class=o>&amp;</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>ShiftModifier</span><span class=p>):</span>
            <span class=n>selection_type</span> <span class=o>=</span> <span class=n>SelectionTypes</span><span class=o>.</span><span class=n>extend_to</span>

        <span class=k>elif</span> <span class=nb>bool</span><span class=p>(</span><span class=n>modifiers</span> <span class=o>&amp;</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>ControlModifier</span><span class=p>):</span>
            <span class=n>selection_type</span> <span class=o>=</span> <span class=n>SelectionTypes</span><span class=o>.</span><span class=n>extend</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>selected</span><span class=o>.</span><span class=n>emit</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_id</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_group_identifier</span><span class=p>,</span> <span class=n>selection_type</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_is_valid_double_click</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>):</span>
        <span class=k>return</span> <span class=kc>True</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget.id class="doc doc-heading"> <code class="highlight language-python"><span class=nb>id</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h3> <div class="doc doc-contents "> <p>Id of card.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget.is_selected class="doc doc-heading"> <code class="highlight language-python"><span class=n>is_selected</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h3> <div class="doc doc-contents "> <p>Is card selected.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget._mouse_release_callback class="doc doc-heading"> <code class="highlight language-python"><span class=n>_mouse_release_callback</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Trigger selected signal.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>326</span>
<span class=normal>327</span>
<span class=normal>328</span>
<span class=normal>329</span>
<span class=normal>330</span>
<span class=normal>331</span>
<span class=normal>332</span>
<span class=normal>333</span>
<span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_mouse_release_callback</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Trigger selected signal.&quot;&quot;&quot;</span>

    <span class=n>modifiers</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QApplication</span><span class=o>.</span><span class=n>keyboardModifiers</span><span class=p>()</span>
    <span class=n>selection_type</span> <span class=o>=</span> <span class=n>SelectionTypes</span><span class=o>.</span><span class=n>clear</span>
    <span class=k>if</span> <span class=nb>bool</span><span class=p>(</span><span class=n>modifiers</span> <span class=o>&amp;</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>ShiftModifier</span><span class=p>):</span>
        <span class=n>selection_type</span> <span class=o>=</span> <span class=n>SelectionTypes</span><span class=o>.</span><span class=n>extend_to</span>

    <span class=k>elif</span> <span class=nb>bool</span><span class=p>(</span><span class=n>modifiers</span> <span class=o>&amp;</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>ControlModifier</span><span class=p>):</span>
        <span class=n>selection_type</span> <span class=o>=</span> <span class=n>SelectionTypes</span><span class=o>.</span><span class=n>extend</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>selected</span><span class=o>.</span><span class=n>emit</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_id</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_group_identifier</span><span class=p>,</span> <span class=n>selection_type</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget.set_selected class="doc doc-heading"> <code class="highlight language-python"><span class=n>set_selected</span><span class=p>(</span><span class=n>selected</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Set card as selected.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>316</span>
<span class=normal>317</span>
<span class=normal>318</span>
<span class=normal>319</span>
<span class=normal>320</span>
<span class=normal>321</span>
<span class=normal>322</span>
<span class=normal>323</span>
<span class=normal>324</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>set_selected</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>selected</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Set card as selected.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>selected</span> <span class=ow>is</span> <span class=bp>self</span><span class=o>.</span><span class=n>_selected</span><span class=p>:</span>
        <span class=k>return</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_selected</span> <span class=o>=</span> <span class=n>selected</span>
    <span class=n>state</span> <span class=o>=</span> <span class=s2>&quot;selected&quot;</span> <span class=k>if</span> <span class=n>selected</span> <span class=k>else</span> <span class=s2>&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>setProperty</span><span class=p>(</span><span class=s2>&quot;state&quot;</span><span class=p>,</span> <span class=n>state</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>style</span><span class=p>()</span><span class=o>.</span><span class=n>polish</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.ContextCardWidget class="doc doc-heading"> <code>ContextCardWidget</code> </h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="CardWidget (client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget)" href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget>CardWidget</a></code></p> <p>Card for global context.</p> <p>Is not visually under group widget and is always at the top of card view.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>343</span>
<span class=normal>344</span>
<span class=normal>345</span>
<span class=normal>346</span>
<span class=normal>347</span>
<span class=normal>348</span>
<span class=normal>349</span>
<span class=normal>350</span>
<span class=normal>351</span>
<span class=normal>352</span>
<span class=normal>353</span>
<span class=normal>354</span>
<span class=normal>355</span>
<span class=normal>356</span>
<span class=normal>357</span>
<span class=normal>358</span>
<span class=normal>359</span>
<span class=normal>360</span>
<span class=normal>361</span>
<span class=normal>362</span>
<span class=normal>363</span>
<span class=normal>364</span>
<span class=normal>365</span>
<span class=normal>366</span>
<span class=normal>367</span>
<span class=normal>368</span>
<span class=normal>369</span>
<span class=normal>370</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>ContextCardWidget</span><span class=p>(</span><span class=n>CardWidget</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Card for global context.</span>

<span class=sd>    Is not visually under group widget and is always at the top of card view.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span><span class=p>):</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_id</span> <span class=o>=</span> <span class=n>CONTEXT_ID</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_group_identifier</span> <span class=o>=</span> <span class=n>CONTEXT_GROUP</span>

        <span class=n>icon_widget</span> <span class=o>=</span> <span class=n>PublishPixmapLabel</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
        <span class=n>icon_widget</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;ProductTypeIconLabel&quot;</span><span class=p>)</span>

        <span class=n>label_widget</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QLabel</span><span class=p>(</span><span class=n>CONTEXT_LABEL</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>

        <span class=n>icon_layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QHBoxLayout</span><span class=p>()</span>
        <span class=n>icon_layout</span><span class=o>.</span><span class=n>setContentsMargins</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
        <span class=n>icon_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>icon_widget</span><span class=p>)</span>

        <span class=n>layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QHBoxLayout</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
        <span class=n>layout</span><span class=o>.</span><span class=n>setContentsMargins</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
        <span class=n>layout</span><span class=o>.</span><span class=n>addLayout</span><span class=p>(</span><span class=n>icon_layout</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
        <span class=n>layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>label_widget</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_icon_widget</span> <span class=o>=</span> <span class=n>icon_widget</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_label_widget</span> <span class=o>=</span> <span class=n>label_widget</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.ConvertorItemCardWidget class="doc doc-heading"> <code>ConvertorItemCardWidget</code> </h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="CardWidget (client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget)" href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget>CardWidget</a></code></p> <p>Card for global context.</p> <p>Is not visually under group widget and is always at the top of card view.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>373</span>
<span class=normal>374</span>
<span class=normal>375</span>
<span class=normal>376</span>
<span class=normal>377</span>
<span class=normal>378</span>
<span class=normal>379</span>
<span class=normal>380</span>
<span class=normal>381</span>
<span class=normal>382</span>
<span class=normal>383</span>
<span class=normal>384</span>
<span class=normal>385</span>
<span class=normal>386</span>
<span class=normal>387</span>
<span class=normal>388</span>
<span class=normal>389</span>
<span class=normal>390</span>
<span class=normal>391</span>
<span class=normal>392</span>
<span class=normal>393</span>
<span class=normal>394</span>
<span class=normal>395</span>
<span class=normal>396</span>
<span class=normal>397</span>
<span class=normal>398</span>
<span class=normal>399</span>
<span class=normal>400</span>
<span class=normal>401</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>ConvertorItemCardWidget</span><span class=p>(</span><span class=n>CardWidget</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Card for global context.</span>

<span class=sd>    Is not visually under group widget and is always at the top of card view.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>item</span><span class=p>,</span> <span class=n>parent</span><span class=p>):</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_id</span> <span class=o>=</span> <span class=n>item</span><span class=o>.</span><span class=n>id</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>identifier</span> <span class=o>=</span> <span class=n>item</span><span class=o>.</span><span class=n>identifier</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_group_identifier</span> <span class=o>=</span> <span class=n>CONVERTOR_ITEM_GROUP</span>

        <span class=n>icon_widget</span> <span class=o>=</span> <span class=n>IconValuePixmapLabel</span><span class=p>(</span><span class=s2>&quot;fa.magic&quot;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
        <span class=n>icon_widget</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;ProductTypeIconLabel&quot;</span><span class=p>)</span>

        <span class=n>label_widget</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QLabel</span><span class=p>(</span><span class=n>item</span><span class=o>.</span><span class=n>label</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>

        <span class=n>icon_layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QHBoxLayout</span><span class=p>()</span>
        <span class=n>icon_layout</span><span class=o>.</span><span class=n>setContentsMargins</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
        <span class=n>icon_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>icon_widget</span><span class=p>)</span>

        <span class=n>layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QHBoxLayout</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
        <span class=n>layout</span><span class=o>.</span><span class=n>setContentsMargins</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
        <span class=n>layout</span><span class=o>.</span><span class=n>addLayout</span><span class=p>(</span><span class=n>icon_layout</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
        <span class=n>layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>label_widget</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_icon_widget</span> <span class=o>=</span> <span class=n>icon_widget</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_label_widget</span> <span class=o>=</span> <span class=n>label_widget</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView class="doc doc-heading"> <code>InstanceCardView</code> </h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="AbstractInstanceView (client.ayon_core.tools.publisher.widgets.widgets.AbstractInstanceView)" href=widgets.html#client.ayon_core.tools.publisher.widgets.widgets.AbstractInstanceView>AbstractInstanceView</a></code></p> <p>Publish access to card view.</p> <p>Wrapper of all widgets in card view.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 556</span>
<span class=normal> 557</span>
<span class=normal> 558</span>
<span class=normal> 559</span>
<span class=normal> 560</span>
<span class=normal> 561</span>
<span class=normal> 562</span>
<span class=normal> 563</span>
<span class=normal> 564</span>
<span class=normal> 565</span>
<span class=normal> 566</span>
<span class=normal> 567</span>
<span class=normal> 568</span>
<span class=normal> 569</span>
<span class=normal> 570</span>
<span class=normal> 571</span>
<span class=normal> 572</span>
<span class=normal> 573</span>
<span class=normal> 574</span>
<span class=normal> 575</span>
<span class=normal> 576</span>
<span class=normal> 577</span>
<span class=normal> 578</span>
<span class=normal> 579</span>
<span class=normal> 580</span>
<span class=normal> 581</span>
<span class=normal> 582</span>
<span class=normal> 583</span>
<span class=normal> 584</span>
<span class=normal> 585</span>
<span class=normal> 586</span>
<span class=normal> 587</span>
<span class=normal> 588</span>
<span class=normal> 589</span>
<span class=normal> 590</span>
<span class=normal> 591</span>
<span class=normal> 592</span>
<span class=normal> 593</span>
<span class=normal> 594</span>
<span class=normal> 595</span>
<span class=normal> 596</span>
<span class=normal> 597</span>
<span class=normal> 598</span>
<span class=normal> 599</span>
<span class=normal> 600</span>
<span class=normal> 601</span>
<span class=normal> 602</span>
<span class=normal> 603</span>
<span class=normal> 604</span>
<span class=normal> 605</span>
<span class=normal> 606</span>
<span class=normal> 607</span>
<span class=normal> 608</span>
<span class=normal> 609</span>
<span class=normal> 610</span>
<span class=normal> 611</span>
<span class=normal> 612</span>
<span class=normal> 613</span>
<span class=normal> 614</span>
<span class=normal> 615</span>
<span class=normal> 616</span>
<span class=normal> 617</span>
<span class=normal> 618</span>
<span class=normal> 619</span>
<span class=normal> 620</span>
<span class=normal> 621</span>
<span class=normal> 622</span>
<span class=normal> 623</span>
<span class=normal> 624</span>
<span class=normal> 625</span>
<span class=normal> 626</span>
<span class=normal> 627</span>
<span class=normal> 628</span>
<span class=normal> 629</span>
<span class=normal> 630</span>
<span class=normal> 631</span>
<span class=normal> 632</span>
<span class=normal> 633</span>
<span class=normal> 634</span>
<span class=normal> 635</span>
<span class=normal> 636</span>
<span class=normal> 637</span>
<span class=normal> 638</span>
<span class=normal> 639</span>
<span class=normal> 640</span>
<span class=normal> 641</span>
<span class=normal> 642</span>
<span class=normal> 643</span>
<span class=normal> 644</span>
<span class=normal> 645</span>
<span class=normal> 646</span>
<span class=normal> 647</span>
<span class=normal> 648</span>
<span class=normal> 649</span>
<span class=normal> 650</span>
<span class=normal> 651</span>
<span class=normal> 652</span>
<span class=normal> 653</span>
<span class=normal> 654</span>
<span class=normal> 655</span>
<span class=normal> 656</span>
<span class=normal> 657</span>
<span class=normal> 658</span>
<span class=normal> 659</span>
<span class=normal> 660</span>
<span class=normal> 661</span>
<span class=normal> 662</span>
<span class=normal> 663</span>
<span class=normal> 664</span>
<span class=normal> 665</span>
<span class=normal> 666</span>
<span class=normal> 667</span>
<span class=normal> 668</span>
<span class=normal> 669</span>
<span class=normal> 670</span>
<span class=normal> 671</span>
<span class=normal> 672</span>
<span class=normal> 673</span>
<span class=normal> 674</span>
<span class=normal> 675</span>
<span class=normal> 676</span>
<span class=normal> 677</span>
<span class=normal> 678</span>
<span class=normal> 679</span>
<span class=normal> 680</span>
<span class=normal> 681</span>
<span class=normal> 682</span>
<span class=normal> 683</span>
<span class=normal> 684</span>
<span class=normal> 685</span>
<span class=normal> 686</span>
<span class=normal> 687</span>
<span class=normal> 688</span>
<span class=normal> 689</span>
<span class=normal> 690</span>
<span class=normal> 691</span>
<span class=normal> 692</span>
<span class=normal> 693</span>
<span class=normal> 694</span>
<span class=normal> 695</span>
<span class=normal> 696</span>
<span class=normal> 697</span>
<span class=normal> 698</span>
<span class=normal> 699</span>
<span class=normal> 700</span>
<span class=normal> 701</span>
<span class=normal> 702</span>
<span class=normal> 703</span>
<span class=normal> 704</span>
<span class=normal> 705</span>
<span class=normal> 706</span>
<span class=normal> 707</span>
<span class=normal> 708</span>
<span class=normal> 709</span>
<span class=normal> 710</span>
<span class=normal> 711</span>
<span class=normal> 712</span>
<span class=normal> 713</span>
<span class=normal> 714</span>
<span class=normal> 715</span>
<span class=normal> 716</span>
<span class=normal> 717</span>
<span class=normal> 718</span>
<span class=normal> 719</span>
<span class=normal> 720</span>
<span class=normal> 721</span>
<span class=normal> 722</span>
<span class=normal> 723</span>
<span class=normal> 724</span>
<span class=normal> 725</span>
<span class=normal> 726</span>
<span class=normal> 727</span>
<span class=normal> 728</span>
<span class=normal> 729</span>
<span class=normal> 730</span>
<span class=normal> 731</span>
<span class=normal> 732</span>
<span class=normal> 733</span>
<span class=normal> 734</span>
<span class=normal> 735</span>
<span class=normal> 736</span>
<span class=normal> 737</span>
<span class=normal> 738</span>
<span class=normal> 739</span>
<span class=normal> 740</span>
<span class=normal> 741</span>
<span class=normal> 742</span>
<span class=normal> 743</span>
<span class=normal> 744</span>
<span class=normal> 745</span>
<span class=normal> 746</span>
<span class=normal> 747</span>
<span class=normal> 748</span>
<span class=normal> 749</span>
<span class=normal> 750</span>
<span class=normal> 751</span>
<span class=normal> 752</span>
<span class=normal> 753</span>
<span class=normal> 754</span>
<span class=normal> 755</span>
<span class=normal> 756</span>
<span class=normal> 757</span>
<span class=normal> 758</span>
<span class=normal> 759</span>
<span class=normal> 760</span>
<span class=normal> 761</span>
<span class=normal> 762</span>
<span class=normal> 763</span>
<span class=normal> 764</span>
<span class=normal> 765</span>
<span class=normal> 766</span>
<span class=normal> 767</span>
<span class=normal> 768</span>
<span class=normal> 769</span>
<span class=normal> 770</span>
<span class=normal> 771</span>
<span class=normal> 772</span>
<span class=normal> 773</span>
<span class=normal> 774</span>
<span class=normal> 775</span>
<span class=normal> 776</span>
<span class=normal> 777</span>
<span class=normal> 778</span>
<span class=normal> 779</span>
<span class=normal> 780</span>
<span class=normal> 781</span>
<span class=normal> 782</span>
<span class=normal> 783</span>
<span class=normal> 784</span>
<span class=normal> 785</span>
<span class=normal> 786</span>
<span class=normal> 787</span>
<span class=normal> 788</span>
<span class=normal> 789</span>
<span class=normal> 790</span>
<span class=normal> 791</span>
<span class=normal> 792</span>
<span class=normal> 793</span>
<span class=normal> 794</span>
<span class=normal> 795</span>
<span class=normal> 796</span>
<span class=normal> 797</span>
<span class=normal> 798</span>
<span class=normal> 799</span>
<span class=normal> 800</span>
<span class=normal> 801</span>
<span class=normal> 802</span>
<span class=normal> 803</span>
<span class=normal> 804</span>
<span class=normal> 805</span>
<span class=normal> 806</span>
<span class=normal> 807</span>
<span class=normal> 808</span>
<span class=normal> 809</span>
<span class=normal> 810</span>
<span class=normal> 811</span>
<span class=normal> 812</span>
<span class=normal> 813</span>
<span class=normal> 814</span>
<span class=normal> 815</span>
<span class=normal> 816</span>
<span class=normal> 817</span>
<span class=normal> 818</span>
<span class=normal> 819</span>
<span class=normal> 820</span>
<span class=normal> 821</span>
<span class=normal> 822</span>
<span class=normal> 823</span>
<span class=normal> 824</span>
<span class=normal> 825</span>
<span class=normal> 826</span>
<span class=normal> 827</span>
<span class=normal> 828</span>
<span class=normal> 829</span>
<span class=normal> 830</span>
<span class=normal> 831</span>
<span class=normal> 832</span>
<span class=normal> 833</span>
<span class=normal> 834</span>
<span class=normal> 835</span>
<span class=normal> 836</span>
<span class=normal> 837</span>
<span class=normal> 838</span>
<span class=normal> 839</span>
<span class=normal> 840</span>
<span class=normal> 841</span>
<span class=normal> 842</span>
<span class=normal> 843</span>
<span class=normal> 844</span>
<span class=normal> 845</span>
<span class=normal> 846</span>
<span class=normal> 847</span>
<span class=normal> 848</span>
<span class=normal> 849</span>
<span class=normal> 850</span>
<span class=normal> 851</span>
<span class=normal> 852</span>
<span class=normal> 853</span>
<span class=normal> 854</span>
<span class=normal> 855</span>
<span class=normal> 856</span>
<span class=normal> 857</span>
<span class=normal> 858</span>
<span class=normal> 859</span>
<span class=normal> 860</span>
<span class=normal> 861</span>
<span class=normal> 862</span>
<span class=normal> 863</span>
<span class=normal> 864</span>
<span class=normal> 865</span>
<span class=normal> 866</span>
<span class=normal> 867</span>
<span class=normal> 868</span>
<span class=normal> 869</span>
<span class=normal> 870</span>
<span class=normal> 871</span>
<span class=normal> 872</span>
<span class=normal> 873</span>
<span class=normal> 874</span>
<span class=normal> 875</span>
<span class=normal> 876</span>
<span class=normal> 877</span>
<span class=normal> 878</span>
<span class=normal> 879</span>
<span class=normal> 880</span>
<span class=normal> 881</span>
<span class=normal> 882</span>
<span class=normal> 883</span>
<span class=normal> 884</span>
<span class=normal> 885</span>
<span class=normal> 886</span>
<span class=normal> 887</span>
<span class=normal> 888</span>
<span class=normal> 889</span>
<span class=normal> 890</span>
<span class=normal> 891</span>
<span class=normal> 892</span>
<span class=normal> 893</span>
<span class=normal> 894</span>
<span class=normal> 895</span>
<span class=normal> 896</span>
<span class=normal> 897</span>
<span class=normal> 898</span>
<span class=normal> 899</span>
<span class=normal> 900</span>
<span class=normal> 901</span>
<span class=normal> 902</span>
<span class=normal> 903</span>
<span class=normal> 904</span>
<span class=normal> 905</span>
<span class=normal> 906</span>
<span class=normal> 907</span>
<span class=normal> 908</span>
<span class=normal> 909</span>
<span class=normal> 910</span>
<span class=normal> 911</span>
<span class=normal> 912</span>
<span class=normal> 913</span>
<span class=normal> 914</span>
<span class=normal> 915</span>
<span class=normal> 916</span>
<span class=normal> 917</span>
<span class=normal> 918</span>
<span class=normal> 919</span>
<span class=normal> 920</span>
<span class=normal> 921</span>
<span class=normal> 922</span>
<span class=normal> 923</span>
<span class=normal> 924</span>
<span class=normal> 925</span>
<span class=normal> 926</span>
<span class=normal> 927</span>
<span class=normal> 928</span>
<span class=normal> 929</span>
<span class=normal> 930</span>
<span class=normal> 931</span>
<span class=normal> 932</span>
<span class=normal> 933</span>
<span class=normal> 934</span>
<span class=normal> 935</span>
<span class=normal> 936</span>
<span class=normal> 937</span>
<span class=normal> 938</span>
<span class=normal> 939</span>
<span class=normal> 940</span>
<span class=normal> 941</span>
<span class=normal> 942</span>
<span class=normal> 943</span>
<span class=normal> 944</span>
<span class=normal> 945</span>
<span class=normal> 946</span>
<span class=normal> 947</span>
<span class=normal> 948</span>
<span class=normal> 949</span>
<span class=normal> 950</span>
<span class=normal> 951</span>
<span class=normal> 952</span>
<span class=normal> 953</span>
<span class=normal> 954</span>
<span class=normal> 955</span>
<span class=normal> 956</span>
<span class=normal> 957</span>
<span class=normal> 958</span>
<span class=normal> 959</span>
<span class=normal> 960</span>
<span class=normal> 961</span>
<span class=normal> 962</span>
<span class=normal> 963</span>
<span class=normal> 964</span>
<span class=normal> 965</span>
<span class=normal> 966</span>
<span class=normal> 967</span>
<span class=normal> 968</span>
<span class=normal> 969</span>
<span class=normal> 970</span>
<span class=normal> 971</span>
<span class=normal> 972</span>
<span class=normal> 973</span>
<span class=normal> 974</span>
<span class=normal> 975</span>
<span class=normal> 976</span>
<span class=normal> 977</span>
<span class=normal> 978</span>
<span class=normal> 979</span>
<span class=normal> 980</span>
<span class=normal> 981</span>
<span class=normal> 982</span>
<span class=normal> 983</span>
<span class=normal> 984</span>
<span class=normal> 985</span>
<span class=normal> 986</span>
<span class=normal> 987</span>
<span class=normal> 988</span>
<span class=normal> 989</span>
<span class=normal> 990</span>
<span class=normal> 991</span>
<span class=normal> 992</span>
<span class=normal> 993</span>
<span class=normal> 994</span>
<span class=normal> 995</span>
<span class=normal> 996</span>
<span class=normal> 997</span>
<span class=normal> 998</span>
<span class=normal> 999</span>
<span class=normal>1000</span>
<span class=normal>1001</span>
<span class=normal>1002</span>
<span class=normal>1003</span>
<span class=normal>1004</span>
<span class=normal>1005</span>
<span class=normal>1006</span>
<span class=normal>1007</span>
<span class=normal>1008</span>
<span class=normal>1009</span>
<span class=normal>1010</span>
<span class=normal>1011</span>
<span class=normal>1012</span>
<span class=normal>1013</span>
<span class=normal>1014</span>
<span class=normal>1015</span>
<span class=normal>1016</span>
<span class=normal>1017</span>
<span class=normal>1018</span>
<span class=normal>1019</span>
<span class=normal>1020</span>
<span class=normal>1021</span>
<span class=normal>1022</span>
<span class=normal>1023</span>
<span class=normal>1024</span>
<span class=normal>1025</span>
<span class=normal>1026</span>
<span class=normal>1027</span>
<span class=normal>1028</span>
<span class=normal>1029</span>
<span class=normal>1030</span>
<span class=normal>1031</span>
<span class=normal>1032</span>
<span class=normal>1033</span>
<span class=normal>1034</span>
<span class=normal>1035</span>
<span class=normal>1036</span>
<span class=normal>1037</span>
<span class=normal>1038</span>
<span class=normal>1039</span>
<span class=normal>1040</span>
<span class=normal>1041</span>
<span class=normal>1042</span>
<span class=normal>1043</span>
<span class=normal>1044</span>
<span class=normal>1045</span>
<span class=normal>1046</span>
<span class=normal>1047</span>
<span class=normal>1048</span>
<span class=normal>1049</span>
<span class=normal>1050</span>
<span class=normal>1051</span>
<span class=normal>1052</span>
<span class=normal>1053</span>
<span class=normal>1054</span>
<span class=normal>1055</span>
<span class=normal>1056</span>
<span class=normal>1057</span>
<span class=normal>1058</span>
<span class=normal>1059</span>
<span class=normal>1060</span>
<span class=normal>1061</span>
<span class=normal>1062</span>
<span class=normal>1063</span>
<span class=normal>1064</span>
<span class=normal>1065</span>
<span class=normal>1066</span>
<span class=normal>1067</span>
<span class=normal>1068</span>
<span class=normal>1069</span>
<span class=normal>1070</span>
<span class=normal>1071</span>
<span class=normal>1072</span>
<span class=normal>1073</span>
<span class=normal>1074</span>
<span class=normal>1075</span>
<span class=normal>1076</span>
<span class=normal>1077</span>
<span class=normal>1078</span>
<span class=normal>1079</span>
<span class=normal>1080</span>
<span class=normal>1081</span>
<span class=normal>1082</span>
<span class=normal>1083</span>
<span class=normal>1084</span>
<span class=normal>1085</span>
<span class=normal>1086</span>
<span class=normal>1087</span>
<span class=normal>1088</span>
<span class=normal>1089</span>
<span class=normal>1090</span>
<span class=normal>1091</span>
<span class=normal>1092</span>
<span class=normal>1093</span>
<span class=normal>1094</span>
<span class=normal>1095</span>
<span class=normal>1096</span>
<span class=normal>1097</span>
<span class=normal>1098</span>
<span class=normal>1099</span>
<span class=normal>1100</span>
<span class=normal>1101</span>
<span class=normal>1102</span>
<span class=normal>1103</span>
<span class=normal>1104</span>
<span class=normal>1105</span>
<span class=normal>1106</span>
<span class=normal>1107</span>
<span class=normal>1108</span>
<span class=normal>1109</span>
<span class=normal>1110</span>
<span class=normal>1111</span>
<span class=normal>1112</span>
<span class=normal>1113</span>
<span class=normal>1114</span>
<span class=normal>1115</span>
<span class=normal>1116</span>
<span class=normal>1117</span>
<span class=normal>1118</span>
<span class=normal>1119</span>
<span class=normal>1120</span>
<span class=normal>1121</span>
<span class=normal>1122</span>
<span class=normal>1123</span>
<span class=normal>1124</span>
<span class=normal>1125</span>
<span class=normal>1126</span>
<span class=normal>1127</span>
<span class=normal>1128</span>
<span class=normal>1129</span>
<span class=normal>1130</span>
<span class=normal>1131</span>
<span class=normal>1132</span>
<span class=normal>1133</span>
<span class=normal>1134</span>
<span class=normal>1135</span>
<span class=normal>1136</span>
<span class=normal>1137</span>
<span class=normal>1138</span>
<span class=normal>1139</span>
<span class=normal>1140</span>
<span class=normal>1141</span>
<span class=normal>1142</span>
<span class=normal>1143</span>
<span class=normal>1144</span>
<span class=normal>1145</span>
<span class=normal>1146</span>
<span class=normal>1147</span>
<span class=normal>1148</span>
<span class=normal>1149</span>
<span class=normal>1150</span>
<span class=normal>1151</span>
<span class=normal>1152</span>
<span class=normal>1153</span>
<span class=normal>1154</span>
<span class=normal>1155</span>
<span class=normal>1156</span>
<span class=normal>1157</span>
<span class=normal>1158</span>
<span class=normal>1159</span>
<span class=normal>1160</span>
<span class=normal>1161</span>
<span class=normal>1162</span>
<span class=normal>1163</span>
<span class=normal>1164</span>
<span class=normal>1165</span>
<span class=normal>1166</span>
<span class=normal>1167</span>
<span class=normal>1168</span>
<span class=normal>1169</span>
<span class=normal>1170</span>
<span class=normal>1171</span>
<span class=normal>1172</span>
<span class=normal>1173</span>
<span class=normal>1174</span>
<span class=normal>1175</span>
<span class=normal>1176</span>
<span class=normal>1177</span>
<span class=normal>1178</span>
<span class=normal>1179</span>
<span class=normal>1180</span>
<span class=normal>1181</span>
<span class=normal>1182</span>
<span class=normal>1183</span>
<span class=normal>1184</span>
<span class=normal>1185</span>
<span class=normal>1186</span>
<span class=normal>1187</span>
<span class=normal>1188</span>
<span class=normal>1189</span>
<span class=normal>1190</span>
<span class=normal>1191</span>
<span class=normal>1192</span>
<span class=normal>1193</span>
<span class=normal>1194</span>
<span class=normal>1195</span>
<span class=normal>1196</span>
<span class=normal>1197</span>
<span class=normal>1198</span>
<span class=normal>1199</span>
<span class=normal>1200</span>
<span class=normal>1201</span>
<span class=normal>1202</span>
<span class=normal>1203</span>
<span class=normal>1204</span>
<span class=normal>1205</span>
<span class=normal>1206</span>
<span class=normal>1207</span>
<span class=normal>1208</span>
<span class=normal>1209</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>InstanceCardView</span><span class=p>(</span><span class=n>AbstractInstanceView</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Publish access to card view.</span>

<span class=sd>    Wrapper of all widgets in card view.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>double_clicked</span> <span class=o>=</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Signal</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>controller</span><span class=p>,</span> <span class=n>parent</span><span class=p>):</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_controller</span><span class=p>:</span> <span class=n>AbstractPublisherFrontend</span> <span class=o>=</span> <span class=n>controller</span>

        <span class=n>scroll_area</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QScrollArea</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
        <span class=n>scroll_area</span><span class=o>.</span><span class=n>setWidgetResizable</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>
        <span class=n>scroll_area</span><span class=o>.</span><span class=n>setHorizontalScrollBarPolicy</span><span class=p>(</span><span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>ScrollBarAlwaysOff</span><span class=p>)</span>
        <span class=n>scroll_area</span><span class=o>.</span><span class=n>setVerticalScrollBarPolicy</span><span class=p>(</span><span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>ScrollBarAsNeeded</span><span class=p>)</span>
        <span class=n>scrollbar_bg</span> <span class=o>=</span> <span class=n>scroll_area</span><span class=o>.</span><span class=n>verticalScrollBar</span><span class=p>()</span><span class=o>.</span><span class=n>parent</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>scrollbar_bg</span><span class=p>:</span>
            <span class=n>scrollbar_bg</span><span class=o>.</span><span class=n>setAttribute</span><span class=p>(</span><span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>WA_TranslucentBackground</span><span class=p>)</span>
        <span class=n>scroll_area</span><span class=o>.</span><span class=n>setViewportMargins</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>

        <span class=n>content_widget</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QWidget</span><span class=p>(</span><span class=n>scroll_area</span><span class=p>)</span>

        <span class=n>scroll_area</span><span class=o>.</span><span class=n>setWidget</span><span class=p>(</span><span class=n>content_widget</span><span class=p>)</span>

        <span class=n>content_layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QVBoxLayout</span><span class=p>(</span><span class=n>content_widget</span><span class=p>)</span>
        <span class=n>content_layout</span><span class=o>.</span><span class=n>setContentsMargins</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
        <span class=n>content_layout</span><span class=o>.</span><span class=n>addStretch</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>

        <span class=n>layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QVBoxLayout</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
        <span class=n>layout</span><span class=o>.</span><span class=n>setContentsMargins</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
        <span class=n>layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>scroll_area</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_scroll_area</span> <span class=o>=</span> <span class=n>scroll_area</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_content_layout</span> <span class=o>=</span> <span class=n>content_layout</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_content_widget</span> <span class=o>=</span> <span class=n>content_widget</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_context_widget</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_active_toggle_enabled</span> <span class=o>=</span> <span class=kc>True</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=p>:</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>InstanceGroupWidget</span><span class=p>]</span> <span class=o>=</span> <span class=p>{}</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_ordered_groups</span> <span class=o>=</span> <span class=p>[]</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span> <span class=o>=</span> <span class=p>[]</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>setSizePolicy</span><span class=p>(</span>
            <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QSizePolicy</span><span class=o>.</span><span class=n>Minimum</span><span class=p>,</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>sizePolicy</span><span class=p>()</span><span class=o>.</span><span class=n>verticalPolicy</span><span class=p>()</span>
        <span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>sizeHint</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Modify sizeHint based on visibility of scroll bars.&quot;&quot;&quot;</span>
        <span class=c1># Calculate width hint by content widget and vertical scroll bar</span>
        <span class=n>scroll_bar</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_scroll_area</span><span class=o>.</span><span class=n>verticalScrollBar</span><span class=p>()</span>
        <span class=n>width</span> <span class=o>=</span> <span class=p>(</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_content_widget</span><span class=o>.</span><span class=n>sizeHint</span><span class=p>()</span><span class=o>.</span><span class=n>width</span><span class=p>()</span>
            <span class=o>+</span> <span class=n>scroll_bar</span><span class=o>.</span><span class=n>sizeHint</span><span class=p>()</span><span class=o>.</span><span class=n>width</span><span class=p>()</span>
        <span class=p>)</span>

        <span class=n>result</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>sizeHint</span><span class=p>()</span>
        <span class=n>result</span><span class=o>.</span><span class=n>setWidth</span><span class=p>(</span><span class=n>width</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>result</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_toggle_instances</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_active_toggle_enabled</span><span class=p>:</span>
            <span class=k>return</span>

        <span class=n>widgets</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_selected_widgets</span><span class=p>()</span>
        <span class=n>active_state_by_id</span> <span class=o>=</span> <span class=p>{}</span>
        <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>widgets</span><span class=p>:</span>
            <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>widget</span><span class=p>,</span> <span class=n>InstanceCardWidget</span><span class=p>):</span>
                <span class=k>continue</span>

            <span class=n>instance_id</span> <span class=o>=</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span>
            <span class=n>is_active</span> <span class=o>=</span> <span class=n>widget</span><span class=o>.</span><span class=n>is_active</span>
            <span class=k>if</span> <span class=n>value</span> <span class=o>==</span> <span class=o>-</span><span class=mi>1</span><span class=p>:</span>
                <span class=n>active_state_by_id</span><span class=p>[</span><span class=n>instance_id</span><span class=p>]</span> <span class=o>=</span> <span class=ow>not</span> <span class=n>is_active</span>
                <span class=k>continue</span>

            <span class=n>_value</span> <span class=o>=</span> <span class=nb>bool</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
            <span class=k>if</span> <span class=n>is_active</span> <span class=ow>is</span> <span class=ow>not</span> <span class=n>_value</span><span class=p>:</span>
                <span class=n>active_state_by_id</span><span class=p>[</span><span class=n>instance_id</span><span class=p>]</span> <span class=o>=</span> <span class=n>_value</span>

        <span class=k>if</span> <span class=ow>not</span> <span class=n>active_state_by_id</span><span class=p>:</span>
            <span class=k>return</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_controller</span><span class=o>.</span><span class=n>set_instances_active_state</span><span class=p>(</span><span class=n>active_state_by_id</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>keyPressEvent</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>event</span><span class=o>.</span><span class=n>key</span><span class=p>()</span> <span class=o>==</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>Key_Space</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_toggle_instances</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
            <span class=k>return</span> <span class=kc>True</span>

        <span class=k>elif</span> <span class=n>event</span><span class=o>.</span><span class=n>key</span><span class=p>()</span> <span class=o>==</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>Key_Backspace</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_toggle_instances</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
            <span class=k>return</span> <span class=kc>True</span>

        <span class=k>elif</span> <span class=n>event</span><span class=o>.</span><span class=n>key</span><span class=p>()</span> <span class=o>==</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>Key_Return</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_toggle_instances</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
            <span class=k>return</span> <span class=kc>True</span>

        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>keyPressEvent</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_get_selected_widgets</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>output</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=k>if</span> <span class=p>(</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_context_widget</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span>
            <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>_context_widget</span><span class=o>.</span><span class=n>is_selected</span>
        <span class=p>):</span>
            <span class=n>output</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_context_widget</span><span class=p>)</span>

        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>output</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span><span class=o>.</span><span class=n>get_selected_widgets</span><span class=p>())</span>

        <span class=k>for</span> <span class=n>group_widget</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
            <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>group_widget</span><span class=o>.</span><span class=n>get_selected_widgets</span><span class=p>():</span>
                <span class=n>output</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>widget</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>output</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_get_selected_instance_ids</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>output</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=k>if</span> <span class=p>(</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_context_widget</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span>
            <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>_context_widget</span><span class=o>.</span><span class=n>is_selected</span>
        <span class=p>):</span>
            <span class=n>output</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>CONTEXT_ID</span><span class=p>)</span>

        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>output</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span><span class=o>.</span><span class=n>get_selected_item_ids</span><span class=p>())</span>

        <span class=k>for</span> <span class=n>group_widget</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
            <span class=n>output</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>group_widget</span><span class=o>.</span><span class=n>get_selected_item_ids</span><span class=p>())</span>
        <span class=k>return</span> <span class=n>output</span>

    <span class=k>def</span><span class=w> </span><span class=nf>refresh</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Refresh instances in view based on CreatedContext.&quot;&quot;&quot;</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_make_sure_context_widget_exists</span><span class=p>()</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_update_convertor_items_group</span><span class=p>()</span>

        <span class=n>context_info_by_id</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_controller</span><span class=o>.</span><span class=n>get_instances_context_info</span><span class=p>()</span>

        <span class=c1># Prepare instances by group and identifiers by group</span>
        <span class=n>instances_by_group</span> <span class=o>=</span> <span class=n>collections</span><span class=o>.</span><span class=n>defaultdict</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
        <span class=n>identifiers_by_group</span> <span class=o>=</span> <span class=n>collections</span><span class=o>.</span><span class=n>defaultdict</span><span class=p>(</span><span class=nb>set</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>instance</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_controller</span><span class=o>.</span><span class=n>get_instance_items</span><span class=p>():</span>
            <span class=n>group_name</span> <span class=o>=</span> <span class=n>instance</span><span class=o>.</span><span class=n>group_label</span>
            <span class=n>instances_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>instance</span><span class=p>)</span>
            <span class=n>identifiers_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>]</span><span class=o>.</span><span class=n>add</span><span class=p>(</span>
                <span class=n>instance</span><span class=o>.</span><span class=n>creator_identifier</span>
            <span class=p>)</span>

        <span class=c1># Remove groups that were not found in apassed instances</span>
        <span class=k>for</span> <span class=n>group_name</span> <span class=ow>in</span> <span class=nb>tuple</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=o>.</span><span class=n>keys</span><span class=p>()):</span>
            <span class=k>if</span> <span class=n>group_name</span> <span class=ow>in</span> <span class=n>instances_by_group</span><span class=p>:</span>
                <span class=k>continue</span>

            <span class=n>widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=n>group_name</span><span class=p>)</span>
            <span class=n>widget</span><span class=o>.</span><span class=n>setVisible</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_content_layout</span><span class=o>.</span><span class=n>removeWidget</span><span class=p>(</span><span class=n>widget</span><span class=p>)</span>
            <span class=n>widget</span><span class=o>.</span><span class=n>deleteLater</span><span class=p>()</span>

            <span class=k>if</span> <span class=n>group_name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span><span class=p>:</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>group_name</span><span class=p>)</span>

        <span class=c1># Sort groups</span>
        <span class=n>sorted_group_names</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>sorted</span><span class=p>(</span><span class=n>instances_by_group</span><span class=o>.</span><span class=n>keys</span><span class=p>()))</span>

        <span class=c1># Keep track of widget indexes</span>
        <span class=c1># - we start with 1 because Context item as at the top</span>
        <span class=n>widget_idx</span> <span class=o>=</span> <span class=mi>1</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>widget_idx</span> <span class=o>+=</span> <span class=mi>1</span>

        <span class=k>for</span> <span class=n>group_name</span> <span class=ow>in</span> <span class=n>sorted_group_names</span><span class=p>:</span>
            <span class=n>group_icons</span> <span class=o>=</span> <span class=p>{</span>
                <span class=n>identifier</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>_controller</span><span class=o>.</span><span class=n>get_creator_icon</span><span class=p>(</span><span class=n>identifier</span><span class=p>)</span>
                <span class=k>for</span> <span class=n>identifier</span> <span class=ow>in</span> <span class=n>identifiers_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>]</span>
            <span class=p>}</span>
            <span class=k>if</span> <span class=n>group_name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=p>:</span>
                <span class=n>group_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>]</span>
                <span class=n>group_widget</span><span class=o>.</span><span class=n>update_icons</span><span class=p>(</span><span class=n>group_icons</span><span class=p>)</span>

            <span class=k>else</span><span class=p>:</span>
                <span class=n>group_widget</span> <span class=o>=</span> <span class=n>InstanceGroupWidget</span><span class=p>(</span>
                    <span class=n>group_icons</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_content_widget</span>
                <span class=p>)</span>
                <span class=n>group_widget</span><span class=o>.</span><span class=n>active_changed</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_on_active_changed</span><span class=p>)</span>
                <span class=n>group_widget</span><span class=o>.</span><span class=n>selected</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_on_widget_selection</span><span class=p>)</span>
                <span class=n>group_widget</span><span class=o>.</span><span class=n>double_clicked</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>double_clicked</span><span class=p>)</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>_content_layout</span><span class=o>.</span><span class=n>insertWidget</span><span class=p>(</span><span class=n>widget_idx</span><span class=p>,</span> <span class=n>group_widget</span><span class=p>)</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>group_widget</span>

            <span class=n>widget_idx</span> <span class=o>+=</span> <span class=mi>1</span>
            <span class=n>group_widget</span><span class=o>.</span><span class=n>update_instances</span><span class=p>(</span>
                <span class=n>instances_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>],</span> <span class=n>context_info_by_id</span>
            <span class=p>)</span>
            <span class=n>group_widget</span><span class=o>.</span><span class=n>set_active_toggle_enabled</span><span class=p>(</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>_active_toggle_enabled</span>
            <span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_update_ordered_group_names</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>has_items</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span> <span class=kc>True</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=p>:</span>
            <span class=k>return</span> <span class=kc>True</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_update_ordered_group_names</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>ordered_group_names</span> <span class=o>=</span> <span class=p>[</span><span class=n>CONTEXT_GROUP</span><span class=p>]</span>
        <span class=k>for</span> <span class=n>idx</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_content_layout</span><span class=o>.</span><span class=n>count</span><span class=p>()):</span>
            <span class=k>if</span> <span class=n>idx</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
                <span class=n>item</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_content_layout</span><span class=o>.</span><span class=n>itemAt</span><span class=p>(</span><span class=n>idx</span><span class=p>)</span>
                <span class=n>group_widget</span> <span class=o>=</span> <span class=n>item</span><span class=o>.</span><span class=n>widget</span><span class=p>()</span>
                <span class=k>if</span> <span class=n>group_widget</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
                    <span class=n>ordered_group_names</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>group_widget</span><span class=o>.</span><span class=n>group_name</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_ordered_groups</span> <span class=o>=</span> <span class=n>ordered_group_names</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_make_sure_context_widget_exists</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=c1># Create context item if is not already existing</span>
        <span class=c1># - this must be as first thing to do as context item should be at the</span>
        <span class=c1>#   top</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_context_widget</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span>

        <span class=n>widget</span> <span class=o>=</span> <span class=n>ContextCardWidget</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_content_widget</span><span class=p>)</span>
        <span class=n>widget</span><span class=o>.</span><span class=n>selected</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_on_widget_selection</span><span class=p>)</span>
        <span class=n>widget</span><span class=o>.</span><span class=n>double_clicked</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>double_clicked</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_context_widget</span> <span class=o>=</span> <span class=n>widget</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>selection_changed</span><span class=o>.</span><span class=n>emit</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_content_layout</span><span class=o>.</span><span class=n>insertWidget</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>widget</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_update_convertor_items_group</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>convertor_items</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_controller</span><span class=o>.</span><span class=n>get_convertor_items</span><span class=p>()</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>convertor_items</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span>

        <span class=k>if</span> <span class=ow>not</span> <span class=n>convertor_items</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span><span class=o>.</span><span class=n>setVisible</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_content_layout</span><span class=o>.</span><span class=n>removeWidget</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span><span class=o>.</span><span class=n>deleteLater</span><span class=p>()</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span> <span class=o>=</span> <span class=kc>None</span>
            <span class=k>return</span>

        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>group_widget</span> <span class=o>=</span> <span class=n>ConvertorItemsGroupWidget</span><span class=p>(</span>
                <span class=n>CONVERTOR_ITEM_GROUP</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_content_widget</span>
            <span class=p>)</span>
            <span class=n>group_widget</span><span class=o>.</span><span class=n>selected</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_on_widget_selection</span><span class=p>)</span>
            <span class=n>group_widget</span><span class=o>.</span><span class=n>double_clicked</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>double_clicked</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_content_layout</span><span class=o>.</span><span class=n>insertWidget</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>group_widget</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span> <span class=o>=</span> <span class=n>group_widget</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span><span class=o>.</span><span class=n>update_items</span><span class=p>(</span><span class=n>convertor_items</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>refresh_instance_states</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>instance_ids</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Trigger update of instances on group widgets.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=n>instance_ids</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>instance_ids</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>instance_ids</span><span class=p>)</span>
        <span class=n>context_info_by_id</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_controller</span><span class=o>.</span><span class=n>get_instances_context_info</span><span class=p>()</span>
        <span class=n>instance_items_by_id</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_controller</span><span class=o>.</span><span class=n>get_instance_items_by_id</span><span class=p>(</span>
            <span class=n>instance_ids</span>
        <span class=p>)</span>
        <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
            <span class=n>widget</span><span class=o>.</span><span class=n>update_instance_values</span><span class=p>(</span>
                <span class=n>context_info_by_id</span><span class=p>,</span> <span class=n>instance_items_by_id</span><span class=p>,</span> <span class=n>instance_ids</span>
            <span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_on_active_changed</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=n>group_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>]</span>
        <span class=n>instance_widget</span> <span class=o>=</span> <span class=n>group_widget</span><span class=o>.</span><span class=n>get_widget_by_item_id</span><span class=p>(</span><span class=n>instance_id</span><span class=p>)</span>
        <span class=n>active_state_by_id</span> <span class=o>=</span> <span class=p>{}</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>instance_widget</span><span class=o>.</span><span class=n>is_selected</span><span class=p>:</span>
            <span class=n>active_state_by_id</span><span class=p>[</span><span class=n>instance_id</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_selected_widgets</span><span class=p>():</span>
                <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>widget</span><span class=p>,</span> <span class=n>InstanceCardWidget</span><span class=p>):</span>
                    <span class=n>active_state_by_id</span><span class=p>[</span><span class=n>widget</span><span class=o>.</span><span class=n>id</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_controller</span><span class=o>.</span><span class=n>set_instances_active_state</span><span class=p>(</span><span class=n>active_state_by_id</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_on_widget_selection</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>selection_type</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Select specific item by instance id.</span>

<span class=sd>        Pass `CONTEXT_ID` as instance id and empty string as group to select</span>
<span class=sd>        global context item.</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=n>instance_id</span> <span class=o>==</span> <span class=n>CONTEXT_ID</span><span class=p>:</span>
            <span class=n>new_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_context_widget</span>

        <span class=k>else</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>group_name</span> <span class=o>==</span> <span class=n>CONVERTOR_ITEM_GROUP</span><span class=p>:</span>
                <span class=n>group_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>group_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>]</span>
            <span class=n>new_widget</span> <span class=o>=</span> <span class=n>group_widget</span><span class=o>.</span><span class=n>get_widget_by_item_id</span><span class=p>(</span><span class=n>instance_id</span><span class=p>)</span>

        <span class=k>if</span> <span class=n>selection_type</span> <span class=o>==</span> <span class=n>SelectionTypes</span><span class=o>.</span><span class=n>clear</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_select_item_clear</span><span class=p>(</span><span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>new_widget</span><span class=p>)</span>
        <span class=k>elif</span> <span class=n>selection_type</span> <span class=o>==</span> <span class=n>SelectionTypes</span><span class=o>.</span><span class=n>extend</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_select_item_extend</span><span class=p>(</span><span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>new_widget</span><span class=p>)</span>
        <span class=k>elif</span> <span class=n>selection_type</span> <span class=o>==</span> <span class=n>SelectionTypes</span><span class=o>.</span><span class=n>extend_to</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_select_item_extend_to</span><span class=p>(</span><span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>new_widget</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>selection_changed</span><span class=o>.</span><span class=n>emit</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_select_item_clear</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>new_widget</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Select specific item by instance id and clear previous selection.</span>

<span class=sd>        Pass `CONTEXT_ID` as instance id and empty string as group to select</span>
<span class=sd>        global context item.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=n>selected_widgets</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_selected_widgets</span><span class=p>()</span>
        <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>selected_widgets</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=o>!=</span> <span class=n>instance_id</span><span class=p>:</span>
                <span class=n>widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span> <span class=o>=</span> <span class=p>[</span><span class=n>group_name</span><span class=p>]</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span> <span class=o>=</span> <span class=p>[</span><span class=n>instance_id</span><span class=p>]</span>

        <span class=k>if</span> <span class=n>new_widget</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>new_widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_select_item_extend</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>new_widget</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Add/Remove single item to/from current selection.</span>

<span class=sd>        If item is already selected the selection is removed.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span> <span class=o>=</span> <span class=p>(</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_get_selected_instance_ids</span><span class=p>()</span>
        <span class=p>)</span>
        <span class=k>if</span> <span class=n>new_widget</span><span class=o>.</span><span class=n>is_selected</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>instance_id</span><span class=p>)</span>
            <span class=n>new_widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
            <span class=n>remove_group</span> <span class=o>=</span> <span class=kc>False</span>
            <span class=k>if</span> <span class=n>instance_id</span> <span class=o>==</span> <span class=n>CONTEXT_ID</span><span class=p>:</span>
                <span class=n>remove_group</span> <span class=o>=</span> <span class=kc>True</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=k>if</span> <span class=n>group_name</span> <span class=o>==</span> <span class=n>CONVERTOR_ITEM_GROUP</span><span class=p>:</span>
                    <span class=n>group_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span>
                <span class=k>else</span><span class=p>:</span>
                    <span class=n>group_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>]</span>
                <span class=k>if</span> <span class=ow>not</span> <span class=n>group_widget</span><span class=o>.</span><span class=n>get_selected_widgets</span><span class=p>():</span>
                    <span class=n>remove_group</span> <span class=o>=</span> <span class=kc>True</span>

            <span class=k>if</span> <span class=n>remove_group</span><span class=p>:</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>group_name</span><span class=p>)</span>
            <span class=k>return</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>instance_id</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>group_name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>group_name</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>group_name</span><span class=p>)</span>
        <span class=n>new_widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_select_item_extend_to</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>new_widget</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Extend selected items to specific instance id.</span>

<span class=sd>        This method is handling Shift+click selection of widgets. Selection</span>
<span class=sd>        is not stored to explicit selection items. That&#39;s because user can</span>
<span class=sd>        shift select again and it should use last explicit selected item as</span>
<span class=sd>        source item for selection.</span>

<span class=sd>        Items selected via this function can get to explicit selection only if</span>
<span class=sd>        selection is extended by one specific item (&#39;_select_item_extend&#39;).</span>
<span class=sd>        From that moment the selection is locked to new last explicit selected</span>
<span class=sd>        item.</span>

<span class=sd>        It&#39;s required to traverse through group widgets in their UI order and</span>
<span class=sd>        through their instances in UI order. All explicitly selected items</span>
<span class=sd>        must not change their selection state during this function. Passed</span>
<span class=sd>        instance id can be above or under last selected item so a start item</span>
<span class=sd>        and end item must be found to be able know which direction is selection</span>
<span class=sd>        happening.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=c1># Start group name (in &#39;_ordered_groups&#39;)</span>
        <span class=n>start_group</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=c1># End group name (in &#39;_ordered_groups&#39;)</span>
        <span class=n>end_group</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=c1># Instance id of first selected item</span>
        <span class=n>start_instance_id</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=c1># Instance id of last selected item</span>
        <span class=n>end_instance_id</span> <span class=o>=</span> <span class=kc>None</span>

        <span class=c1># Get previously selected group by explicit selected groups</span>
        <span class=n>previous_group</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span><span class=p>:</span>
            <span class=n>previous_group</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>

        <span class=c1># Find last explicitly selected instance id</span>
        <span class=n>previous_last_selected_id</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span><span class=p>:</span>
            <span class=n>previous_last_selected_id</span> <span class=o>=</span> <span class=p>(</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
            <span class=p>)</span>

        <span class=c1># If last instance id was not found or available then last selected</span>
        <span class=c1>#   group is also invalid.</span>
        <span class=c1># NOTE: This probably never happen?</span>
        <span class=k>if</span> <span class=n>previous_last_selected_id</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>previous_group</span> <span class=o>=</span> <span class=kc>None</span>

        <span class=c1># Check if previously selected group is available and find out if</span>
        <span class=c1>#   new instance group is above or under previous selection</span>
        <span class=c1># - based on these information are start/end group/instance filled</span>
        <span class=k>if</span> <span class=n>previous_group</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ordered_groups</span><span class=p>:</span>
            <span class=n>new_idx</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ordered_groups</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=n>group_name</span><span class=p>)</span>
            <span class=n>prev_idx</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ordered_groups</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=n>previous_group</span><span class=p>)</span>
            <span class=k>if</span> <span class=n>new_idx</span> <span class=o>&lt;</span> <span class=n>prev_idx</span><span class=p>:</span>
                <span class=n>start_group</span> <span class=o>=</span> <span class=n>group_name</span>
                <span class=n>end_group</span> <span class=o>=</span> <span class=n>previous_group</span>
                <span class=n>start_instance_id</span> <span class=o>=</span> <span class=n>instance_id</span>
                <span class=n>end_instance_id</span> <span class=o>=</span> <span class=n>previous_last_selected_id</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>start_group</span> <span class=o>=</span> <span class=n>previous_group</span>
                <span class=n>end_group</span> <span class=o>=</span> <span class=n>group_name</span>
                <span class=n>start_instance_id</span> <span class=o>=</span> <span class=n>previous_last_selected_id</span>
                <span class=n>end_instance_id</span> <span class=o>=</span> <span class=n>instance_id</span>

        <span class=c1># If start group is not set then use context item group name</span>
        <span class=k>if</span> <span class=n>start_group</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>start_group</span> <span class=o>=</span> <span class=n>CONTEXT_GROUP</span>

        <span class=c1># If start instance id is not filled then use context id (similar to</span>
        <span class=c1>#   group)</span>
        <span class=k>if</span> <span class=n>start_instance_id</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>start_instance_id</span> <span class=o>=</span> <span class=n>CONTEXT_ID</span>

        <span class=c1># If end group is not defined then use passed group name</span>
        <span class=c1>#   - this can be happen when previous group was not selected</span>
        <span class=c1>#   - when this happens the selection will probably happen from context</span>
        <span class=c1>#       item to item selected by user</span>
        <span class=k>if</span> <span class=n>end_group</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>end_group</span> <span class=o>=</span> <span class=n>group_name</span>

        <span class=c1># If end instance is not filled then use instance selected by user</span>
        <span class=k>if</span> <span class=n>end_instance_id</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>end_instance_id</span> <span class=o>=</span> <span class=n>instance_id</span>

        <span class=c1># Start and end group are the same</span>
        <span class=c1># - a different logic is needed in that case</span>
        <span class=n>same_group</span> <span class=o>=</span> <span class=n>start_group</span> <span class=o>==</span> <span class=n>end_group</span>

        <span class=c1># Process known information and change selection of items</span>
        <span class=n>passed_start_group</span> <span class=o>=</span> <span class=kc>False</span>
        <span class=n>passed_end_group</span> <span class=o>=</span> <span class=kc>False</span>
        <span class=c1># Go through ordered groups (from top to bottom) and change selection</span>
        <span class=k>for</span> <span class=n>name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ordered_groups</span><span class=p>:</span>
            <span class=c1># Prepare sorted instance widgets</span>
            <span class=k>if</span> <span class=n>name</span> <span class=o>==</span> <span class=n>CONTEXT_GROUP</span><span class=p>:</span>
                <span class=n>sorted_widgets</span> <span class=o>=</span> <span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>_context_widget</span><span class=p>]</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=k>if</span> <span class=n>name</span> <span class=o>==</span> <span class=n>CONVERTOR_ITEM_GROUP</span><span class=p>:</span>
                    <span class=n>group_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span>
                <span class=k>else</span><span class=p>:</span>
                    <span class=n>group_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=p>[</span><span class=n>name</span><span class=p>]</span>
                <span class=n>sorted_widgets</span> <span class=o>=</span> <span class=n>group_widget</span><span class=o>.</span><span class=n>get_ordered_widgets</span><span class=p>()</span>

            <span class=c1># Change selection based on explicit selection if start group</span>
            <span class=c1>#   was not passed yet</span>
            <span class=k>if</span> <span class=ow>not</span> <span class=n>passed_start_group</span><span class=p>:</span>
                <span class=k>if</span> <span class=n>name</span> <span class=o>!=</span> <span class=n>start_group</span><span class=p>:</span>
                    <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>sorted_widgets</span><span class=p>:</span>
                        <span class=n>widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span>
                            <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span>
                        <span class=p>)</span>
                    <span class=k>continue</span>

            <span class=c1># Change selection based on explicit selection if end group</span>
            <span class=c1>#   already passed</span>
            <span class=k>if</span> <span class=n>passed_end_group</span><span class=p>:</span>
                <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>sorted_widgets</span><span class=p>:</span>
                    <span class=n>widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span>
                        <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span>
                    <span class=p>)</span>
                <span class=k>continue</span>

            <span class=c1># Start group is already passed and end group was not yet hit</span>
            <span class=k>if</span> <span class=n>same_group</span><span class=p>:</span>
                <span class=n>passed_start_group</span> <span class=o>=</span> <span class=kc>True</span>
                <span class=n>passed_end_group</span> <span class=o>=</span> <span class=kc>True</span>
                <span class=n>passed_start_instance</span> <span class=o>=</span> <span class=kc>False</span>
                <span class=n>passed_end_instance</span> <span class=o>=</span> <span class=kc>False</span>
                <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>sorted_widgets</span><span class=p>:</span>
                    <span class=k>if</span> <span class=ow>not</span> <span class=n>passed_start_instance</span><span class=p>:</span>
                        <span class=k>if</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=ow>in</span> <span class=p>(</span><span class=n>start_instance_id</span><span class=p>,</span> <span class=n>end_instance_id</span><span class=p>):</span>
                            <span class=k>if</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=o>!=</span> <span class=n>start_instance_id</span><span class=p>:</span>
                                <span class=c1># Swap start/end instance if start instance is</span>
                                <span class=c1>#   after end</span>
                                <span class=c1># - fix &#39;passed_end_instance&#39; check</span>
                                <span class=n>start_instance_id</span><span class=p>,</span> <span class=n>end_instance_id</span> <span class=o>=</span> <span class=p>(</span>
                                    <span class=n>end_instance_id</span><span class=p>,</span> <span class=n>start_instance_id</span>
                                <span class=p>)</span>
                            <span class=n>passed_start_instance</span> <span class=o>=</span> <span class=kc>True</span>

                    <span class=c1># Find out if widget should be selected</span>
                    <span class=n>select</span> <span class=o>=</span> <span class=kc>False</span>
                    <span class=k>if</span> <span class=n>passed_end_instance</span><span class=p>:</span>
                        <span class=n>select</span> <span class=o>=</span> <span class=kc>False</span>

                    <span class=k>elif</span> <span class=n>passed_start_instance</span><span class=p>:</span>
                        <span class=n>select</span> <span class=o>=</span> <span class=kc>True</span>

                    <span class=c1># Check if instance is in explicitly selected items if</span>
                    <span class=c1>#   should ont be selected</span>
                    <span class=k>if</span> <span class=p>(</span>
                        <span class=ow>not</span> <span class=n>select</span>
                        <span class=ow>and</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span>
                    <span class=p>):</span>
                        <span class=n>select</span> <span class=o>=</span> <span class=kc>True</span>

                    <span class=n>widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=n>select</span><span class=p>)</span>

                    <span class=k>if</span> <span class=p>(</span>
                        <span class=ow>not</span> <span class=n>passed_end_instance</span>
                        <span class=ow>and</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=o>==</span> <span class=n>end_instance_id</span>
                    <span class=p>):</span>
                        <span class=n>passed_end_instance</span> <span class=o>=</span> <span class=kc>True</span>

            <span class=k>elif</span> <span class=n>name</span> <span class=o>==</span> <span class=n>start_group</span><span class=p>:</span>
                <span class=c1># First group from which selection should start</span>
                <span class=c1># - look for start instance first from which the selection</span>
                <span class=c1>#   should happen</span>
                <span class=n>passed_start_group</span> <span class=o>=</span> <span class=kc>True</span>
                <span class=n>passed_start_instance</span> <span class=o>=</span> <span class=kc>False</span>
                <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>sorted_widgets</span><span class=p>:</span>
                    <span class=k>if</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=o>==</span> <span class=n>start_instance_id</span><span class=p>:</span>
                        <span class=n>passed_start_instance</span> <span class=o>=</span> <span class=kc>True</span>

                    <span class=n>select</span> <span class=o>=</span> <span class=kc>False</span>
                    <span class=c1># Check if passed start instance or instance is</span>
                    <span class=c1>#   in explicitly selected items to be selected</span>
                    <span class=k>if</span> <span class=p>(</span>
                        <span class=n>passed_start_instance</span>
                        <span class=ow>or</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span>
                    <span class=p>):</span>
                        <span class=n>select</span> <span class=o>=</span> <span class=kc>True</span>
                    <span class=n>widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=n>select</span><span class=p>)</span>

            <span class=k>elif</span> <span class=n>name</span> <span class=o>==</span> <span class=n>end_group</span><span class=p>:</span>
                <span class=c1># Last group where selection should happen</span>
                <span class=c1># - look for end instance first after which the selection</span>
                <span class=c1>#   should stop</span>
                <span class=n>passed_end_group</span> <span class=o>=</span> <span class=kc>True</span>
                <span class=n>passed_end_instance</span> <span class=o>=</span> <span class=kc>False</span>
                <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>sorted_widgets</span><span class=p>:</span>
                    <span class=n>select</span> <span class=o>=</span> <span class=kc>False</span>
                    <span class=c1># Check if not yet passed end instance or if instance is</span>
                    <span class=c1>#   in explicitly selected items to be selected</span>
                    <span class=k>if</span> <span class=p>(</span>
                        <span class=ow>not</span> <span class=n>passed_end_instance</span>
                        <span class=ow>or</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span>
                    <span class=p>):</span>
                        <span class=n>select</span> <span class=o>=</span> <span class=kc>True</span>

                    <span class=n>widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=n>select</span><span class=p>)</span>

                    <span class=k>if</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=o>==</span> <span class=n>end_instance_id</span><span class=p>:</span>
                        <span class=n>passed_end_instance</span> <span class=o>=</span> <span class=kc>True</span>

            <span class=k>else</span><span class=p>:</span>
                <span class=c1># Just select everything between start and end group</span>
                <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>sorted_widgets</span><span class=p>:</span>
                    <span class=n>widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_selected_items</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get selected instance ids and context.&quot;&quot;&quot;</span>

        <span class=n>convertor_identifiers</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=n>instances</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=n>selected_widgets</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_selected_widgets</span><span class=p>()</span>

        <span class=n>context_selected</span> <span class=o>=</span> <span class=kc>False</span>
        <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>selected_widgets</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>widget</span> <span class=ow>is</span> <span class=bp>self</span><span class=o>.</span><span class=n>_context_widget</span><span class=p>:</span>
                <span class=n>context_selected</span> <span class=o>=</span> <span class=kc>True</span>

            <span class=k>elif</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>widget</span><span class=p>,</span> <span class=n>InstanceCardWidget</span><span class=p>):</span>
                <span class=n>instances</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>widget</span><span class=o>.</span><span class=n>id</span><span class=p>)</span>

            <span class=k>elif</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>widget</span><span class=p>,</span> <span class=n>ConvertorItemCardWidget</span><span class=p>):</span>
                <span class=n>convertor_identifiers</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>widget</span><span class=o>.</span><span class=n>identifier</span><span class=p>)</span>

        <span class=k>return</span> <span class=n>instances</span><span class=p>,</span> <span class=n>context_selected</span><span class=p>,</span> <span class=n>convertor_identifiers</span>

    <span class=k>def</span><span class=w> </span><span class=nf>set_selected_items</span><span class=p>(</span>
        <span class=bp>self</span><span class=p>,</span> <span class=n>instance_ids</span><span class=p>,</span> <span class=n>context_selected</span><span class=p>,</span> <span class=n>convertor_identifiers</span>
    <span class=p>):</span>
        <span class=n>s_instance_ids</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>instance_ids</span><span class=p>)</span>
        <span class=n>s_convertor_identifiers</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>convertor_identifiers</span><span class=p>)</span>
        <span class=n>cur_ids</span><span class=p>,</span> <span class=n>cur_context</span><span class=p>,</span> <span class=n>cur_convertor_identifiers</span> <span class=o>=</span> <span class=p>(</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>get_selected_items</span><span class=p>()</span>
        <span class=p>)</span>
        <span class=k>if</span> <span class=p>(</span>
            <span class=nb>set</span><span class=p>(</span><span class=n>cur_ids</span><span class=p>)</span> <span class=o>==</span> <span class=n>s_instance_ids</span>
            <span class=ow>and</span> <span class=n>cur_context</span> <span class=o>==</span> <span class=n>context_selected</span>
            <span class=ow>and</span> <span class=nb>set</span><span class=p>(</span><span class=n>cur_convertor_identifiers</span><span class=p>)</span> <span class=o>==</span> <span class=n>s_convertor_identifiers</span>
        <span class=p>):</span>
            <span class=k>return</span>

        <span class=n>selected_groups</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=n>selected_instances</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=k>if</span> <span class=n>context_selected</span><span class=p>:</span>
            <span class=n>selected_groups</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>CONTEXT_GROUP</span><span class=p>)</span>
            <span class=n>selected_instances</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>CONTEXT_ID</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_context_widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=n>context_selected</span><span class=p>)</span>

        <span class=k>for</span> <span class=n>group_name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ordered_groups</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>group_name</span> <span class=o>==</span> <span class=n>CONTEXT_GROUP</span><span class=p>:</span>
                <span class=k>continue</span>

            <span class=n>is_convertor_group</span> <span class=o>=</span> <span class=n>group_name</span> <span class=o>==</span> <span class=n>CONVERTOR_ITEM_GROUP</span>
            <span class=k>if</span> <span class=n>is_convertor_group</span><span class=p>:</span>
                <span class=n>group_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>group_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>]</span>

            <span class=n>group_selected</span> <span class=o>=</span> <span class=kc>False</span>
            <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>group_widget</span><span class=o>.</span><span class=n>get_ordered_widgets</span><span class=p>():</span>
                <span class=n>select</span> <span class=o>=</span> <span class=kc>False</span>
                <span class=k>if</span> <span class=n>is_convertor_group</span><span class=p>:</span>
                    <span class=n>is_in</span> <span class=o>=</span> <span class=n>widget</span><span class=o>.</span><span class=n>identifier</span> <span class=ow>in</span> <span class=n>s_convertor_identifiers</span>
                <span class=k>else</span><span class=p>:</span>
                    <span class=n>is_in</span> <span class=o>=</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=ow>in</span> <span class=n>s_instance_ids</span>
                <span class=k>if</span> <span class=n>is_in</span><span class=p>:</span>
                    <span class=n>selected_instances</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>widget</span><span class=o>.</span><span class=n>id</span><span class=p>)</span>
                    <span class=n>group_selected</span> <span class=o>=</span> <span class=kc>True</span>
                    <span class=n>select</span> <span class=o>=</span> <span class=kc>True</span>
                <span class=n>widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=n>select</span><span class=p>)</span>

            <span class=k>if</span> <span class=n>group_selected</span><span class=p>:</span>
                <span class=n>selected_groups</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>group_name</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span> <span class=o>=</span> <span class=n>selected_groups</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span> <span class=o>=</span> <span class=n>selected_instances</span>

    <span class=k>def</span><span class=w> </span><span class=nf>set_active_toggle_enabled</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>enabled</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_active_toggle_enabled</span> <span class=ow>is</span> <span class=n>enabled</span><span class=p>:</span>
            <span class=k>return</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_active_toggle_enabled</span> <span class=o>=</span> <span class=n>enabled</span>
        <span class=k>for</span> <span class=n>group_widget</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
            <span class=n>group_widget</span><span class=o>.</span><span class=n>set_active_toggle_enabled</span><span class=p>(</span><span class=n>enabled</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView._on_widget_selection class="doc doc-heading"> <code class="highlight language-python"><span class=n>_on_widget_selection</span><span class=p>(</span><span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>selection_type</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Select specific item by instance id.</p> <p>Pass <code>CONTEXT_ID</code> as instance id and empty string as group to select global context item.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>845</span>
<span class=normal>846</span>
<span class=normal>847</span>
<span class=normal>848</span>
<span class=normal>849</span>
<span class=normal>850</span>
<span class=normal>851</span>
<span class=normal>852</span>
<span class=normal>853</span>
<span class=normal>854</span>
<span class=normal>855</span>
<span class=normal>856</span>
<span class=normal>857</span>
<span class=normal>858</span>
<span class=normal>859</span>
<span class=normal>860</span>
<span class=normal>861</span>
<span class=normal>862</span>
<span class=normal>863</span>
<span class=normal>864</span>
<span class=normal>865</span>
<span class=normal>866</span>
<span class=normal>867</span>
<span class=normal>868</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_on_widget_selection</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>selection_type</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Select specific item by instance id.</span>

<span class=sd>    Pass `CONTEXT_ID` as instance id and empty string as group to select</span>
<span class=sd>    global context item.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>instance_id</span> <span class=o>==</span> <span class=n>CONTEXT_ID</span><span class=p>:</span>
        <span class=n>new_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_context_widget</span>

    <span class=k>else</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>group_name</span> <span class=o>==</span> <span class=n>CONVERTOR_ITEM_GROUP</span><span class=p>:</span>
            <span class=n>group_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>group_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>]</span>
        <span class=n>new_widget</span> <span class=o>=</span> <span class=n>group_widget</span><span class=o>.</span><span class=n>get_widget_by_item_id</span><span class=p>(</span><span class=n>instance_id</span><span class=p>)</span>

    <span class=k>if</span> <span class=n>selection_type</span> <span class=o>==</span> <span class=n>SelectionTypes</span><span class=o>.</span><span class=n>clear</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_select_item_clear</span><span class=p>(</span><span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>new_widget</span><span class=p>)</span>
    <span class=k>elif</span> <span class=n>selection_type</span> <span class=o>==</span> <span class=n>SelectionTypes</span><span class=o>.</span><span class=n>extend</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_select_item_extend</span><span class=p>(</span><span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>new_widget</span><span class=p>)</span>
    <span class=k>elif</span> <span class=n>selection_type</span> <span class=o>==</span> <span class=n>SelectionTypes</span><span class=o>.</span><span class=n>extend_to</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_select_item_extend_to</span><span class=p>(</span><span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>new_widget</span><span class=p>)</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>selection_changed</span><span class=o>.</span><span class=n>emit</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView._select_item_clear class="doc doc-heading"> <code class="highlight language-python"><span class=n>_select_item_clear</span><span class=p>(</span><span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>new_widget</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Select specific item by instance id and clear previous selection.</p> <p>Pass <code>CONTEXT_ID</code> as instance id and empty string as group to select global context item.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>870</span>
<span class=normal>871</span>
<span class=normal>872</span>
<span class=normal>873</span>
<span class=normal>874</span>
<span class=normal>875</span>
<span class=normal>876</span>
<span class=normal>877</span>
<span class=normal>878</span>
<span class=normal>879</span>
<span class=normal>880</span>
<span class=normal>881</span>
<span class=normal>882</span>
<span class=normal>883</span>
<span class=normal>884</span>
<span class=normal>885</span>
<span class=normal>886</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_select_item_clear</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>new_widget</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Select specific item by instance id and clear previous selection.</span>

<span class=sd>    Pass `CONTEXT_ID` as instance id and empty string as group to select</span>
<span class=sd>    global context item.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>selected_widgets</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_selected_widgets</span><span class=p>()</span>
    <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>selected_widgets</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=o>!=</span> <span class=n>instance_id</span><span class=p>:</span>
            <span class=n>widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span> <span class=o>=</span> <span class=p>[</span><span class=n>group_name</span><span class=p>]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span> <span class=o>=</span> <span class=p>[</span><span class=n>instance_id</span><span class=p>]</span>

    <span class=k>if</span> <span class=n>new_widget</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>new_widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView._select_item_extend class="doc doc-heading"> <code class="highlight language-python"><span class=n>_select_item_extend</span><span class=p>(</span><span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>new_widget</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Add/Remove single item to/from current selection.</p> <p>If item is already selected the selection is removed.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>888</span>
<span class=normal>889</span>
<span class=normal>890</span>
<span class=normal>891</span>
<span class=normal>892</span>
<span class=normal>893</span>
<span class=normal>894</span>
<span class=normal>895</span>
<span class=normal>896</span>
<span class=normal>897</span>
<span class=normal>898</span>
<span class=normal>899</span>
<span class=normal>900</span>
<span class=normal>901</span>
<span class=normal>902</span>
<span class=normal>903</span>
<span class=normal>904</span>
<span class=normal>905</span>
<span class=normal>906</span>
<span class=normal>907</span>
<span class=normal>908</span>
<span class=normal>909</span>
<span class=normal>910</span>
<span class=normal>911</span>
<span class=normal>912</span>
<span class=normal>913</span>
<span class=normal>914</span>
<span class=normal>915</span>
<span class=normal>916</span>
<span class=normal>917</span>
<span class=normal>918</span>
<span class=normal>919</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_select_item_extend</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>new_widget</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Add/Remove single item to/from current selection.</span>

<span class=sd>    If item is already selected the selection is removed.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span> <span class=o>=</span> <span class=p>(</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_get_selected_instance_ids</span><span class=p>()</span>
    <span class=p>)</span>
    <span class=k>if</span> <span class=n>new_widget</span><span class=o>.</span><span class=n>is_selected</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>instance_id</span><span class=p>)</span>
        <span class=n>new_widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
        <span class=n>remove_group</span> <span class=o>=</span> <span class=kc>False</span>
        <span class=k>if</span> <span class=n>instance_id</span> <span class=o>==</span> <span class=n>CONTEXT_ID</span><span class=p>:</span>
            <span class=n>remove_group</span> <span class=o>=</span> <span class=kc>True</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>group_name</span> <span class=o>==</span> <span class=n>CONVERTOR_ITEM_GROUP</span><span class=p>:</span>
                <span class=n>group_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>group_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>]</span>
            <span class=k>if</span> <span class=ow>not</span> <span class=n>group_widget</span><span class=o>.</span><span class=n>get_selected_widgets</span><span class=p>():</span>
                <span class=n>remove_group</span> <span class=o>=</span> <span class=kc>True</span>

        <span class=k>if</span> <span class=n>remove_group</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>group_name</span><span class=p>)</span>
        <span class=k>return</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>instance_id</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>group_name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>group_name</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>group_name</span><span class=p>)</span>
    <span class=n>new_widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView._select_item_extend_to class="doc doc-heading"> <code class="highlight language-python"><span class=n>_select_item_extend_to</span><span class=p>(</span><span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>new_widget</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Extend selected items to specific instance id.</p> <p>This method is handling Shift+click selection of widgets. Selection is not stored to explicit selection items. That's because user can shift select again and it should use last explicit selected item as source item for selection.</p> <p>Items selected via this function can get to explicit selection only if selection is extended by one specific item ('_select_item_extend'). From that moment the selection is locked to new last explicit selected item.</p> <p>It's required to traverse through group widgets in their UI order and through their instances in UI order. All explicitly selected items must not change their selection state during this function. Passed instance id can be above or under last selected item so a start item and end item must be found to be able know which direction is selection happening.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 921</span>
<span class=normal> 922</span>
<span class=normal> 923</span>
<span class=normal> 924</span>
<span class=normal> 925</span>
<span class=normal> 926</span>
<span class=normal> 927</span>
<span class=normal> 928</span>
<span class=normal> 929</span>
<span class=normal> 930</span>
<span class=normal> 931</span>
<span class=normal> 932</span>
<span class=normal> 933</span>
<span class=normal> 934</span>
<span class=normal> 935</span>
<span class=normal> 936</span>
<span class=normal> 937</span>
<span class=normal> 938</span>
<span class=normal> 939</span>
<span class=normal> 940</span>
<span class=normal> 941</span>
<span class=normal> 942</span>
<span class=normal> 943</span>
<span class=normal> 944</span>
<span class=normal> 945</span>
<span class=normal> 946</span>
<span class=normal> 947</span>
<span class=normal> 948</span>
<span class=normal> 949</span>
<span class=normal> 950</span>
<span class=normal> 951</span>
<span class=normal> 952</span>
<span class=normal> 953</span>
<span class=normal> 954</span>
<span class=normal> 955</span>
<span class=normal> 956</span>
<span class=normal> 957</span>
<span class=normal> 958</span>
<span class=normal> 959</span>
<span class=normal> 960</span>
<span class=normal> 961</span>
<span class=normal> 962</span>
<span class=normal> 963</span>
<span class=normal> 964</span>
<span class=normal> 965</span>
<span class=normal> 966</span>
<span class=normal> 967</span>
<span class=normal> 968</span>
<span class=normal> 969</span>
<span class=normal> 970</span>
<span class=normal> 971</span>
<span class=normal> 972</span>
<span class=normal> 973</span>
<span class=normal> 974</span>
<span class=normal> 975</span>
<span class=normal> 976</span>
<span class=normal> 977</span>
<span class=normal> 978</span>
<span class=normal> 979</span>
<span class=normal> 980</span>
<span class=normal> 981</span>
<span class=normal> 982</span>
<span class=normal> 983</span>
<span class=normal> 984</span>
<span class=normal> 985</span>
<span class=normal> 986</span>
<span class=normal> 987</span>
<span class=normal> 988</span>
<span class=normal> 989</span>
<span class=normal> 990</span>
<span class=normal> 991</span>
<span class=normal> 992</span>
<span class=normal> 993</span>
<span class=normal> 994</span>
<span class=normal> 995</span>
<span class=normal> 996</span>
<span class=normal> 997</span>
<span class=normal> 998</span>
<span class=normal> 999</span>
<span class=normal>1000</span>
<span class=normal>1001</span>
<span class=normal>1002</span>
<span class=normal>1003</span>
<span class=normal>1004</span>
<span class=normal>1005</span>
<span class=normal>1006</span>
<span class=normal>1007</span>
<span class=normal>1008</span>
<span class=normal>1009</span>
<span class=normal>1010</span>
<span class=normal>1011</span>
<span class=normal>1012</span>
<span class=normal>1013</span>
<span class=normal>1014</span>
<span class=normal>1015</span>
<span class=normal>1016</span>
<span class=normal>1017</span>
<span class=normal>1018</span>
<span class=normal>1019</span>
<span class=normal>1020</span>
<span class=normal>1021</span>
<span class=normal>1022</span>
<span class=normal>1023</span>
<span class=normal>1024</span>
<span class=normal>1025</span>
<span class=normal>1026</span>
<span class=normal>1027</span>
<span class=normal>1028</span>
<span class=normal>1029</span>
<span class=normal>1030</span>
<span class=normal>1031</span>
<span class=normal>1032</span>
<span class=normal>1033</span>
<span class=normal>1034</span>
<span class=normal>1035</span>
<span class=normal>1036</span>
<span class=normal>1037</span>
<span class=normal>1038</span>
<span class=normal>1039</span>
<span class=normal>1040</span>
<span class=normal>1041</span>
<span class=normal>1042</span>
<span class=normal>1043</span>
<span class=normal>1044</span>
<span class=normal>1045</span>
<span class=normal>1046</span>
<span class=normal>1047</span>
<span class=normal>1048</span>
<span class=normal>1049</span>
<span class=normal>1050</span>
<span class=normal>1051</span>
<span class=normal>1052</span>
<span class=normal>1053</span>
<span class=normal>1054</span>
<span class=normal>1055</span>
<span class=normal>1056</span>
<span class=normal>1057</span>
<span class=normal>1058</span>
<span class=normal>1059</span>
<span class=normal>1060</span>
<span class=normal>1061</span>
<span class=normal>1062</span>
<span class=normal>1063</span>
<span class=normal>1064</span>
<span class=normal>1065</span>
<span class=normal>1066</span>
<span class=normal>1067</span>
<span class=normal>1068</span>
<span class=normal>1069</span>
<span class=normal>1070</span>
<span class=normal>1071</span>
<span class=normal>1072</span>
<span class=normal>1073</span>
<span class=normal>1074</span>
<span class=normal>1075</span>
<span class=normal>1076</span>
<span class=normal>1077</span>
<span class=normal>1078</span>
<span class=normal>1079</span>
<span class=normal>1080</span>
<span class=normal>1081</span>
<span class=normal>1082</span>
<span class=normal>1083</span>
<span class=normal>1084</span>
<span class=normal>1085</span>
<span class=normal>1086</span>
<span class=normal>1087</span>
<span class=normal>1088</span>
<span class=normal>1089</span>
<span class=normal>1090</span>
<span class=normal>1091</span>
<span class=normal>1092</span>
<span class=normal>1093</span>
<span class=normal>1094</span>
<span class=normal>1095</span>
<span class=normal>1096</span>
<span class=normal>1097</span>
<span class=normal>1098</span>
<span class=normal>1099</span>
<span class=normal>1100</span>
<span class=normal>1101</span>
<span class=normal>1102</span>
<span class=normal>1103</span>
<span class=normal>1104</span>
<span class=normal>1105</span>
<span class=normal>1106</span>
<span class=normal>1107</span>
<span class=normal>1108</span>
<span class=normal>1109</span>
<span class=normal>1110</span>
<span class=normal>1111</span>
<span class=normal>1112</span>
<span class=normal>1113</span>
<span class=normal>1114</span>
<span class=normal>1115</span>
<span class=normal>1116</span>
<span class=normal>1117</span>
<span class=normal>1118</span>
<span class=normal>1119</span>
<span class=normal>1120</span>
<span class=normal>1121</span>
<span class=normal>1122</span>
<span class=normal>1123</span>
<span class=normal>1124</span>
<span class=normal>1125</span>
<span class=normal>1126</span>
<span class=normal>1127</span>
<span class=normal>1128</span>
<span class=normal>1129</span>
<span class=normal>1130</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_select_item_extend_to</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=n>new_widget</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Extend selected items to specific instance id.</span>

<span class=sd>    This method is handling Shift+click selection of widgets. Selection</span>
<span class=sd>    is not stored to explicit selection items. That&#39;s because user can</span>
<span class=sd>    shift select again and it should use last explicit selected item as</span>
<span class=sd>    source item for selection.</span>

<span class=sd>    Items selected via this function can get to explicit selection only if</span>
<span class=sd>    selection is extended by one specific item (&#39;_select_item_extend&#39;).</span>
<span class=sd>    From that moment the selection is locked to new last explicit selected</span>
<span class=sd>    item.</span>

<span class=sd>    It&#39;s required to traverse through group widgets in their UI order and</span>
<span class=sd>    through their instances in UI order. All explicitly selected items</span>
<span class=sd>    must not change their selection state during this function. Passed</span>
<span class=sd>    instance id can be above or under last selected item so a start item</span>
<span class=sd>    and end item must be found to be able know which direction is selection</span>
<span class=sd>    happening.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=c1># Start group name (in &#39;_ordered_groups&#39;)</span>
    <span class=n>start_group</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=c1># End group name (in &#39;_ordered_groups&#39;)</span>
    <span class=n>end_group</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=c1># Instance id of first selected item</span>
    <span class=n>start_instance_id</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=c1># Instance id of last selected item</span>
    <span class=n>end_instance_id</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=c1># Get previously selected group by explicit selected groups</span>
    <span class=n>previous_group</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span><span class=p>:</span>
        <span class=n>previous_group</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>

    <span class=c1># Find last explicitly selected instance id</span>
    <span class=n>previous_last_selected_id</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span><span class=p>:</span>
        <span class=n>previous_last_selected_id</span> <span class=o>=</span> <span class=p>(</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
        <span class=p>)</span>

    <span class=c1># If last instance id was not found or available then last selected</span>
    <span class=c1>#   group is also invalid.</span>
    <span class=c1># NOTE: This probably never happen?</span>
    <span class=k>if</span> <span class=n>previous_last_selected_id</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>previous_group</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=c1># Check if previously selected group is available and find out if</span>
    <span class=c1>#   new instance group is above or under previous selection</span>
    <span class=c1># - based on these information are start/end group/instance filled</span>
    <span class=k>if</span> <span class=n>previous_group</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ordered_groups</span><span class=p>:</span>
        <span class=n>new_idx</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ordered_groups</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=n>group_name</span><span class=p>)</span>
        <span class=n>prev_idx</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ordered_groups</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=n>previous_group</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>new_idx</span> <span class=o>&lt;</span> <span class=n>prev_idx</span><span class=p>:</span>
            <span class=n>start_group</span> <span class=o>=</span> <span class=n>group_name</span>
            <span class=n>end_group</span> <span class=o>=</span> <span class=n>previous_group</span>
            <span class=n>start_instance_id</span> <span class=o>=</span> <span class=n>instance_id</span>
            <span class=n>end_instance_id</span> <span class=o>=</span> <span class=n>previous_last_selected_id</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>start_group</span> <span class=o>=</span> <span class=n>previous_group</span>
            <span class=n>end_group</span> <span class=o>=</span> <span class=n>group_name</span>
            <span class=n>start_instance_id</span> <span class=o>=</span> <span class=n>previous_last_selected_id</span>
            <span class=n>end_instance_id</span> <span class=o>=</span> <span class=n>instance_id</span>

    <span class=c1># If start group is not set then use context item group name</span>
    <span class=k>if</span> <span class=n>start_group</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>start_group</span> <span class=o>=</span> <span class=n>CONTEXT_GROUP</span>

    <span class=c1># If start instance id is not filled then use context id (similar to</span>
    <span class=c1>#   group)</span>
    <span class=k>if</span> <span class=n>start_instance_id</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>start_instance_id</span> <span class=o>=</span> <span class=n>CONTEXT_ID</span>

    <span class=c1># If end group is not defined then use passed group name</span>
    <span class=c1>#   - this can be happen when previous group was not selected</span>
    <span class=c1>#   - when this happens the selection will probably happen from context</span>
    <span class=c1>#       item to item selected by user</span>
    <span class=k>if</span> <span class=n>end_group</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>end_group</span> <span class=o>=</span> <span class=n>group_name</span>

    <span class=c1># If end instance is not filled then use instance selected by user</span>
    <span class=k>if</span> <span class=n>end_instance_id</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>end_instance_id</span> <span class=o>=</span> <span class=n>instance_id</span>

    <span class=c1># Start and end group are the same</span>
    <span class=c1># - a different logic is needed in that case</span>
    <span class=n>same_group</span> <span class=o>=</span> <span class=n>start_group</span> <span class=o>==</span> <span class=n>end_group</span>

    <span class=c1># Process known information and change selection of items</span>
    <span class=n>passed_start_group</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=n>passed_end_group</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=c1># Go through ordered groups (from top to bottom) and change selection</span>
    <span class=k>for</span> <span class=n>name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ordered_groups</span><span class=p>:</span>
        <span class=c1># Prepare sorted instance widgets</span>
        <span class=k>if</span> <span class=n>name</span> <span class=o>==</span> <span class=n>CONTEXT_GROUP</span><span class=p>:</span>
            <span class=n>sorted_widgets</span> <span class=o>=</span> <span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>_context_widget</span><span class=p>]</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>name</span> <span class=o>==</span> <span class=n>CONVERTOR_ITEM_GROUP</span><span class=p>:</span>
                <span class=n>group_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>group_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=p>[</span><span class=n>name</span><span class=p>]</span>
            <span class=n>sorted_widgets</span> <span class=o>=</span> <span class=n>group_widget</span><span class=o>.</span><span class=n>get_ordered_widgets</span><span class=p>()</span>

        <span class=c1># Change selection based on explicit selection if start group</span>
        <span class=c1>#   was not passed yet</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>passed_start_group</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>name</span> <span class=o>!=</span> <span class=n>start_group</span><span class=p>:</span>
                <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>sorted_widgets</span><span class=p>:</span>
                    <span class=n>widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span>
                        <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span>
                    <span class=p>)</span>
                <span class=k>continue</span>

        <span class=c1># Change selection based on explicit selection if end group</span>
        <span class=c1>#   already passed</span>
        <span class=k>if</span> <span class=n>passed_end_group</span><span class=p>:</span>
            <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>sorted_widgets</span><span class=p>:</span>
                <span class=n>widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span>
                    <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span>
                <span class=p>)</span>
            <span class=k>continue</span>

        <span class=c1># Start group is already passed and end group was not yet hit</span>
        <span class=k>if</span> <span class=n>same_group</span><span class=p>:</span>
            <span class=n>passed_start_group</span> <span class=o>=</span> <span class=kc>True</span>
            <span class=n>passed_end_group</span> <span class=o>=</span> <span class=kc>True</span>
            <span class=n>passed_start_instance</span> <span class=o>=</span> <span class=kc>False</span>
            <span class=n>passed_end_instance</span> <span class=o>=</span> <span class=kc>False</span>
            <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>sorted_widgets</span><span class=p>:</span>
                <span class=k>if</span> <span class=ow>not</span> <span class=n>passed_start_instance</span><span class=p>:</span>
                    <span class=k>if</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=ow>in</span> <span class=p>(</span><span class=n>start_instance_id</span><span class=p>,</span> <span class=n>end_instance_id</span><span class=p>):</span>
                        <span class=k>if</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=o>!=</span> <span class=n>start_instance_id</span><span class=p>:</span>
                            <span class=c1># Swap start/end instance if start instance is</span>
                            <span class=c1>#   after end</span>
                            <span class=c1># - fix &#39;passed_end_instance&#39; check</span>
                            <span class=n>start_instance_id</span><span class=p>,</span> <span class=n>end_instance_id</span> <span class=o>=</span> <span class=p>(</span>
                                <span class=n>end_instance_id</span><span class=p>,</span> <span class=n>start_instance_id</span>
                            <span class=p>)</span>
                        <span class=n>passed_start_instance</span> <span class=o>=</span> <span class=kc>True</span>

                <span class=c1># Find out if widget should be selected</span>
                <span class=n>select</span> <span class=o>=</span> <span class=kc>False</span>
                <span class=k>if</span> <span class=n>passed_end_instance</span><span class=p>:</span>
                    <span class=n>select</span> <span class=o>=</span> <span class=kc>False</span>

                <span class=k>elif</span> <span class=n>passed_start_instance</span><span class=p>:</span>
                    <span class=n>select</span> <span class=o>=</span> <span class=kc>True</span>

                <span class=c1># Check if instance is in explicitly selected items if</span>
                <span class=c1>#   should ont be selected</span>
                <span class=k>if</span> <span class=p>(</span>
                    <span class=ow>not</span> <span class=n>select</span>
                    <span class=ow>and</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span>
                <span class=p>):</span>
                    <span class=n>select</span> <span class=o>=</span> <span class=kc>True</span>

                <span class=n>widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=n>select</span><span class=p>)</span>

                <span class=k>if</span> <span class=p>(</span>
                    <span class=ow>not</span> <span class=n>passed_end_instance</span>
                    <span class=ow>and</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=o>==</span> <span class=n>end_instance_id</span>
                <span class=p>):</span>
                    <span class=n>passed_end_instance</span> <span class=o>=</span> <span class=kc>True</span>

        <span class=k>elif</span> <span class=n>name</span> <span class=o>==</span> <span class=n>start_group</span><span class=p>:</span>
            <span class=c1># First group from which selection should start</span>
            <span class=c1># - look for start instance first from which the selection</span>
            <span class=c1>#   should happen</span>
            <span class=n>passed_start_group</span> <span class=o>=</span> <span class=kc>True</span>
            <span class=n>passed_start_instance</span> <span class=o>=</span> <span class=kc>False</span>
            <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>sorted_widgets</span><span class=p>:</span>
                <span class=k>if</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=o>==</span> <span class=n>start_instance_id</span><span class=p>:</span>
                    <span class=n>passed_start_instance</span> <span class=o>=</span> <span class=kc>True</span>

                <span class=n>select</span> <span class=o>=</span> <span class=kc>False</span>
                <span class=c1># Check if passed start instance or instance is</span>
                <span class=c1>#   in explicitly selected items to be selected</span>
                <span class=k>if</span> <span class=p>(</span>
                    <span class=n>passed_start_instance</span>
                    <span class=ow>or</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span>
                <span class=p>):</span>
                    <span class=n>select</span> <span class=o>=</span> <span class=kc>True</span>
                <span class=n>widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=n>select</span><span class=p>)</span>

        <span class=k>elif</span> <span class=n>name</span> <span class=o>==</span> <span class=n>end_group</span><span class=p>:</span>
            <span class=c1># Last group where selection should happen</span>
            <span class=c1># - look for end instance first after which the selection</span>
            <span class=c1>#   should stop</span>
            <span class=n>passed_end_group</span> <span class=o>=</span> <span class=kc>True</span>
            <span class=n>passed_end_instance</span> <span class=o>=</span> <span class=kc>False</span>
            <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>sorted_widgets</span><span class=p>:</span>
                <span class=n>select</span> <span class=o>=</span> <span class=kc>False</span>
                <span class=c1># Check if not yet passed end instance or if instance is</span>
                <span class=c1>#   in explicitly selected items to be selected</span>
                <span class=k>if</span> <span class=p>(</span>
                    <span class=ow>not</span> <span class=n>passed_end_instance</span>
                    <span class=ow>or</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_instance_ids</span>
                <span class=p>):</span>
                    <span class=n>select</span> <span class=o>=</span> <span class=kc>True</span>

                <span class=n>widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=n>select</span><span class=p>)</span>

                <span class=k>if</span> <span class=n>widget</span><span class=o>.</span><span class=n>id</span> <span class=o>==</span> <span class=n>end_instance_id</span><span class=p>:</span>
                    <span class=n>passed_end_instance</span> <span class=o>=</span> <span class=kc>True</span>

        <span class=k>else</span><span class=p>:</span>
            <span class=c1># Just select everything between start and end group</span>
            <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>sorted_widgets</span><span class=p>:</span>
                <span class=n>widget</span><span class=o>.</span><span class=n>set_selected</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView.get_selected_items class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_selected_items</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Get selected instance ids and context.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1132</span>
<span class=normal>1133</span>
<span class=normal>1134</span>
<span class=normal>1135</span>
<span class=normal>1136</span>
<span class=normal>1137</span>
<span class=normal>1138</span>
<span class=normal>1139</span>
<span class=normal>1140</span>
<span class=normal>1141</span>
<span class=normal>1142</span>
<span class=normal>1143</span>
<span class=normal>1144</span>
<span class=normal>1145</span>
<span class=normal>1146</span>
<span class=normal>1147</span>
<span class=normal>1148</span>
<span class=normal>1149</span>
<span class=normal>1150</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_selected_items</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get selected instance ids and context.&quot;&quot;&quot;</span>

    <span class=n>convertor_identifiers</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=n>instances</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=n>selected_widgets</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_selected_widgets</span><span class=p>()</span>

    <span class=n>context_selected</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>selected_widgets</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>widget</span> <span class=ow>is</span> <span class=bp>self</span><span class=o>.</span><span class=n>_context_widget</span><span class=p>:</span>
            <span class=n>context_selected</span> <span class=o>=</span> <span class=kc>True</span>

        <span class=k>elif</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>widget</span><span class=p>,</span> <span class=n>InstanceCardWidget</span><span class=p>):</span>
            <span class=n>instances</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>widget</span><span class=o>.</span><span class=n>id</span><span class=p>)</span>

        <span class=k>elif</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>widget</span><span class=p>,</span> <span class=n>ConvertorItemCardWidget</span><span class=p>):</span>
            <span class=n>convertor_identifiers</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>widget</span><span class=o>.</span><span class=n>identifier</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>instances</span><span class=p>,</span> <span class=n>context_selected</span><span class=p>,</span> <span class=n>convertor_identifiers</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView.refresh class="doc doc-heading"> <code class="highlight language-python"><span class=n>refresh</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Refresh instances in view based on CreatedContext.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>692</span>
<span class=normal>693</span>
<span class=normal>694</span>
<span class=normal>695</span>
<span class=normal>696</span>
<span class=normal>697</span>
<span class=normal>698</span>
<span class=normal>699</span>
<span class=normal>700</span>
<span class=normal>701</span>
<span class=normal>702</span>
<span class=normal>703</span>
<span class=normal>704</span>
<span class=normal>705</span>
<span class=normal>706</span>
<span class=normal>707</span>
<span class=normal>708</span>
<span class=normal>709</span>
<span class=normal>710</span>
<span class=normal>711</span>
<span class=normal>712</span>
<span class=normal>713</span>
<span class=normal>714</span>
<span class=normal>715</span>
<span class=normal>716</span>
<span class=normal>717</span>
<span class=normal>718</span>
<span class=normal>719</span>
<span class=normal>720</span>
<span class=normal>721</span>
<span class=normal>722</span>
<span class=normal>723</span>
<span class=normal>724</span>
<span class=normal>725</span>
<span class=normal>726</span>
<span class=normal>727</span>
<span class=normal>728</span>
<span class=normal>729</span>
<span class=normal>730</span>
<span class=normal>731</span>
<span class=normal>732</span>
<span class=normal>733</span>
<span class=normal>734</span>
<span class=normal>735</span>
<span class=normal>736</span>
<span class=normal>737</span>
<span class=normal>738</span>
<span class=normal>739</span>
<span class=normal>740</span>
<span class=normal>741</span>
<span class=normal>742</span>
<span class=normal>743</span>
<span class=normal>744</span>
<span class=normal>745</span>
<span class=normal>746</span>
<span class=normal>747</span>
<span class=normal>748</span>
<span class=normal>749</span>
<span class=normal>750</span>
<span class=normal>751</span>
<span class=normal>752</span>
<span class=normal>753</span>
<span class=normal>754</span>
<span class=normal>755</span>
<span class=normal>756</span>
<span class=normal>757</span>
<span class=normal>758</span>
<span class=normal>759</span>
<span class=normal>760</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>refresh</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Refresh instances in view based on CreatedContext.&quot;&quot;&quot;</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_make_sure_context_widget_exists</span><span class=p>()</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_update_convertor_items_group</span><span class=p>()</span>

    <span class=n>context_info_by_id</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_controller</span><span class=o>.</span><span class=n>get_instances_context_info</span><span class=p>()</span>

    <span class=c1># Prepare instances by group and identifiers by group</span>
    <span class=n>instances_by_group</span> <span class=o>=</span> <span class=n>collections</span><span class=o>.</span><span class=n>defaultdict</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
    <span class=n>identifiers_by_group</span> <span class=o>=</span> <span class=n>collections</span><span class=o>.</span><span class=n>defaultdict</span><span class=p>(</span><span class=nb>set</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>instance</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_controller</span><span class=o>.</span><span class=n>get_instance_items</span><span class=p>():</span>
        <span class=n>group_name</span> <span class=o>=</span> <span class=n>instance</span><span class=o>.</span><span class=n>group_label</span>
        <span class=n>instances_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>instance</span><span class=p>)</span>
        <span class=n>identifiers_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>]</span><span class=o>.</span><span class=n>add</span><span class=p>(</span>
            <span class=n>instance</span><span class=o>.</span><span class=n>creator_identifier</span>
        <span class=p>)</span>

    <span class=c1># Remove groups that were not found in apassed instances</span>
    <span class=k>for</span> <span class=n>group_name</span> <span class=ow>in</span> <span class=nb>tuple</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=o>.</span><span class=n>keys</span><span class=p>()):</span>
        <span class=k>if</span> <span class=n>group_name</span> <span class=ow>in</span> <span class=n>instances_by_group</span><span class=p>:</span>
            <span class=k>continue</span>

        <span class=n>widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=n>group_name</span><span class=p>)</span>
        <span class=n>widget</span><span class=o>.</span><span class=n>setVisible</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_content_layout</span><span class=o>.</span><span class=n>removeWidget</span><span class=p>(</span><span class=n>widget</span><span class=p>)</span>
        <span class=n>widget</span><span class=o>.</span><span class=n>deleteLater</span><span class=p>()</span>

        <span class=k>if</span> <span class=n>group_name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_explicitly_selected_groups</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>group_name</span><span class=p>)</span>

    <span class=c1># Sort groups</span>
    <span class=n>sorted_group_names</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>sorted</span><span class=p>(</span><span class=n>instances_by_group</span><span class=o>.</span><span class=n>keys</span><span class=p>()))</span>

    <span class=c1># Keep track of widget indexes</span>
    <span class=c1># - we start with 1 because Context item as at the top</span>
    <span class=n>widget_idx</span> <span class=o>=</span> <span class=mi>1</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_convertor_items_group</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>widget_idx</span> <span class=o>+=</span> <span class=mi>1</span>

    <span class=k>for</span> <span class=n>group_name</span> <span class=ow>in</span> <span class=n>sorted_group_names</span><span class=p>:</span>
        <span class=n>group_icons</span> <span class=o>=</span> <span class=p>{</span>
            <span class=n>identifier</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>_controller</span><span class=o>.</span><span class=n>get_creator_icon</span><span class=p>(</span><span class=n>identifier</span><span class=p>)</span>
            <span class=k>for</span> <span class=n>identifier</span> <span class=ow>in</span> <span class=n>identifiers_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>]</span>
        <span class=p>}</span>
        <span class=k>if</span> <span class=n>group_name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=p>:</span>
            <span class=n>group_widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>]</span>
            <span class=n>group_widget</span><span class=o>.</span><span class=n>update_icons</span><span class=p>(</span><span class=n>group_icons</span><span class=p>)</span>

        <span class=k>else</span><span class=p>:</span>
            <span class=n>group_widget</span> <span class=o>=</span> <span class=n>InstanceGroupWidget</span><span class=p>(</span>
                <span class=n>group_icons</span><span class=p>,</span> <span class=n>group_name</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_content_widget</span>
            <span class=p>)</span>
            <span class=n>group_widget</span><span class=o>.</span><span class=n>active_changed</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_on_active_changed</span><span class=p>)</span>
            <span class=n>group_widget</span><span class=o>.</span><span class=n>selected</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_on_widget_selection</span><span class=p>)</span>
            <span class=n>group_widget</span><span class=o>.</span><span class=n>double_clicked</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>double_clicked</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_content_layout</span><span class=o>.</span><span class=n>insertWidget</span><span class=p>(</span><span class=n>widget_idx</span><span class=p>,</span> <span class=n>group_widget</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>group_widget</span>

        <span class=n>widget_idx</span> <span class=o>+=</span> <span class=mi>1</span>
        <span class=n>group_widget</span><span class=o>.</span><span class=n>update_instances</span><span class=p>(</span>
            <span class=n>instances_by_group</span><span class=p>[</span><span class=n>group_name</span><span class=p>],</span> <span class=n>context_info_by_id</span>
        <span class=p>)</span>
        <span class=n>group_widget</span><span class=o>.</span><span class=n>set_active_toggle_enabled</span><span class=p>(</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_active_toggle_enabled</span>
        <span class=p>)</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_update_ordered_group_names</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView.refresh_instance_states class="doc doc-heading"> <code class="highlight language-python"><span class=n>refresh_instance_states</span><span class=p>(</span><span class=n>instance_ids</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Trigger update of instances on group widgets.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>819</span>
<span class=normal>820</span>
<span class=normal>821</span>
<span class=normal>822</span>
<span class=normal>823</span>
<span class=normal>824</span>
<span class=normal>825</span>
<span class=normal>826</span>
<span class=normal>827</span>
<span class=normal>828</span>
<span class=normal>829</span>
<span class=normal>830</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>refresh_instance_states</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>instance_ids</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Trigger update of instances on group widgets.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>instance_ids</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>instance_ids</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>instance_ids</span><span class=p>)</span>
    <span class=n>context_info_by_id</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_controller</span><span class=o>.</span><span class=n>get_instances_context_info</span><span class=p>()</span>
    <span class=n>instance_items_by_id</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_controller</span><span class=o>.</span><span class=n>get_instance_items_by_id</span><span class=p>(</span>
        <span class=n>instance_ids</span>
    <span class=p>)</span>
    <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_group</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
        <span class=n>widget</span><span class=o>.</span><span class=n>update_instance_values</span><span class=p>(</span>
            <span class=n>context_info_by_id</span><span class=p>,</span> <span class=n>instance_items_by_id</span><span class=p>,</span> <span class=n>instance_ids</span>
        <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardView.sizeHint class="doc doc-heading"> <code class="highlight language-python"><span class=n>sizeHint</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Modify sizeHint based on visibility of scroll bars.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>608</span>
<span class=normal>609</span>
<span class=normal>610</span>
<span class=normal>611</span>
<span class=normal>612</span>
<span class=normal>613</span>
<span class=normal>614</span>
<span class=normal>615</span>
<span class=normal>616</span>
<span class=normal>617</span>
<span class=normal>618</span>
<span class=normal>619</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>sizeHint</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Modify sizeHint based on visibility of scroll bars.&quot;&quot;&quot;</span>
    <span class=c1># Calculate width hint by content widget and vertical scroll bar</span>
    <span class=n>scroll_bar</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_scroll_area</span><span class=o>.</span><span class=n>verticalScrollBar</span><span class=p>()</span>
    <span class=n>width</span> <span class=o>=</span> <span class=p>(</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_content_widget</span><span class=o>.</span><span class=n>sizeHint</span><span class=p>()</span><span class=o>.</span><span class=n>width</span><span class=p>()</span>
        <span class=o>+</span> <span class=n>scroll_bar</span><span class=o>.</span><span class=n>sizeHint</span><span class=p>()</span><span class=o>.</span><span class=n>width</span><span class=p>()</span>
    <span class=p>)</span>

    <span class=n>result</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=n>sizeHint</span><span class=p>()</span>
    <span class=n>result</span><span class=o>.</span><span class=n>setWidth</span><span class=p>(</span><span class=n>width</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>result</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardWidget class="doc doc-heading"> <code>InstanceCardWidget</code> </h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="CardWidget (client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget)" href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.CardWidget>CardWidget</a></code></p> <p>Card widget representing instance.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>404</span>
<span class=normal>405</span>
<span class=normal>406</span>
<span class=normal>407</span>
<span class=normal>408</span>
<span class=normal>409</span>
<span class=normal>410</span>
<span class=normal>411</span>
<span class=normal>412</span>
<span class=normal>413</span>
<span class=normal>414</span>
<span class=normal>415</span>
<span class=normal>416</span>
<span class=normal>417</span>
<span class=normal>418</span>
<span class=normal>419</span>
<span class=normal>420</span>
<span class=normal>421</span>
<span class=normal>422</span>
<span class=normal>423</span>
<span class=normal>424</span>
<span class=normal>425</span>
<span class=normal>426</span>
<span class=normal>427</span>
<span class=normal>428</span>
<span class=normal>429</span>
<span class=normal>430</span>
<span class=normal>431</span>
<span class=normal>432</span>
<span class=normal>433</span>
<span class=normal>434</span>
<span class=normal>435</span>
<span class=normal>436</span>
<span class=normal>437</span>
<span class=normal>438</span>
<span class=normal>439</span>
<span class=normal>440</span>
<span class=normal>441</span>
<span class=normal>442</span>
<span class=normal>443</span>
<span class=normal>444</span>
<span class=normal>445</span>
<span class=normal>446</span>
<span class=normal>447</span>
<span class=normal>448</span>
<span class=normal>449</span>
<span class=normal>450</span>
<span class=normal>451</span>
<span class=normal>452</span>
<span class=normal>453</span>
<span class=normal>454</span>
<span class=normal>455</span>
<span class=normal>456</span>
<span class=normal>457</span>
<span class=normal>458</span>
<span class=normal>459</span>
<span class=normal>460</span>
<span class=normal>461</span>
<span class=normal>462</span>
<span class=normal>463</span>
<span class=normal>464</span>
<span class=normal>465</span>
<span class=normal>466</span>
<span class=normal>467</span>
<span class=normal>468</span>
<span class=normal>469</span>
<span class=normal>470</span>
<span class=normal>471</span>
<span class=normal>472</span>
<span class=normal>473</span>
<span class=normal>474</span>
<span class=normal>475</span>
<span class=normal>476</span>
<span class=normal>477</span>
<span class=normal>478</span>
<span class=normal>479</span>
<span class=normal>480</span>
<span class=normal>481</span>
<span class=normal>482</span>
<span class=normal>483</span>
<span class=normal>484</span>
<span class=normal>485</span>
<span class=normal>486</span>
<span class=normal>487</span>
<span class=normal>488</span>
<span class=normal>489</span>
<span class=normal>490</span>
<span class=normal>491</span>
<span class=normal>492</span>
<span class=normal>493</span>
<span class=normal>494</span>
<span class=normal>495</span>
<span class=normal>496</span>
<span class=normal>497</span>
<span class=normal>498</span>
<span class=normal>499</span>
<span class=normal>500</span>
<span class=normal>501</span>
<span class=normal>502</span>
<span class=normal>503</span>
<span class=normal>504</span>
<span class=normal>505</span>
<span class=normal>506</span>
<span class=normal>507</span>
<span class=normal>508</span>
<span class=normal>509</span>
<span class=normal>510</span>
<span class=normal>511</span>
<span class=normal>512</span>
<span class=normal>513</span>
<span class=normal>514</span>
<span class=normal>515</span>
<span class=normal>516</span>
<span class=normal>517</span>
<span class=normal>518</span>
<span class=normal>519</span>
<span class=normal>520</span>
<span class=normal>521</span>
<span class=normal>522</span>
<span class=normal>523</span>
<span class=normal>524</span>
<span class=normal>525</span>
<span class=normal>526</span>
<span class=normal>527</span>
<span class=normal>528</span>
<span class=normal>529</span>
<span class=normal>530</span>
<span class=normal>531</span>
<span class=normal>532</span>
<span class=normal>533</span>
<span class=normal>534</span>
<span class=normal>535</span>
<span class=normal>536</span>
<span class=normal>537</span>
<span class=normal>538</span>
<span class=normal>539</span>
<span class=normal>540</span>
<span class=normal>541</span>
<span class=normal>542</span>
<span class=normal>543</span>
<span class=normal>544</span>
<span class=normal>545</span>
<span class=normal>546</span>
<span class=normal>547</span>
<span class=normal>548</span>
<span class=normal>549</span>
<span class=normal>550</span>
<span class=normal>551</span>
<span class=normal>552</span>
<span class=normal>553</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>InstanceCardWidget</span><span class=p>(</span><span class=n>CardWidget</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Card widget representing instance.&quot;&quot;&quot;</span>

    <span class=n>active_changed</span> <span class=o>=</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Signal</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=nb>bool</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>instance</span><span class=p>,</span> <span class=n>context_info</span><span class=p>,</span> <span class=n>group_icon</span><span class=p>,</span> <span class=n>parent</span><span class=p>):</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_id</span> <span class=o>=</span> <span class=n>instance</span><span class=o>.</span><span class=n>id</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_group_identifier</span> <span class=o>=</span> <span class=n>instance</span><span class=o>.</span><span class=n>group_label</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_group_icon</span> <span class=o>=</span> <span class=n>group_icon</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>instance</span> <span class=o>=</span> <span class=n>instance</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_last_product_name</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_last_variant</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_last_label</span> <span class=o>=</span> <span class=kc>None</span>

        <span class=n>icon_widget</span> <span class=o>=</span> <span class=n>IconValuePixmapLabel</span><span class=p>(</span><span class=n>group_icon</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
        <span class=n>icon_widget</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;ProductTypeIconLabel&quot;</span><span class=p>)</span>
        <span class=n>context_warning</span> <span class=o>=</span> <span class=n>ContextWarningLabel</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>

        <span class=n>icon_layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QHBoxLayout</span><span class=p>()</span>
        <span class=n>icon_layout</span><span class=o>.</span><span class=n>setContentsMargins</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
        <span class=n>icon_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>icon_widget</span><span class=p>)</span>
        <span class=n>icon_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>context_warning</span><span class=p>)</span>

        <span class=n>label_widget</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QLabel</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
        <span class=n>active_checkbox</span> <span class=o>=</span> <span class=n>NiceCheckbox</span><span class=p>(</span><span class=n>parent</span><span class=o>=</span><span class=bp>self</span><span class=p>)</span>

        <span class=n>expand_btn</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QToolButton</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
        <span class=c1># Not yet implemented</span>
        <span class=n>expand_btn</span><span class=o>.</span><span class=n>setVisible</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
        <span class=n>expand_btn</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;ArrowBtn&quot;</span><span class=p>)</span>
        <span class=n>expand_btn</span><span class=o>.</span><span class=n>setArrowType</span><span class=p>(</span><span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>DownArrow</span><span class=p>)</span>
        <span class=n>expand_btn</span><span class=o>.</span><span class=n>setMaximumWidth</span><span class=p>(</span><span class=mi>14</span><span class=p>)</span>
        <span class=n>expand_btn</span><span class=o>.</span><span class=n>setEnabled</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>

        <span class=n>detail_widget</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QWidget</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
        <span class=n>detail_widget</span><span class=o>.</span><span class=n>setVisible</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>detail_widget</span> <span class=o>=</span> <span class=n>detail_widget</span>

        <span class=n>top_layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QHBoxLayout</span><span class=p>()</span>
        <span class=n>top_layout</span><span class=o>.</span><span class=n>addLayout</span><span class=p>(</span><span class=n>icon_layout</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
        <span class=n>top_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>label_widget</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
        <span class=n>top_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>context_warning</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
        <span class=n>top_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>active_checkbox</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
        <span class=n>top_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>expand_btn</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>

        <span class=n>layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QHBoxLayout</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
        <span class=n>layout</span><span class=o>.</span><span class=n>setContentsMargins</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
        <span class=n>layout</span><span class=o>.</span><span class=n>addLayout</span><span class=p>(</span><span class=n>top_layout</span><span class=p>)</span>
        <span class=n>layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>detail_widget</span><span class=p>)</span>

        <span class=n>active_checkbox</span><span class=o>.</span><span class=n>setAttribute</span><span class=p>(</span><span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>WA_TranslucentBackground</span><span class=p>)</span>
        <span class=n>expand_btn</span><span class=o>.</span><span class=n>setAttribute</span><span class=p>(</span><span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>WA_TranslucentBackground</span><span class=p>)</span>

        <span class=n>active_checkbox</span><span class=o>.</span><span class=n>stateChanged</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_on_active_change</span><span class=p>)</span>
        <span class=n>expand_btn</span><span class=o>.</span><span class=n>clicked</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_on_expend_clicked</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_icon_widget</span> <span class=o>=</span> <span class=n>icon_widget</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_label_widget</span> <span class=o>=</span> <span class=n>label_widget</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_context_warning</span> <span class=o>=</span> <span class=n>context_warning</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_active_checkbox</span> <span class=o>=</span> <span class=n>active_checkbox</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_expand_btn</span> <span class=o>=</span> <span class=n>expand_btn</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_update_instance_values</span><span class=p>(</span><span class=n>context_info</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>set_active_toggle_enabled</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>enabled</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_active_checkbox</span><span class=o>.</span><span class=n>setEnabled</span><span class=p>(</span><span class=n>enabled</span><span class=p>)</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>is_active</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_active_checkbox</span><span class=o>.</span><span class=n>isChecked</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_set_active</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>new_value</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Set instance as active.&quot;&quot;&quot;</span>
        <span class=n>checkbox_value</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_active_checkbox</span><span class=o>.</span><span class=n>isChecked</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>checkbox_value</span> <span class=o>!=</span> <span class=n>new_value</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_active_checkbox</span><span class=o>.</span><span class=n>setChecked</span><span class=p>(</span><span class=n>new_value</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>update_instance</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>instance</span><span class=p>,</span> <span class=n>context_info</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Update instance object and update UI.&quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>instance</span> <span class=o>=</span> <span class=n>instance</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_update_instance_values</span><span class=p>(</span><span class=n>context_info</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_validate_context</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context_info</span><span class=p>):</span>
        <span class=n>valid</span> <span class=o>=</span> <span class=n>context_info</span><span class=o>.</span><span class=n>is_valid</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_icon_widget</span><span class=o>.</span><span class=n>setVisible</span><span class=p>(</span><span class=n>valid</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_context_warning</span><span class=o>.</span><span class=n>setVisible</span><span class=p>(</span><span class=ow>not</span> <span class=n>valid</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_update_product_name</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>variant</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>instance</span><span class=o>.</span><span class=n>variant</span>
        <span class=n>product_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>instance</span><span class=o>.</span><span class=n>product_name</span>
        <span class=n>label</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>instance</span><span class=o>.</span><span class=n>label</span>
        <span class=k>if</span> <span class=p>(</span>
            <span class=n>variant</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>_last_variant</span>
            <span class=ow>and</span> <span class=n>product_name</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>_last_product_name</span>
            <span class=ow>and</span> <span class=n>label</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>_last_label</span>
        <span class=p>):</span>
            <span class=k>return</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_last_variant</span> <span class=o>=</span> <span class=n>variant</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_last_product_name</span> <span class=o>=</span> <span class=n>product_name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_last_label</span> <span class=o>=</span> <span class=n>label</span>
        <span class=c1># Make `variant` bold</span>
        <span class=n>label</span> <span class=o>=</span> <span class=n>html_escape</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>instance</span><span class=o>.</span><span class=n>label</span><span class=p>)</span>
        <span class=n>found_parts</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>variant</span><span class=p>,</span> <span class=n>label</span><span class=p>,</span> <span class=n>re</span><span class=o>.</span><span class=n>IGNORECASE</span><span class=p>))</span>
        <span class=k>if</span> <span class=n>found_parts</span><span class=p>:</span>
            <span class=k>for</span> <span class=n>part</span> <span class=ow>in</span> <span class=n>found_parts</span><span class=p>:</span>
                <span class=n>replacement</span> <span class=o>=</span> <span class=s2>&quot;&lt;b&gt;</span><span class=si>{}</span><span class=s2>&lt;/b&gt;&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>part</span><span class=p>)</span>
                <span class=n>label</span> <span class=o>=</span> <span class=n>label</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=n>part</span><span class=p>,</span> <span class=n>replacement</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_label_widget</span><span class=o>.</span><span class=n>setText</span><span class=p>(</span><span class=n>label</span><span class=p>)</span>
        <span class=c1># HTML text will cause that label start catch mouse clicks</span>
        <span class=c1># - disabling with changing interaction flag</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_label_widget</span><span class=o>.</span><span class=n>setTextInteractionFlags</span><span class=p>(</span>
            <span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>NoTextInteraction</span>
        <span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_update_instance_values</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context_info</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Update instance data&quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_update_product_name</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_set_active</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>instance</span><span class=o>.</span><span class=n>is_active</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_validate_context</span><span class=p>(</span><span class=n>context_info</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_set_expanded</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>expanded</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>expanded</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>expanded</span> <span class=o>=</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>detail_widget</span><span class=o>.</span><span class=n>isVisible</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>detail_widget</span><span class=o>.</span><span class=n>setVisible</span><span class=p>(</span><span class=n>expanded</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_on_active_change</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=n>new_value</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_active_checkbox</span><span class=o>.</span><span class=n>isChecked</span><span class=p>()</span>
        <span class=n>old_value</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>instance</span><span class=o>.</span><span class=n>is_active</span>
        <span class=k>if</span> <span class=n>new_value</span> <span class=o>==</span> <span class=n>old_value</span><span class=p>:</span>
            <span class=k>return</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>active_changed</span><span class=o>.</span><span class=n>emit</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_id</span><span class=p>,</span> <span class=n>new_value</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_on_expend_clicked</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_set_expanded</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_is_valid_double_click</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>):</span>
        <span class=n>widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>childAt</span><span class=p>(</span><span class=n>event</span><span class=o>.</span><span class=n>pos</span><span class=p>())</span>
        <span class=k>if</span> <span class=p>(</span>
            <span class=n>widget</span> <span class=ow>is</span> <span class=bp>self</span><span class=o>.</span><span class=n>_active_checkbox</span>
            <span class=ow>or</span> <span class=n>widget</span> <span class=ow>is</span> <span class=bp>self</span><span class=o>.</span><span class=n>_expand_btn</span>
        <span class=p>):</span>
            <span class=k>return</span> <span class=kc>False</span>
        <span class=k>return</span> <span class=kc>True</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardWidget._set_active class="doc doc-heading"> <code class="highlight language-python"><span class=n>_set_active</span><span class=p>(</span><span class=n>new_value</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Set instance as active.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>479</span>
<span class=normal>480</span>
<span class=normal>481</span>
<span class=normal>482</span>
<span class=normal>483</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_set_active</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>new_value</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Set instance as active.&quot;&quot;&quot;</span>
    <span class=n>checkbox_value</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_active_checkbox</span><span class=o>.</span><span class=n>isChecked</span><span class=p>()</span>
    <span class=k>if</span> <span class=n>checkbox_value</span> <span class=o>!=</span> <span class=n>new_value</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_active_checkbox</span><span class=o>.</span><span class=n>setChecked</span><span class=p>(</span><span class=n>new_value</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardWidget._update_instance_values class="doc doc-heading"> <code class="highlight language-python"><span class=n>_update_instance_values</span><span class=p>(</span><span class=n>context_info</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Update instance data</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>524</span>
<span class=normal>525</span>
<span class=normal>526</span>
<span class=normal>527</span>
<span class=normal>528</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_update_instance_values</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context_info</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Update instance data&quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_update_product_name</span><span class=p>()</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_set_active</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>instance</span><span class=o>.</span><span class=n>is_active</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_validate_context</span><span class=p>(</span><span class=n>context_info</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceCardWidget.update_instance class="doc doc-heading"> <code class="highlight language-python"><span class=n>update_instance</span><span class=p>(</span><span class=n>instance</span><span class=p>,</span> <span class=n>context_info</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Update instance object and update UI.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>485</span>
<span class=normal>486</span>
<span class=normal>487</span>
<span class=normal>488</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>update_instance</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>instance</span><span class=p>,</span> <span class=n>context_info</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Update instance object and update UI.&quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>instance</span> <span class=o>=</span> <span class=n>instance</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_update_instance_values</span><span class=p>(</span><span class=n>context_info</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceGroupWidget class="doc doc-heading"> <code>InstanceGroupWidget</code> </h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="BaseGroupWidget (client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget)" href=#client.ayon_core.tools.publisher.widgets.card_view_widgets.BaseGroupWidget>BaseGroupWidget</a></code></p> <p>Widget wrapping instances under group.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>208</span>
<span class=normal>209</span>
<span class=normal>210</span>
<span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span>
<span class=normal>214</span>
<span class=normal>215</span>
<span class=normal>216</span>
<span class=normal>217</span>
<span class=normal>218</span>
<span class=normal>219</span>
<span class=normal>220</span>
<span class=normal>221</span>
<span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span>
<span class=normal>232</span>
<span class=normal>233</span>
<span class=normal>234</span>
<span class=normal>235</span>
<span class=normal>236</span>
<span class=normal>237</span>
<span class=normal>238</span>
<span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span>
<span class=normal>252</span>
<span class=normal>253</span>
<span class=normal>254</span>
<span class=normal>255</span>
<span class=normal>256</span>
<span class=normal>257</span>
<span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span>
<span class=normal>264</span>
<span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span>
<span class=normal>268</span>
<span class=normal>269</span>
<span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span>
<span class=normal>273</span>
<span class=normal>274</span>
<span class=normal>275</span>
<span class=normal>276</span>
<span class=normal>277</span>
<span class=normal>278</span>
<span class=normal>279</span>
<span class=normal>280</span>
<span class=normal>281</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>InstanceGroupWidget</span><span class=p>(</span><span class=n>BaseGroupWidget</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Widget wrapping instances under group.&quot;&quot;&quot;</span>

    <span class=n>active_changed</span> <span class=o>=</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Signal</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=nb>str</span><span class=p>,</span> <span class=nb>bool</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>group_icons</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_group_icons</span> <span class=o>=</span> <span class=n>group_icons</span>

    <span class=k>def</span><span class=w> </span><span class=nf>update_icons</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>group_icons</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_group_icons</span> <span class=o>=</span> <span class=n>group_icons</span>

    <span class=k>def</span><span class=w> </span><span class=nf>update_instance_values</span><span class=p>(</span>
        <span class=bp>self</span><span class=p>,</span> <span class=n>context_info_by_id</span><span class=p>,</span> <span class=n>instance_items_by_id</span><span class=p>,</span> <span class=n>instance_ids</span>
    <span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Trigger update on instance widgets.&quot;&quot;&quot;</span>

        <span class=k>for</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>widget</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
            <span class=k>if</span> <span class=n>instance_ids</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>instance_id</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>instance_ids</span><span class=p>:</span>
                <span class=k>continue</span>
            <span class=n>widget</span><span class=o>.</span><span class=n>update_instance</span><span class=p>(</span>
                <span class=n>instance_items_by_id</span><span class=p>[</span><span class=n>instance_id</span><span class=p>],</span>
                <span class=n>context_info_by_id</span><span class=p>[</span><span class=n>instance_id</span><span class=p>]</span>
            <span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>update_instances</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>instances</span><span class=p>,</span> <span class=n>context_info_by_id</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Update instances for the group.</span>

<span class=sd>        Args:</span>
<span class=sd>            instances (list[InstanceItem]): List of instances in</span>
<span class=sd>                CreateContext.</span>
<span class=sd>            context_info_by_id (Dict[str, InstanceContextInfo]): Instance</span>
<span class=sd>                context info by instance id.</span>

<span class=sd>        &quot;&quot;&quot;</span>
        <span class=c1># Store instances by id and by product name</span>
        <span class=n>instances_by_id</span> <span class=o>=</span> <span class=p>{}</span>
        <span class=n>instances_by_product_name</span> <span class=o>=</span> <span class=n>collections</span><span class=o>.</span><span class=n>defaultdict</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>instance</span> <span class=ow>in</span> <span class=n>instances</span><span class=p>:</span>
            <span class=n>instances_by_id</span><span class=p>[</span><span class=n>instance</span><span class=o>.</span><span class=n>id</span><span class=p>]</span> <span class=o>=</span> <span class=n>instance</span>
            <span class=n>product_name</span> <span class=o>=</span> <span class=n>instance</span><span class=o>.</span><span class=n>product_name</span>
            <span class=n>instances_by_product_name</span><span class=p>[</span><span class=n>product_name</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>instance</span><span class=p>)</span>

        <span class=c1># Remove instance widgets that are not in passed instances</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_remove_all_except</span><span class=p>(</span><span class=n>instances_by_id</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span>

        <span class=c1># Sort instances by product name</span>
        <span class=n>sorted_product_names</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>sorted</span><span class=p>(</span><span class=n>instances_by_product_name</span><span class=o>.</span><span class=n>keys</span><span class=p>()))</span>

        <span class=c1># Add new instances to widget</span>
        <span class=n>widget_idx</span> <span class=o>=</span> <span class=mi>1</span>
        <span class=k>for</span> <span class=n>product_names</span> <span class=ow>in</span> <span class=n>sorted_product_names</span><span class=p>:</span>
            <span class=k>for</span> <span class=n>instance</span> <span class=ow>in</span> <span class=n>instances_by_product_name</span><span class=p>[</span><span class=n>product_names</span><span class=p>]:</span>
                <span class=n>context_info</span> <span class=o>=</span> <span class=n>context_info_by_id</span><span class=p>[</span><span class=n>instance</span><span class=o>.</span><span class=n>id</span><span class=p>]</span>
                <span class=k>if</span> <span class=n>instance</span><span class=o>.</span><span class=n>id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=p>:</span>
                    <span class=n>widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=p>[</span><span class=n>instance</span><span class=o>.</span><span class=n>id</span><span class=p>]</span>
                    <span class=n>widget</span><span class=o>.</span><span class=n>update_instance</span><span class=p>(</span><span class=n>instance</span><span class=p>,</span> <span class=n>context_info</span><span class=p>)</span>
                <span class=k>else</span><span class=p>:</span>
                    <span class=n>group_icon</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_group_icons</span><span class=p>[</span><span class=n>instance</span><span class=o>.</span><span class=n>creator_identifier</span><span class=p>]</span>
                    <span class=n>widget</span> <span class=o>=</span> <span class=n>InstanceCardWidget</span><span class=p>(</span>
                        <span class=n>instance</span><span class=p>,</span> <span class=n>context_info</span><span class=p>,</span> <span class=n>group_icon</span><span class=p>,</span> <span class=bp>self</span>
                    <span class=p>)</span>
                    <span class=n>widget</span><span class=o>.</span><span class=n>selected</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_on_widget_selection</span><span class=p>)</span>
                    <span class=n>widget</span><span class=o>.</span><span class=n>active_changed</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_on_active_changed</span><span class=p>)</span>
                    <span class=n>widget</span><span class=o>.</span><span class=n>double_clicked</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>double_clicked</span><span class=p>)</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=p>[</span><span class=n>instance</span><span class=o>.</span><span class=n>id</span><span class=p>]</span> <span class=o>=</span> <span class=n>widget</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>_content_layout</span><span class=o>.</span><span class=n>insertWidget</span><span class=p>(</span><span class=n>widget_idx</span><span class=p>,</span> <span class=n>widget</span><span class=p>)</span>
                <span class=n>widget_idx</span> <span class=o>+=</span> <span class=mi>1</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_update_ordered_item_ids</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_on_active_changed</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>active_changed</span><span class=o>.</span><span class=n>emit</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>group_name</span><span class=p>,</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceGroupWidget.update_instance_values class="doc doc-heading"> <code class="highlight language-python"><span class=n>update_instance_values</span><span class=p>(</span><span class=n>context_info_by_id</span><span class=p>,</span> <span class=n>instance_items_by_id</span><span class=p>,</span> <span class=n>instance_ids</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Trigger update on instance widgets.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>221</span>
<span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span>
<span class=normal>232</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>update_instance_values</span><span class=p>(</span>
    <span class=bp>self</span><span class=p>,</span> <span class=n>context_info_by_id</span><span class=p>,</span> <span class=n>instance_items_by_id</span><span class=p>,</span> <span class=n>instance_ids</span>
<span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Trigger update on instance widgets.&quot;&quot;&quot;</span>

    <span class=k>for</span> <span class=n>instance_id</span><span class=p>,</span> <span class=n>widget</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
        <span class=k>if</span> <span class=n>instance_ids</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span> <span class=ow>and</span> <span class=n>instance_id</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>instance_ids</span><span class=p>:</span>
            <span class=k>continue</span>
        <span class=n>widget</span><span class=o>.</span><span class=n>update_instance</span><span class=p>(</span>
            <span class=n>instance_items_by_id</span><span class=p>[</span><span class=n>instance_id</span><span class=p>],</span>
            <span class=n>context_info_by_id</span><span class=p>[</span><span class=n>instance_id</span><span class=p>]</span>
        <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.tools.publisher.widgets.card_view_widgets.InstanceGroupWidget.update_instances class="doc doc-heading"> <code class="highlight language-python"><span class=n>update_instances</span><span class=p>(</span><span class=n>instances</span><span class=p>,</span> <span class=n>context_info_by_id</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Update instances for the group.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>instances</code> </td> <td> <code><span title=list>list</span>[<span title=InstanceItem>InstanceItem</span>]</code> </td> <td> <div class=doc-md-description> <p>List of instances in CreateContext.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>context_info_by_id</code> </td> <td> <code><span title=typing.Dict>Dict</span>[<span title=str>str</span>, <span title=InstanceContextInfo>InstanceContextInfo</span>]</code> </td> <td> <div class=doc-md-description> <p>Instance context info by instance id.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/tools/publisher/widgets/card_view_widgets.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>234</span>
<span class=normal>235</span>
<span class=normal>236</span>
<span class=normal>237</span>
<span class=normal>238</span>
<span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span>
<span class=normal>252</span>
<span class=normal>253</span>
<span class=normal>254</span>
<span class=normal>255</span>
<span class=normal>256</span>
<span class=normal>257</span>
<span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span>
<span class=normal>264</span>
<span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span>
<span class=normal>268</span>
<span class=normal>269</span>
<span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span>
<span class=normal>273</span>
<span class=normal>274</span>
<span class=normal>275</span>
<span class=normal>276</span>
<span class=normal>277</span>
<span class=normal>278</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>update_instances</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>instances</span><span class=p>,</span> <span class=n>context_info_by_id</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Update instances for the group.</span>

<span class=sd>    Args:</span>
<span class=sd>        instances (list[InstanceItem]): List of instances in</span>
<span class=sd>            CreateContext.</span>
<span class=sd>        context_info_by_id (Dict[str, InstanceContextInfo]): Instance</span>
<span class=sd>            context info by instance id.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># Store instances by id and by product name</span>
    <span class=n>instances_by_id</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=n>instances_by_product_name</span> <span class=o>=</span> <span class=n>collections</span><span class=o>.</span><span class=n>defaultdict</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>instance</span> <span class=ow>in</span> <span class=n>instances</span><span class=p>:</span>
        <span class=n>instances_by_id</span><span class=p>[</span><span class=n>instance</span><span class=o>.</span><span class=n>id</span><span class=p>]</span> <span class=o>=</span> <span class=n>instance</span>
        <span class=n>product_name</span> <span class=o>=</span> <span class=n>instance</span><span class=o>.</span><span class=n>product_name</span>
        <span class=n>instances_by_product_name</span><span class=p>[</span><span class=n>product_name</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>instance</span><span class=p>)</span>

    <span class=c1># Remove instance widgets that are not in passed instances</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_remove_all_except</span><span class=p>(</span><span class=n>instances_by_id</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span>

    <span class=c1># Sort instances by product name</span>
    <span class=n>sorted_product_names</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>sorted</span><span class=p>(</span><span class=n>instances_by_product_name</span><span class=o>.</span><span class=n>keys</span><span class=p>()))</span>

    <span class=c1># Add new instances to widget</span>
    <span class=n>widget_idx</span> <span class=o>=</span> <span class=mi>1</span>
    <span class=k>for</span> <span class=n>product_names</span> <span class=ow>in</span> <span class=n>sorted_product_names</span><span class=p>:</span>
        <span class=k>for</span> <span class=n>instance</span> <span class=ow>in</span> <span class=n>instances_by_product_name</span><span class=p>[</span><span class=n>product_names</span><span class=p>]:</span>
            <span class=n>context_info</span> <span class=o>=</span> <span class=n>context_info_by_id</span><span class=p>[</span><span class=n>instance</span><span class=o>.</span><span class=n>id</span><span class=p>]</span>
            <span class=k>if</span> <span class=n>instance</span><span class=o>.</span><span class=n>id</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=p>:</span>
                <span class=n>widget</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=p>[</span><span class=n>instance</span><span class=o>.</span><span class=n>id</span><span class=p>]</span>
                <span class=n>widget</span><span class=o>.</span><span class=n>update_instance</span><span class=p>(</span><span class=n>instance</span><span class=p>,</span> <span class=n>context_info</span><span class=p>)</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>group_icon</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_group_icons</span><span class=p>[</span><span class=n>instance</span><span class=o>.</span><span class=n>creator_identifier</span><span class=p>]</span>
                <span class=n>widget</span> <span class=o>=</span> <span class=n>InstanceCardWidget</span><span class=p>(</span>
                    <span class=n>instance</span><span class=p>,</span> <span class=n>context_info</span><span class=p>,</span> <span class=n>group_icon</span><span class=p>,</span> <span class=bp>self</span>
                <span class=p>)</span>
                <span class=n>widget</span><span class=o>.</span><span class=n>selected</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_on_widget_selection</span><span class=p>)</span>
                <span class=n>widget</span><span class=o>.</span><span class=n>active_changed</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_on_active_changed</span><span class=p>)</span>
                <span class=n>widget</span><span class=o>.</span><span class=n>double_clicked</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>double_clicked</span><span class=p>)</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>_widgets_by_id</span><span class=p>[</span><span class=n>instance</span><span class=o>.</span><span class=n>id</span><span class=p>]</span> <span class=o>=</span> <span class=n>widget</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>_content_layout</span><span class=o>.</span><span class=n>insertWidget</span><span class=p>(</span><span class=n>widget_idx</span><span class=p>,</span> <span class=n>widget</span><span class=p>)</span>
            <span class=n>widget_idx</span> <span class=o>+=</span> <span class=mi>1</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_update_ordered_item_ids</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../../..", "features": ["navigation.sections", "navigation.path", "navigation.prune"], "search": "../../../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../../../assets/javascripts/bundle.c8b220af.min.js></script> </body> </html>