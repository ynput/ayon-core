<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=prev href=env_tools.html><link rel=next href=execute.html><link rel=icon href=../../../../img/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.8"><title>events - ayon-core</title><link rel=stylesheet href=../../../../assets/stylesheets/main.8608ea7d.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.06af60db.min.css><script src=https://unpkg.com/iframe-worker/shim></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../css/custom.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#client.ayon_core.lib.events class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../index.html title=ayon-core class="md-header__button md-logo" aria-label=ayon-core data-md-component=logo> <img src=../../../../img/ay-symbol-blackw-full.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ayon-core </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> events </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../index.html title=ayon-core class="md-nav__button md-logo" aria-label=ayon-core data-md-component=logo> <img src=../../../../img/ay-symbol-blackw-full.png alt=logo> </a> ayon-core </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../index.html class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../../../license.html class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1 checked> <div class="md-nav__link md-nav__container"> <a href=../../index.html class="md-nav__link "> <span class=md-ellipsis> client </span> </a> <label class="md-nav__link " for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> client </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1 checked> <div class="md-nav__link md-nav__container"> <a href=../index.html class="md-nav__link "> <span class=md-ellipsis> ayon_core </span> </a> <label class="md-nav__link " for=__nav_3_1_1 id=__nav_3_1_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1> <span class="md-nav__icon md-icon"></span> ayon_core </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../__main__.html class=md-nav__link> <span class=md-ellipsis> __main__ </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../addon/base.html class=md-nav__link> <span class=md-ellipsis> addon </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../cli.html class=md-nav__link> <span class=md-ellipsis> cli </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../hooks/pre_add_last_workfile_arg.html class=md-nav__link> <span class=md-ellipsis> hooks </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../host/dirmap.html class=md-nav__link> <span class=md-ellipsis> host </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1_6 checked> <div class="md-nav__link md-nav__container"> <a href=index.html class="md-nav__link "> <span class=md-ellipsis> lib </span> </a> <label class="md-nav__link " for=__nav_3_1_1_6 id=__nav_3_1_1_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_1_1_6_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1_6> <span class="md-nav__icon md-icon"></span> lib </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=attribute_definitions.html class=md-nav__link> <span class=md-ellipsis> attribute_definitions </span> </a> </li> <li class=md-nav__item> <a href=ayon_connection.html class=md-nav__link> <span class=md-ellipsis> ayon_connection </span> </a> </li> <li class=md-nav__item> <a href=ayon_info.html class=md-nav__link> <span class=md-ellipsis> ayon_info </span> </a> </li> <li class=md-nav__item> <a href=cache.html class=md-nav__link> <span class=md-ellipsis> cache </span> </a> </li> <li class=md-nav__item> <a href=dateutils.html class=md-nav__link> <span class=md-ellipsis> dateutils </span> </a> </li> <li class=md-nav__item> <a href=env_tools.html class=md-nav__link> <span class=md-ellipsis> env_tools </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> events </span> <span class="md-nav__icon md-icon"></span> </label> <a href=events.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> events </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#client.ayon_core.lib.events class=md-nav__link> <span class=md-ellipsis> events </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.Event class=md-nav__link> <span class=md-ellipsis> Event </span> </a> <nav class=md-nav aria-label=Event> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.Event.source class=md-nav__link> <span class=md-ellipsis> source </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.Event.topic class=md-nav__link> <span class=md-ellipsis> topic </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.Event.emit class=md-nav__link> <span class=md-ellipsis> emit </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.Event.from_data class=md-nav__link> <span class=md-ellipsis> from_data </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.Event.to_data class=md-nav__link> <span class=md-ellipsis> to_data </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback class=md-nav__link> <span class=md-ellipsis> EventCallback </span> </a> <nav class=md-nav aria-label=EventCallback> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback--examples class=md-nav__link> <span class=md-ellipsis> Examples: </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.enabled class=md-nav__link> <span class=md-ellipsis> enabled </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.is_ref_valid class=md-nav__link> <span class=md-ellipsis> is_ref_valid </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.deregister class=md-nav__link> <span class=md-ellipsis> deregister </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.get_order class=md-nav__link> <span class=md-ellipsis> get_order </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.process_event class=md-nav__link> <span class=md-ellipsis> process_event </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.set_enabled class=md-nav__link> <span class=md-ellipsis> set_enabled </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.set_order class=md-nav__link> <span class=md-ellipsis> set_order </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.topic_matches class=md-nav__link> <span class=md-ellipsis> topic_matches </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.validate_ref class=md-nav__link> <span class=md-ellipsis> validate_ref </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventSystem class=md-nav__link> <span class=md-ellipsis> EventSystem </span> </a> <nav class=md-nav aria-label=EventSystem> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventSystem._process_event class=md-nav__link> <span class=md-ellipsis> _process_event </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventSystem.add_callback class=md-nav__link> <span class=md-ellipsis> add_callback </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventSystem.clear_callbacks class=md-nav__link> <span class=md-ellipsis> clear_callbacks </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventSystem.create_event class=md-nav__link> <span class=md-ellipsis> create_event </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventSystem.emit class=md-nav__link> <span class=md-ellipsis> emit </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventSystem.emit_event class=md-nav__link> <span class=md-ellipsis> emit_event </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.GlobalEventSystem class=md-nav__link> <span class=md-ellipsis> GlobalEventSystem </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.QueuedEventSystem class=md-nav__link> <span class=md-ellipsis> QueuedEventSystem </span> </a> <nav class=md-nav aria-label=QueuedEventSystem> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.QueuedEventSystem.count class=md-nav__link> <span class=md-ellipsis> count </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.QueuedEventSystem.emit_event class=md-nav__link> <span class=md-ellipsis> emit_event </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.QueuedEventSystem.process_next_event class=md-nav__link> <span class=md-ellipsis> process_next_event </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.weakref_partial class=md-nav__link> <span class=md-ellipsis> weakref_partial </span> </a> <nav class=md-nav aria-label=weakref_partial> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.weakref_partial.get_func class=md-nav__link> <span class=md-ellipsis> get_func </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.weakref_partial.is_valid class=md-nav__link> <span class=md-ellipsis> is_valid </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.weakref_partial.validate_signature class=md-nav__link> <span class=md-ellipsis> validate_signature </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.emit_event class=md-nav__link> <span class=md-ellipsis> emit_event </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.register_event_callback class=md-nav__link> <span class=md-ellipsis> register_event_callback </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=execute.html class=md-nav__link> <span class=md-ellipsis> execute </span> </a> </li> <li class=md-nav__item> <a href=file_transaction.html class=md-nav__link> <span class=md-ellipsis> file_transaction </span> </a> </li> <li class=md-nav__item> <a href=local_settings.html class=md-nav__link> <span class=md-ellipsis> local_settings </span> </a> </li> <li class=md-nav__item> <a href=log.html class=md-nav__link> <span class=md-ellipsis> log </span> </a> </li> <li class=md-nav__item> <a href=path_templates.html class=md-nav__link> <span class=md-ellipsis> path_templates </span> </a> </li> <li class=md-nav__item> <a href=path_tools.html class=md-nav__link> <span class=md-ellipsis> path_tools </span> </a> </li> <li class=md-nav__item> <a href=plugin_tools.html class=md-nav__link> <span class=md-ellipsis> plugin_tools </span> </a> </li> <li class=md-nav__item> <a href=profiles_filtering.html class=md-nav__link> <span class=md-ellipsis> profiles_filtering </span> </a> </li> <li class=md-nav__item> <a href=profiling.html class=md-nav__link> <span class=md-ellipsis> profiling </span> </a> </li> <li class=md-nav__item> <a href=python_module_tools.html class=md-nav__link> <span class=md-ellipsis> python_module_tools </span> </a> </li> <li class=md-nav__item> <a href=terminal.html class=md-nav__link> <span class=md-ellipsis> terminal </span> </a> </li> <li class=md-nav__item> <a href=transcoding.html class=md-nav__link> <span class=md-ellipsis> transcoding </span> </a> </li> <li class=md-nav__item> <a href=vendor_bin_utils.html class=md-nav__link> <span class=md-ellipsis> vendor_bin_utils </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../pipeline/actions.html class=md-nav__link> <span class=md-ellipsis> pipeline </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../plugins/actions/open_file_explorer.html class=md-nav__link> <span class=md-ellipsis> plugins </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../resources/app_icons/index.html class=md-nav__link> <span class=md-ellipsis> resources </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../scripts/ocio_wrapper.html class=md-nav__link> <span class=md-ellipsis> scripts </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../settings/lib.html class=md-nav__link> <span class=md-ellipsis> settings </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../style/color_defs.html class=md-nav__link> <span class=md-ellipsis> style </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../tests/conftest.html class=md-nav__link> <span class=md-ellipsis> tests </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../tools/attribute_defs/_constants.html class=md-nav__link> <span class=md-ellipsis> tools </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../vendor/python/qargparse.html class=md-nav__link> <span class=md-ellipsis> vendor </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../version.html class=md-nav__link> <span class=md-ellipsis> version </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../server/settings/conversion.html class=md-nav__link> <span class=md-ellipsis> server </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#client.ayon_core.lib.events class=md-nav__link> <span class=md-ellipsis> events </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.Event class=md-nav__link> <span class=md-ellipsis> Event </span> </a> <nav class=md-nav aria-label=Event> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.Event.source class=md-nav__link> <span class=md-ellipsis> source </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.Event.topic class=md-nav__link> <span class=md-ellipsis> topic </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.Event.emit class=md-nav__link> <span class=md-ellipsis> emit </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.Event.from_data class=md-nav__link> <span class=md-ellipsis> from_data </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.Event.to_data class=md-nav__link> <span class=md-ellipsis> to_data </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback class=md-nav__link> <span class=md-ellipsis> EventCallback </span> </a> <nav class=md-nav aria-label=EventCallback> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback--examples class=md-nav__link> <span class=md-ellipsis> Examples: </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.enabled class=md-nav__link> <span class=md-ellipsis> enabled </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.is_ref_valid class=md-nav__link> <span class=md-ellipsis> is_ref_valid </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.deregister class=md-nav__link> <span class=md-ellipsis> deregister </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.get_order class=md-nav__link> <span class=md-ellipsis> get_order </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.process_event class=md-nav__link> <span class=md-ellipsis> process_event </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.set_enabled class=md-nav__link> <span class=md-ellipsis> set_enabled </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.set_order class=md-nav__link> <span class=md-ellipsis> set_order </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.topic_matches class=md-nav__link> <span class=md-ellipsis> topic_matches </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventCallback.validate_ref class=md-nav__link> <span class=md-ellipsis> validate_ref </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventSystem class=md-nav__link> <span class=md-ellipsis> EventSystem </span> </a> <nav class=md-nav aria-label=EventSystem> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventSystem._process_event class=md-nav__link> <span class=md-ellipsis> _process_event </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventSystem.add_callback class=md-nav__link> <span class=md-ellipsis> add_callback </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventSystem.clear_callbacks class=md-nav__link> <span class=md-ellipsis> clear_callbacks </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventSystem.create_event class=md-nav__link> <span class=md-ellipsis> create_event </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventSystem.emit class=md-nav__link> <span class=md-ellipsis> emit </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.EventSystem.emit_event class=md-nav__link> <span class=md-ellipsis> emit_event </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.GlobalEventSystem class=md-nav__link> <span class=md-ellipsis> GlobalEventSystem </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.QueuedEventSystem class=md-nav__link> <span class=md-ellipsis> QueuedEventSystem </span> </a> <nav class=md-nav aria-label=QueuedEventSystem> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.QueuedEventSystem.count class=md-nav__link> <span class=md-ellipsis> count </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.QueuedEventSystem.emit_event class=md-nav__link> <span class=md-ellipsis> emit_event </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.QueuedEventSystem.process_next_event class=md-nav__link> <span class=md-ellipsis> process_next_event </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.weakref_partial class=md-nav__link> <span class=md-ellipsis> weakref_partial </span> </a> <nav class=md-nav aria-label=weakref_partial> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.weakref_partial.get_func class=md-nav__link> <span class=md-ellipsis> get_func </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.weakref_partial.is_valid class=md-nav__link> <span class=md-ellipsis> is_valid </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.weakref_partial.validate_signature class=md-nav__link> <span class=md-ellipsis> validate_signature </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.emit_event class=md-nav__link> <span class=md-ellipsis> emit_event </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_core.lib.events.register_event_callback class=md-nav__link> <span class=md-ellipsis> register_event_callback </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>events</h1> <div class="doc doc-object doc-module"> <a id=client.ayon_core.lib.events></a> <div class="doc doc-contents first"> <p>Events holding data about specific event.</p> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 id=client.ayon_core.lib.events.Event class="doc doc-heading"> <code>Event</code> </h2> <div class="doc doc-contents "> <p>Base event object.</p> <p>Can be used for any event because is not specific. Only required argument is topic which defines why event is happening and may be used for filtering.</p> <details class=arg open> <summary>Arg</summary> <p>topic (str): Identifier of event. data (Any): Data specific for event. Dictionary is recommended. source (str): Identifier of source. event_system (EventSystem): Event system in which can be event triggered.</p> </details> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>382</span>
<span class=normal>383</span>
<span class=normal>384</span>
<span class=normal>385</span>
<span class=normal>386</span>
<span class=normal>387</span>
<span class=normal>388</span>
<span class=normal>389</span>
<span class=normal>390</span>
<span class=normal>391</span>
<span class=normal>392</span>
<span class=normal>393</span>
<span class=normal>394</span>
<span class=normal>395</span>
<span class=normal>396</span>
<span class=normal>397</span>
<span class=normal>398</span>
<span class=normal>399</span>
<span class=normal>400</span>
<span class=normal>401</span>
<span class=normal>402</span>
<span class=normal>403</span>
<span class=normal>404</span>
<span class=normal>405</span>
<span class=normal>406</span>
<span class=normal>407</span>
<span class=normal>408</span>
<span class=normal>409</span>
<span class=normal>410</span>
<span class=normal>411</span>
<span class=normal>412</span>
<span class=normal>413</span>
<span class=normal>414</span>
<span class=normal>415</span>
<span class=normal>416</span>
<span class=normal>417</span>
<span class=normal>418</span>
<span class=normal>419</span>
<span class=normal>420</span>
<span class=normal>421</span>
<span class=normal>422</span>
<span class=normal>423</span>
<span class=normal>424</span>
<span class=normal>425</span>
<span class=normal>426</span>
<span class=normal>427</span>
<span class=normal>428</span>
<span class=normal>429</span>
<span class=normal>430</span>
<span class=normal>431</span>
<span class=normal>432</span>
<span class=normal>433</span>
<span class=normal>434</span>
<span class=normal>435</span>
<span class=normal>436</span>
<span class=normal>437</span>
<span class=normal>438</span>
<span class=normal>439</span>
<span class=normal>440</span>
<span class=normal>441</span>
<span class=normal>442</span>
<span class=normal>443</span>
<span class=normal>444</span>
<span class=normal>445</span>
<span class=normal>446</span>
<span class=normal>447</span>
<span class=normal>448</span>
<span class=normal>449</span>
<span class=normal>450</span>
<span class=normal>451</span>
<span class=normal>452</span>
<span class=normal>453</span>
<span class=normal>454</span>
<span class=normal>455</span>
<span class=normal>456</span>
<span class=normal>457</span>
<span class=normal>458</span>
<span class=normal>459</span>
<span class=normal>460</span>
<span class=normal>461</span>
<span class=normal>462</span>
<span class=normal>463</span>
<span class=normal>464</span>
<span class=normal>465</span>
<span class=normal>466</span>
<span class=normal>467</span>
<span class=normal>468</span>
<span class=normal>469</span>
<span class=normal>470</span>
<span class=normal>471</span>
<span class=normal>472</span>
<span class=normal>473</span>
<span class=normal>474</span>
<span class=normal>475</span>
<span class=normal>476</span>
<span class=normal>477</span>
<span class=normal>478</span>
<span class=normal>479</span>
<span class=normal>480</span>
<span class=normal>481</span>
<span class=normal>482</span>
<span class=normal>483</span>
<span class=normal>484</span>
<span class=normal>485</span>
<span class=normal>486</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>Event</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Base event object.</span>

<span class=sd>    Can be used for any event because is not specific. Only required argument</span>
<span class=sd>    is topic which defines why event is happening and may be used for</span>
<span class=sd>    filtering.</span>

<span class=sd>    Arg:</span>
<span class=sd>        topic (str): Identifier of event.</span>
<span class=sd>        data (Any): Data specific for event. Dictionary is recommended.</span>
<span class=sd>        source (str): Identifier of source.</span>
<span class=sd>        event_system (EventSystem): Event system in which can be event</span>
<span class=sd>            triggered.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>_data</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>topic</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>source</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>event_system</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_id</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>uuid4</span><span class=p>())</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_topic</span> <span class=o>=</span> <span class=n>topic</span>
        <span class=k>if</span> <span class=n>data</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>data</span> <span class=o>=</span> <span class=p>{}</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_data</span> <span class=o>=</span> <span class=n>data</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_source</span> <span class=o>=</span> <span class=n>source</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_event_system</span> <span class=o>=</span> <span class=n>event_system</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__getitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_data</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>id</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_id</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>source</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Event&#39;s source used for triggering callbacks.</span>

<span class=sd>        Returns:</span>
<span class=sd>            Union[str, None]: Source string or None. Source is optional.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_source</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_data</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>topic</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Event&#39;s topic used for triggering callbacks.</span>

<span class=sd>        Returns:</span>
<span class=sd>            str: Topic string.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_topic</span>

    <span class=k>def</span><span class=w> </span><span class=nf>emit</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Emit event and trigger callbacks.&quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_event_system</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>raise</span> <span class=n>MissingEventSystem</span><span class=p>(</span>
                <span class=s2>&quot;Can&#39;t emit event </span><span class=si>{}</span><span class=s2>. Does not have set event system.&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
                    <span class=nb>str</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=bp>self</span><span class=p>))</span>
                <span class=p>)</span>
            <span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_event_system</span><span class=o>.</span><span class=n>emit_event</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>to_data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Convert Event object to data.</span>

<span class=sd>        Returns:</span>
<span class=sd>            Dict[str, Any]: Event data.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=k>return</span> <span class=p>{</span>
            <span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>id</span><span class=p>,</span>
            <span class=s2>&quot;topic&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>topic</span><span class=p>,</span>
            <span class=s2>&quot;source&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>source</span><span class=p>,</span>
            <span class=s2>&quot;data&quot;</span><span class=p>:</span> <span class=n>copy</span><span class=o>.</span><span class=n>deepcopy</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>)</span>
        <span class=p>}</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>from_data</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>event_data</span><span class=p>,</span> <span class=n>event_system</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Create event from data.</span>

<span class=sd>        Args:</span>
<span class=sd>            event_data (Dict[str, Any]): Event data with defined keys. Can be</span>
<span class=sd>                created using &#39;to_data&#39; method.</span>
<span class=sd>            event_system (EventSystem): System to which the event belongs.</span>

<span class=sd>        Returns:</span>
<span class=sd>            Event: Event with attributes from passed data.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=n>obj</span> <span class=o>=</span> <span class=bp>cls</span><span class=p>(</span>
            <span class=n>event_data</span><span class=p>[</span><span class=s2>&quot;topic&quot;</span><span class=p>],</span>
            <span class=n>event_data</span><span class=p>[</span><span class=s2>&quot;data&quot;</span><span class=p>],</span>
            <span class=n>event_data</span><span class=p>[</span><span class=s2>&quot;source&quot;</span><span class=p>],</span>
            <span class=n>event_system</span>
        <span class=p>)</span>
        <span class=n>obj</span><span class=o>.</span><span class=n>_id</span> <span class=o>=</span> <span class=n>event_data</span><span class=p>[</span><span class=s2>&quot;id&quot;</span><span class=p>]</span>
        <span class=k>return</span> <span class=n>obj</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 id=client.ayon_core.lib.events.Event.source class="doc doc-heading"> <code class="highlight language-python"><span class=n>source</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h3> <div class="doc doc-contents "> <p>Event's source used for triggering callbacks.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Union[str, None]: Source string or None. Source is optional.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=client.ayon_core.lib.events.Event.topic class="doc doc-heading"> <code class="highlight language-python"><span class=n>topic</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h3> <div class="doc doc-contents "> <p>Event's topic used for triggering callbacks.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>str</code></td> <td> </td> <td> <div class=doc-md-description> <p>Topic string.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.Event.emit class="doc doc-heading"> <code class="highlight language-python"><span class=n>emit</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Emit event and trigger callbacks.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>442</span>
<span class=normal>443</span>
<span class=normal>444</span>
<span class=normal>445</span>
<span class=normal>446</span>
<span class=normal>447</span>
<span class=normal>448</span>
<span class=normal>449</span>
<span class=normal>450</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>emit</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Emit event and trigger callbacks.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_event_system</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>raise</span> <span class=n>MissingEventSystem</span><span class=p>(</span>
            <span class=s2>&quot;Can&#39;t emit event </span><span class=si>{}</span><span class=s2>. Does not have set event system.&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
                <span class=nb>str</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=bp>self</span><span class=p>))</span>
            <span class=p>)</span>
        <span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_event_system</span><span class=o>.</span><span class=n>emit_event</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.Event.from_data class="doc doc-heading"> <code class="highlight language-python"><span class=n>from_data</span><span class=p>(</span><span class=n>event_data</span><span class=p>,</span> <span class=n>event_system</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> </h3> <div class="doc doc-contents "> <p>Create event from data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>event_data</code> </td> <td> <code><span title=Dict>Dict</span>[<span title=str>str</span>, <span title=Any>Any</span>]</code> </td> <td> <div class=doc-md-description> <p>Event data with defined keys. Can be created using 'to_data' method.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>event_system</code> </td> <td> <code><a class="autorefs autorefs-internal" title="EventSystem (client.ayon_core.lib.events.EventSystem)" href=#client.ayon_core.lib.events.EventSystem>EventSystem</a></code> </td> <td> <div class=doc-md-description> <p>System to which the event belongs.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>Event</code></td> <td> </td> <td> <div class=doc-md-description> <p>Event with attributes from passed data.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>466</span>
<span class=normal>467</span>
<span class=normal>468</span>
<span class=normal>469</span>
<span class=normal>470</span>
<span class=normal>471</span>
<span class=normal>472</span>
<span class=normal>473</span>
<span class=normal>474</span>
<span class=normal>475</span>
<span class=normal>476</span>
<span class=normal>477</span>
<span class=normal>478</span>
<span class=normal>479</span>
<span class=normal>480</span>
<span class=normal>481</span>
<span class=normal>482</span>
<span class=normal>483</span>
<span class=normal>484</span>
<span class=normal>485</span>
<span class=normal>486</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@classmethod</span>
<span class=k>def</span><span class=w> </span><span class=nf>from_data</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>event_data</span><span class=p>,</span> <span class=n>event_system</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Create event from data.</span>

<span class=sd>    Args:</span>
<span class=sd>        event_data (Dict[str, Any]): Event data with defined keys. Can be</span>
<span class=sd>            created using &#39;to_data&#39; method.</span>
<span class=sd>        event_system (EventSystem): System to which the event belongs.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Event: Event with attributes from passed data.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>obj</span> <span class=o>=</span> <span class=bp>cls</span><span class=p>(</span>
        <span class=n>event_data</span><span class=p>[</span><span class=s2>&quot;topic&quot;</span><span class=p>],</span>
        <span class=n>event_data</span><span class=p>[</span><span class=s2>&quot;data&quot;</span><span class=p>],</span>
        <span class=n>event_data</span><span class=p>[</span><span class=s2>&quot;source&quot;</span><span class=p>],</span>
        <span class=n>event_system</span>
    <span class=p>)</span>
    <span class=n>obj</span><span class=o>.</span><span class=n>_id</span> <span class=o>=</span> <span class=n>event_data</span><span class=p>[</span><span class=s2>&quot;id&quot;</span><span class=p>]</span>
    <span class=k>return</span> <span class=n>obj</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.Event.to_data class="doc doc-heading"> <code class="highlight language-python"><span class=n>to_data</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Convert Event object to data.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Dict[str, Any]: Event data.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>452</span>
<span class=normal>453</span>
<span class=normal>454</span>
<span class=normal>455</span>
<span class=normal>456</span>
<span class=normal>457</span>
<span class=normal>458</span>
<span class=normal>459</span>
<span class=normal>460</span>
<span class=normal>461</span>
<span class=normal>462</span>
<span class=normal>463</span>
<span class=normal>464</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>to_data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert Event object to data.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Dict[str, Any]: Event data.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>return</span> <span class=p>{</span>
        <span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>id</span><span class=p>,</span>
        <span class=s2>&quot;topic&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>topic</span><span class=p>,</span>
        <span class=s2>&quot;source&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>source</span><span class=p>,</span>
        <span class=s2>&quot;data&quot;</span><span class=p>:</span> <span class=n>copy</span><span class=o>.</span><span class=n>deepcopy</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>)</span>
    <span class=p>}</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=client.ayon_core.lib.events.EventCallback class="doc doc-heading"> <code>EventCallback</code> </h2> <div class="doc doc-contents "> <p>Callback registered to a topic.</p> <p>The callback function is registered to a topic. Topic is a string which may contain '*' that will be handled as "any characters".</p> <h3 id=client.ayon_core.lib.events.EventCallback--examples>Examples:</h3> <ul> <li>"workfile.save" Callback will be triggered if the event topic is exactly "workfile.save" .</li> <li>"workfile.*" Callback will be triggered an event topic starts with "workfile." so "workfile.save" and "workfile.open" will trigger the callback.</li> <li>"*" Callback will listen to all events.</li> </ul> <p>Callback can be function or method. In both cases it should expect one or none arguments. When 1 argument is expected then the processed 'Event' object is passed in.</p> <p>The callbacks are validated against their reference counter, that is achieved using 'weakref' module. That means that the callback must be stored in memory somewhere. e.g. lambda functions are not supported as valid callback.</p> <p>You can use 'weakref_partial' functions. In that case is partial object stored in the callback object and reference counter is checked for the wrapped function.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>topic</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Topic which will be listened.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>func</code> </td> <td> <code><span title=Callable>Callable</span></code> </td> <td> <div class=doc-md-description> <p>Callback to a topic.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>order</code> </td> <td> <code><span title=Union>Union</span>[<span title=int>int</span>, None]</code> </td> <td> <div class=doc-md-description> <p>Order of callback. Lower number means higher priority.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=TypeError>TypeError</span></code> </td> <td> <div class=doc-md-description> <p>When passed function is not a callable object.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span>
<span class=normal>150</span>
<span class=normal>151</span>
<span class=normal>152</span>
<span class=normal>153</span>
<span class=normal>154</span>
<span class=normal>155</span>
<span class=normal>156</span>
<span class=normal>157</span>
<span class=normal>158</span>
<span class=normal>159</span>
<span class=normal>160</span>
<span class=normal>161</span>
<span class=normal>162</span>
<span class=normal>163</span>
<span class=normal>164</span>
<span class=normal>165</span>
<span class=normal>166</span>
<span class=normal>167</span>
<span class=normal>168</span>
<span class=normal>169</span>
<span class=normal>170</span>
<span class=normal>171</span>
<span class=normal>172</span>
<span class=normal>173</span>
<span class=normal>174</span>
<span class=normal>175</span>
<span class=normal>176</span>
<span class=normal>177</span>
<span class=normal>178</span>
<span class=normal>179</span>
<span class=normal>180</span>
<span class=normal>181</span>
<span class=normal>182</span>
<span class=normal>183</span>
<span class=normal>184</span>
<span class=normal>185</span>
<span class=normal>186</span>
<span class=normal>187</span>
<span class=normal>188</span>
<span class=normal>189</span>
<span class=normal>190</span>
<span class=normal>191</span>
<span class=normal>192</span>
<span class=normal>193</span>
<span class=normal>194</span>
<span class=normal>195</span>
<span class=normal>196</span>
<span class=normal>197</span>
<span class=normal>198</span>
<span class=normal>199</span>
<span class=normal>200</span>
<span class=normal>201</span>
<span class=normal>202</span>
<span class=normal>203</span>
<span class=normal>204</span>
<span class=normal>205</span>
<span class=normal>206</span>
<span class=normal>207</span>
<span class=normal>208</span>
<span class=normal>209</span>
<span class=normal>210</span>
<span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span>
<span class=normal>214</span>
<span class=normal>215</span>
<span class=normal>216</span>
<span class=normal>217</span>
<span class=normal>218</span>
<span class=normal>219</span>
<span class=normal>220</span>
<span class=normal>221</span>
<span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span>
<span class=normal>232</span>
<span class=normal>233</span>
<span class=normal>234</span>
<span class=normal>235</span>
<span class=normal>236</span>
<span class=normal>237</span>
<span class=normal>238</span>
<span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span>
<span class=normal>252</span>
<span class=normal>253</span>
<span class=normal>254</span>
<span class=normal>255</span>
<span class=normal>256</span>
<span class=normal>257</span>
<span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span>
<span class=normal>264</span>
<span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span>
<span class=normal>268</span>
<span class=normal>269</span>
<span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span>
<span class=normal>273</span>
<span class=normal>274</span>
<span class=normal>275</span>
<span class=normal>276</span>
<span class=normal>277</span>
<span class=normal>278</span>
<span class=normal>279</span>
<span class=normal>280</span>
<span class=normal>281</span>
<span class=normal>282</span>
<span class=normal>283</span>
<span class=normal>284</span>
<span class=normal>285</span>
<span class=normal>286</span>
<span class=normal>287</span>
<span class=normal>288</span>
<span class=normal>289</span>
<span class=normal>290</span>
<span class=normal>291</span>
<span class=normal>292</span>
<span class=normal>293</span>
<span class=normal>294</span>
<span class=normal>295</span>
<span class=normal>296</span>
<span class=normal>297</span>
<span class=normal>298</span>
<span class=normal>299</span>
<span class=normal>300</span>
<span class=normal>301</span>
<span class=normal>302</span>
<span class=normal>303</span>
<span class=normal>304</span>
<span class=normal>305</span>
<span class=normal>306</span>
<span class=normal>307</span>
<span class=normal>308</span>
<span class=normal>309</span>
<span class=normal>310</span>
<span class=normal>311</span>
<span class=normal>312</span>
<span class=normal>313</span>
<span class=normal>314</span>
<span class=normal>315</span>
<span class=normal>316</span>
<span class=normal>317</span>
<span class=normal>318</span>
<span class=normal>319</span>
<span class=normal>320</span>
<span class=normal>321</span>
<span class=normal>322</span>
<span class=normal>323</span>
<span class=normal>324</span>
<span class=normal>325</span>
<span class=normal>326</span>
<span class=normal>327</span>
<span class=normal>328</span>
<span class=normal>329</span>
<span class=normal>330</span>
<span class=normal>331</span>
<span class=normal>332</span>
<span class=normal>333</span>
<span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span>
<span class=normal>338</span>
<span class=normal>339</span>
<span class=normal>340</span>
<span class=normal>341</span>
<span class=normal>342</span>
<span class=normal>343</span>
<span class=normal>344</span>
<span class=normal>345</span>
<span class=normal>346</span>
<span class=normal>347</span>
<span class=normal>348</span>
<span class=normal>349</span>
<span class=normal>350</span>
<span class=normal>351</span>
<span class=normal>352</span>
<span class=normal>353</span>
<span class=normal>354</span>
<span class=normal>355</span>
<span class=normal>356</span>
<span class=normal>357</span>
<span class=normal>358</span>
<span class=normal>359</span>
<span class=normal>360</span>
<span class=normal>361</span>
<span class=normal>362</span>
<span class=normal>363</span>
<span class=normal>364</span>
<span class=normal>365</span>
<span class=normal>366</span>
<span class=normal>367</span>
<span class=normal>368</span>
<span class=normal>369</span>
<span class=normal>370</span>
<span class=normal>371</span>
<span class=normal>372</span>
<span class=normal>373</span>
<span class=normal>374</span>
<span class=normal>375</span>
<span class=normal>376</span>
<span class=normal>377</span>
<span class=normal>378</span>
<span class=normal>379</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>EventCallback</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Callback registered to a topic.</span>

<span class=sd>    The callback function is registered to a topic. Topic is a string which</span>
<span class=sd>    may contain &#39;*&#39; that will be handled as &quot;any characters&quot;.</span>

<span class=sd>    # Examples:</span>
<span class=sd>    - &quot;workfile.save&quot;   Callback will be triggered if the event topic is</span>
<span class=sd>                        exactly &quot;workfile.save&quot; .</span>
<span class=sd>    - &quot;workfile.*&quot;      Callback will be triggered an event topic starts with</span>
<span class=sd>                        &quot;workfile.&quot; so &quot;workfile.save&quot; and &quot;workfile.open&quot;</span>
<span class=sd>                        will trigger the callback.</span>
<span class=sd>    - &quot;*&quot;               Callback will listen to all events.</span>

<span class=sd>    Callback can be function or method. In both cases it should expect one</span>
<span class=sd>    or none arguments. When 1 argument is expected then the processed &#39;Event&#39;</span>
<span class=sd>    object is passed in.</span>

<span class=sd>    The callbacks are validated against their reference counter, that is</span>
<span class=sd>        achieved using &#39;weakref&#39; module. That means that the callback must</span>
<span class=sd>        be stored in memory somewhere. e.g. lambda functions are not</span>
<span class=sd>        supported as valid callback.</span>

<span class=sd>    You can use &#39;weakref_partial&#39; functions. In that case is partial object</span>
<span class=sd>        stored in the callback object and reference counter is checked for</span>
<span class=sd>        the wrapped function.</span>

<span class=sd>    Args:</span>
<span class=sd>        topic (str): Topic which will be listened.</span>
<span class=sd>        func (Callable): Callback to a topic.</span>
<span class=sd>        order (Union[int, None]): Order of callback. Lower number means higher</span>
<span class=sd>            priority.</span>

<span class=sd>    Raises:</span>
<span class=sd>        TypeError: When passed function is not a callable object.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>topic</span><span class=p>,</span> <span class=n>func</span><span class=p>,</span> <span class=n>order</span><span class=p>):</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=nb>callable</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
            <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>((</span>
                <span class=s2>&quot;Registered callback is not callable. </span><span class=se>\&quot;</span><span class=si>{}</span><span class=se>\&quot;</span><span class=s2>&quot;</span>
            <span class=p>)</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>func</span><span class=p>)))</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_validate_order</span><span class=p>(</span><span class=n>order</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_log</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_topic</span> <span class=o>=</span> <span class=n>topic</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_order</span> <span class=o>=</span> <span class=n>order</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_enabled</span> <span class=o>=</span> <span class=kc>True</span>
        <span class=c1># Replace &#39;*&#39; with any character regex and escape rest of text</span>
        <span class=c1>#   - when callback is registered for &#39;*&#39; topic it will receive all</span>
        <span class=c1>#       events</span>
        <span class=c1>#   - it is possible to register to a partial topis &#39;my.event.*&#39;</span>
        <span class=c1>#       - it will receive all matching event topics</span>
        <span class=c1>#           e.g. &#39;my.event.start&#39; and &#39;my.event.end&#39;</span>
        <span class=n>topic_regex_str</span> <span class=o>=</span> <span class=s2>&quot;^</span><span class=si>{}</span><span class=s2>$&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
            <span class=s2>&quot;.+&quot;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span>
                <span class=n>re</span><span class=o>.</span><span class=n>escape</span><span class=p>(</span><span class=n>part</span><span class=p>)</span>
                <span class=k>for</span> <span class=n>part</span> <span class=ow>in</span> <span class=n>topic</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;*&quot;</span><span class=p>)</span>
            <span class=p>)</span>
        <span class=p>)</span>
        <span class=n>topic_regex</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=n>topic_regex_str</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_topic_regex</span> <span class=o>=</span> <span class=n>topic_regex</span>

        <span class=c1># Callback function prep</span>
        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>func</span><span class=p>,</span> <span class=n>weakref_partial</span><span class=p>):</span>
            <span class=n>partial_func</span> <span class=o>=</span> <span class=n>func</span>
            <span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>path</span><span class=p>)</span> <span class=o>=</span> <span class=n>_get_func_info</span><span class=p>(</span><span class=n>func</span><span class=o>.</span><span class=n>get_func</span><span class=p>())</span>
            <span class=n>func_ref</span> <span class=o>=</span> <span class=kc>None</span>
            <span class=n>expect_args</span> <span class=o>=</span> <span class=n>partial_func</span><span class=o>.</span><span class=n>validate_signature</span><span class=p>(</span><span class=s2>&quot;fake&quot;</span><span class=p>)</span>
            <span class=n>expect_kwargs</span> <span class=o>=</span> <span class=n>partial_func</span><span class=o>.</span><span class=n>validate_signature</span><span class=p>(</span><span class=n>event</span><span class=o>=</span><span class=s2>&quot;fake&quot;</span><span class=p>)</span>

        <span class=k>else</span><span class=p>:</span>
            <span class=n>partial_func</span> <span class=o>=</span> <span class=kc>None</span>
            <span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>path</span><span class=p>)</span> <span class=o>=</span> <span class=n>_get_func_info</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
            <span class=c1># Convert callback into references</span>
            <span class=c1>#   - deleted functions won&#39;t cause crashes</span>
            <span class=n>func_ref</span> <span class=o>=</span> <span class=n>_get_func_ref</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>

            <span class=c1># Get expected arguments from function spec</span>
            <span class=c1># - positional arguments are always preferred</span>
            <span class=n>expect_args</span> <span class=o>=</span> <span class=n>is_func_signature_supported</span><span class=p>(</span><span class=n>func</span><span class=p>,</span> <span class=s2>&quot;fake&quot;</span><span class=p>)</span>
            <span class=n>expect_kwargs</span> <span class=o>=</span> <span class=n>is_func_signature_supported</span><span class=p>(</span><span class=n>func</span><span class=p>,</span> <span class=n>event</span><span class=o>=</span><span class=s2>&quot;fake&quot;</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_func_ref</span> <span class=o>=</span> <span class=n>func_ref</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_partial_func</span> <span class=o>=</span> <span class=n>partial_func</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_ref_is_valid</span> <span class=o>=</span> <span class=kc>True</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_expect_args</span> <span class=o>=</span> <span class=n>expect_args</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_expect_kwargs</span> <span class=o>=</span> <span class=n>expect_kwargs</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_name</span> <span class=o>=</span> <span class=n>name</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_path</span> <span class=o>=</span> <span class=n>path</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=s2>&quot;&lt; </span><span class=si>{}</span><span class=s2> - </span><span class=si>{}</span><span class=s2> &gt; </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
            <span class=bp>self</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__name__</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_name</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_path</span>
        <span class=p>)</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>log</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_log</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_log</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=vm>__class__</span><span class=o>.</span><span class=vm>__name__</span><span class=p>)</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_log</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>is_ref_valid</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>

<span class=sd>        Returns:</span>
<span class=sd>            bool: Is reference to callback valid.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_validate_ref</span><span class=p>()</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ref_is_valid</span>

    <span class=k>def</span><span class=w> </span><span class=nf>validate_ref</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Validate if reference to callback is valid.</span>

<span class=sd>        Deprecated:</span>
<span class=sd>            Reference is always live checkd with &#39;is_ref_valid&#39;.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=c1># Trigger validate by getting &#39;is_valid&#39;</span>
        <span class=n>_</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_ref_valid</span>

    <span class=nd>@property</span>
    <span class=k>def</span><span class=w> </span><span class=nf>enabled</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Is callback enabled.</span>

<span class=sd>        Returns:</span>
<span class=sd>            bool: Is callback enabled.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_enabled</span>

    <span class=k>def</span><span class=w> </span><span class=nf>set_enabled</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>enabled</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Change if callback is enabled.</span>

<span class=sd>        Args:</span>
<span class=sd>            enabled (bool): Change enabled state of the callback.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_enabled</span> <span class=o>=</span> <span class=n>enabled</span>

    <span class=k>def</span><span class=w> </span><span class=nf>deregister</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Calling this function will cause that callback will be removed.&quot;&quot;&quot;</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_ref_is_valid</span> <span class=o>=</span> <span class=kc>False</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_partial_func</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_func_ref</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_order</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get callback order.</span>

<span class=sd>        Returns:</span>
<span class=sd>            Union[int, None]: Callback order.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_order</span>

    <span class=k>def</span><span class=w> </span><span class=nf>set_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Change callback order.</span>

<span class=sd>        Args:</span>
<span class=sd>            order (Union[int, None]): Order of callback. Lower number means</span>
<span class=sd>                higher priority.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_validate_order</span><span class=p>(</span><span class=n>order</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_order</span> <span class=o>=</span> <span class=n>order</span>

    <span class=n>order</span> <span class=o>=</span> <span class=nb>property</span><span class=p>(</span><span class=n>get_order</span><span class=p>,</span> <span class=n>set_order</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>topic_matches</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>topic</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Check if event topic matches callback&#39;s topic.</span>

<span class=sd>        Args:</span>
<span class=sd>            topic (str): Topic name.</span>

<span class=sd>        Returns:</span>
<span class=sd>            bool: Topic matches callback&#39;s topic.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_topic_regex</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=n>topic</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>process_event</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Process event.</span>

<span class=sd>        Args:</span>
<span class=sd>            event(Event): Event that was triggered.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=c1># Skip if callback is not enabled</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_enabled</span><span class=p>:</span>
            <span class=k>return</span>

        <span class=c1># Get reference and skip if is not available</span>
        <span class=n>callback</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_callback</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>callback</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span>

        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>topic_matches</span><span class=p>(</span><span class=n>event</span><span class=o>.</span><span class=n>topic</span><span class=p>):</span>
            <span class=k>return</span>

        <span class=c1># Try to execute callback</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_expect_args</span><span class=p>:</span>
                <span class=n>callback</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>

            <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>_expect_kwargs</span><span class=p>:</span>
                <span class=n>callback</span><span class=p>(</span><span class=n>event</span><span class=o>=</span><span class=n>event</span><span class=p>)</span>

            <span class=k>else</span><span class=p>:</span>
                <span class=n>callback</span><span class=p>()</span>

        <span class=k>except</span> <span class=ne>Exception</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>log</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span>
                <span class=s2>&quot;Failed to execute event callback </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
                    <span class=nb>str</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=bp>self</span><span class=p>))</span>
                <span class=p>),</span>
                <span class=n>exc_info</span><span class=o>=</span><span class=kc>True</span>
            <span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_validate_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order</span><span class=p>):</span>
        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>order</span><span class=p>,</span> <span class=nb>int</span><span class=p>):</span>
            <span class=k>return</span>

        <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span>
            <span class=s2>&quot;Expected type &#39;int&#39; got &#39;</span><span class=si>{}</span><span class=s2>&#39;.&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>order</span><span class=p>)))</span>
        <span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_get_callback</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_partial_func</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_partial_func</span>

        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_func_ref</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_func_ref</span><span class=p>()</span>
        <span class=k>return</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_validate_ref</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ref_is_valid</span> <span class=ow>is</span> <span class=kc>False</span><span class=p>:</span>
            <span class=k>return</span>

        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_func_ref</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_ref_is_valid</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_func_ref</span><span class=p>()</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span>

        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>_partial_func</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_ref_is_valid</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_partial_func</span><span class=o>.</span><span class=n>is_valid</span><span class=p>()</span>

        <span class=k>else</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_ref_is_valid</span> <span class=o>=</span> <span class=kc>False</span>

        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ref_is_valid</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_func_ref</span> <span class=o>=</span> <span class=kc>None</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_partial_func</span> <span class=o>=</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 id=client.ayon_core.lib.events.EventCallback.enabled class="doc doc-heading"> <code class="highlight language-python"><span class=n>enabled</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h3> <div class="doc doc-contents "> <p>Is callback enabled.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>bool</code></td> <td> </td> <td> <div class=doc-md-description> <p>Is callback enabled.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=client.ayon_core.lib.events.EventCallback.is_ref_valid class="doc doc-heading"> <code class="highlight language-python"><span class=n>is_ref_valid</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h3> <div class="doc doc-contents "> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>bool</code></td> <td> </td> <td> <div class=doc-md-description> <p>Is reference to callback valid.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.EventCallback.deregister class="doc doc-heading"> <code class="highlight language-python"><span class=n>deregister</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Calling this function will cause that callback will be removed.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>269</span>
<span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span>
<span class=normal>273</span>
<span class=normal>274</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>deregister</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Calling this function will cause that callback will be removed.&quot;&quot;&quot;</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_ref_is_valid</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_partial_func</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_func_ref</span> <span class=o>=</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.EventCallback.get_order class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_order</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Get callback order.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Union[int, None]: Callback order.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>276</span>
<span class=normal>277</span>
<span class=normal>278</span>
<span class=normal>279</span>
<span class=normal>280</span>
<span class=normal>281</span>
<span class=normal>282</span>
<span class=normal>283</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_order</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get callback order.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Union[int, None]: Callback order.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_order</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.EventCallback.process_event class="doc doc-heading"> <code class="highlight language-python"><span class=n>process_event</span><span class=p>(</span><span class=n>event</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Process event.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>event(Event)</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Event that was triggered.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>310</span>
<span class=normal>311</span>
<span class=normal>312</span>
<span class=normal>313</span>
<span class=normal>314</span>
<span class=normal>315</span>
<span class=normal>316</span>
<span class=normal>317</span>
<span class=normal>318</span>
<span class=normal>319</span>
<span class=normal>320</span>
<span class=normal>321</span>
<span class=normal>322</span>
<span class=normal>323</span>
<span class=normal>324</span>
<span class=normal>325</span>
<span class=normal>326</span>
<span class=normal>327</span>
<span class=normal>328</span>
<span class=normal>329</span>
<span class=normal>330</span>
<span class=normal>331</span>
<span class=normal>332</span>
<span class=normal>333</span>
<span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span>
<span class=normal>338</span>
<span class=normal>339</span>
<span class=normal>340</span>
<span class=normal>341</span>
<span class=normal>342</span>
<span class=normal>343</span>
<span class=normal>344</span>
<span class=normal>345</span>
<span class=normal>346</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>process_event</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Process event.</span>

<span class=sd>    Args:</span>
<span class=sd>        event(Event): Event that was triggered.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=c1># Skip if callback is not enabled</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_enabled</span><span class=p>:</span>
        <span class=k>return</span>

    <span class=c1># Get reference and skip if is not available</span>
    <span class=n>callback</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_callback</span><span class=p>()</span>
    <span class=k>if</span> <span class=n>callback</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>return</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>topic_matches</span><span class=p>(</span><span class=n>event</span><span class=o>.</span><span class=n>topic</span><span class=p>):</span>
        <span class=k>return</span>

    <span class=c1># Try to execute callback</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_expect_args</span><span class=p>:</span>
            <span class=n>callback</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>

        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>_expect_kwargs</span><span class=p>:</span>
            <span class=n>callback</span><span class=p>(</span><span class=n>event</span><span class=o>=</span><span class=n>event</span><span class=p>)</span>

        <span class=k>else</span><span class=p>:</span>
            <span class=n>callback</span><span class=p>()</span>

    <span class=k>except</span> <span class=ne>Exception</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>log</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span>
            <span class=s2>&quot;Failed to execute event callback </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
                <span class=nb>str</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=bp>self</span><span class=p>))</span>
            <span class=p>),</span>
            <span class=n>exc_info</span><span class=o>=</span><span class=kc>True</span>
        <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.EventCallback.set_enabled class="doc doc-heading"> <code class="highlight language-python"><span class=n>set_enabled</span><span class=p>(</span><span class=n>enabled</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Change if callback is enabled.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>enabled</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Change enabled state of the callback.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span>
<span class=normal>264</span>
<span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>set_enabled</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>enabled</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Change if callback is enabled.</span>

<span class=sd>    Args:</span>
<span class=sd>        enabled (bool): Change enabled state of the callback.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_enabled</span> <span class=o>=</span> <span class=n>enabled</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.EventCallback.set_order class="doc doc-heading"> <code class="highlight language-python"><span class=n>set_order</span><span class=p>(</span><span class=n>order</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Change callback order.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>order</code> </td> <td> <code><span title=Union>Union</span>[<span title=int>int</span>, None]</code> </td> <td> <div class=doc-md-description> <p>Order of callback. Lower number means higher priority.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>285</span>
<span class=normal>286</span>
<span class=normal>287</span>
<span class=normal>288</span>
<span class=normal>289</span>
<span class=normal>290</span>
<span class=normal>291</span>
<span class=normal>292</span>
<span class=normal>293</span>
<span class=normal>294</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>set_order</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>order</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Change callback order.</span>

<span class=sd>    Args:</span>
<span class=sd>        order (Union[int, None]): Order of callback. Lower number means</span>
<span class=sd>            higher priority.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_validate_order</span><span class=p>(</span><span class=n>order</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_order</span> <span class=o>=</span> <span class=n>order</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.EventCallback.topic_matches class="doc doc-heading"> <code class="highlight language-python"><span class=n>topic_matches</span><span class=p>(</span><span class=n>topic</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Check if event topic matches callback's topic.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>topic</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Topic name.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>bool</code></td> <td> </td> <td> <div class=doc-md-description> <p>Topic matches callback's topic.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>298</span>
<span class=normal>299</span>
<span class=normal>300</span>
<span class=normal>301</span>
<span class=normal>302</span>
<span class=normal>303</span>
<span class=normal>304</span>
<span class=normal>305</span>
<span class=normal>306</span>
<span class=normal>307</span>
<span class=normal>308</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>topic_matches</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>topic</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if event topic matches callback&#39;s topic.</span>

<span class=sd>    Args:</span>
<span class=sd>        topic (str): Topic name.</span>

<span class=sd>    Returns:</span>
<span class=sd>        bool: Topic matches callback&#39;s topic.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_topic_regex</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=n>topic</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.EventCallback.validate_ref class="doc doc-heading"> <code class="highlight language-python"><span class=n>validate_ref</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Validate if reference to callback is valid.</p> <details class=deprecated open> <summary>Deprecated</summary> <p>Reference is always live checkd with 'is_ref_valid'.</p> </details> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>validate_ref</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate if reference to callback is valid.</span>

<span class=sd>    Deprecated:</span>
<span class=sd>        Reference is always live checkd with &#39;is_ref_valid&#39;.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=c1># Trigger validate by getting &#39;is_valid&#39;</span>
    <span class=n>_</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>is_ref_valid</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=client.ayon_core.lib.events.EventSystem class="doc doc-heading"> <code>EventSystem</code> </h2> <div class="doc doc-contents "> <p>Encapsulate event handling into an object.</p> <p>System wraps registered callbacks and triggered events into single object, so it is possible to create multiple independent systems that have their topics and callbacks.</p> <p>Callbacks are stored by order of their registration, but it is possible to manually define order of callbacks using 'order' argument within 'add_callback'.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>489</span>
<span class=normal>490</span>
<span class=normal>491</span>
<span class=normal>492</span>
<span class=normal>493</span>
<span class=normal>494</span>
<span class=normal>495</span>
<span class=normal>496</span>
<span class=normal>497</span>
<span class=normal>498</span>
<span class=normal>499</span>
<span class=normal>500</span>
<span class=normal>501</span>
<span class=normal>502</span>
<span class=normal>503</span>
<span class=normal>504</span>
<span class=normal>505</span>
<span class=normal>506</span>
<span class=normal>507</span>
<span class=normal>508</span>
<span class=normal>509</span>
<span class=normal>510</span>
<span class=normal>511</span>
<span class=normal>512</span>
<span class=normal>513</span>
<span class=normal>514</span>
<span class=normal>515</span>
<span class=normal>516</span>
<span class=normal>517</span>
<span class=normal>518</span>
<span class=normal>519</span>
<span class=normal>520</span>
<span class=normal>521</span>
<span class=normal>522</span>
<span class=normal>523</span>
<span class=normal>524</span>
<span class=normal>525</span>
<span class=normal>526</span>
<span class=normal>527</span>
<span class=normal>528</span>
<span class=normal>529</span>
<span class=normal>530</span>
<span class=normal>531</span>
<span class=normal>532</span>
<span class=normal>533</span>
<span class=normal>534</span>
<span class=normal>535</span>
<span class=normal>536</span>
<span class=normal>537</span>
<span class=normal>538</span>
<span class=normal>539</span>
<span class=normal>540</span>
<span class=normal>541</span>
<span class=normal>542</span>
<span class=normal>543</span>
<span class=normal>544</span>
<span class=normal>545</span>
<span class=normal>546</span>
<span class=normal>547</span>
<span class=normal>548</span>
<span class=normal>549</span>
<span class=normal>550</span>
<span class=normal>551</span>
<span class=normal>552</span>
<span class=normal>553</span>
<span class=normal>554</span>
<span class=normal>555</span>
<span class=normal>556</span>
<span class=normal>557</span>
<span class=normal>558</span>
<span class=normal>559</span>
<span class=normal>560</span>
<span class=normal>561</span>
<span class=normal>562</span>
<span class=normal>563</span>
<span class=normal>564</span>
<span class=normal>565</span>
<span class=normal>566</span>
<span class=normal>567</span>
<span class=normal>568</span>
<span class=normal>569</span>
<span class=normal>570</span>
<span class=normal>571</span>
<span class=normal>572</span>
<span class=normal>573</span>
<span class=normal>574</span>
<span class=normal>575</span>
<span class=normal>576</span>
<span class=normal>577</span>
<span class=normal>578</span>
<span class=normal>579</span>
<span class=normal>580</span>
<span class=normal>581</span>
<span class=normal>582</span>
<span class=normal>583</span>
<span class=normal>584</span>
<span class=normal>585</span>
<span class=normal>586</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>EventSystem</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Encapsulate event handling into an object.</span>

<span class=sd>    System wraps registered callbacks and triggered events into single object,</span>
<span class=sd>    so it is possible to create multiple independent systems that have their</span>
<span class=sd>    topics and callbacks.</span>

<span class=sd>    Callbacks are stored by order of their registration, but it is possible to</span>
<span class=sd>    manually define order of callbacks using &#39;order&#39; argument within</span>
<span class=sd>    &#39;add_callback&#39;.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>default_order</span> <span class=o>=</span> <span class=mi>100</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_registered_callbacks</span> <span class=o>=</span> <span class=p>[]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>add_callback</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>topic</span><span class=p>,</span> <span class=n>callback</span><span class=p>,</span> <span class=n>order</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Register callback in event system.</span>

<span class=sd>        Args:</span>
<span class=sd>            topic (str): Topic for EventCallback.</span>
<span class=sd>            callback (Union[Callable, weakref_partial]): Function or method</span>
<span class=sd>                that will be called when topic is triggered.</span>
<span class=sd>            order (Optional[int]): Order of callback. Lower number means</span>
<span class=sd>                higher priority.</span>

<span class=sd>        Returns:</span>
<span class=sd>            EventCallback: Created callback object which can be used to</span>
<span class=sd>                stop listening.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=k>if</span> <span class=n>order</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=n>order</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>default_order</span>

        <span class=n>callback</span> <span class=o>=</span> <span class=n>EventCallback</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>callback</span><span class=p>,</span> <span class=n>order</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_registered_callbacks</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>callback</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>callback</span>

    <span class=k>def</span><span class=w> </span><span class=nf>create_event</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>topic</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>source</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Create new event which is bound to event system.</span>

<span class=sd>        Args:</span>
<span class=sd>            topic (str): Event topic.</span>
<span class=sd>            data (dict): Data related to event.</span>
<span class=sd>            source (str): Source of event.</span>

<span class=sd>        Returns:</span>
<span class=sd>            Event: Object of event.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=k>return</span> <span class=n>Event</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>source</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>emit</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>topic</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>source</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Create event based on passed data and emit it.</span>

<span class=sd>        This is easiest way how to trigger event in an event system.</span>

<span class=sd>        Args:</span>
<span class=sd>            topic (str): Event topic.</span>
<span class=sd>            data (dict): Data related to event.</span>
<span class=sd>            source (str): Source of event.</span>

<span class=sd>        Returns:</span>
<span class=sd>            Event: Created and emitted event.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=n>event</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_event</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>source</span><span class=p>)</span>
        <span class=n>event</span><span class=o>.</span><span class=n>emit</span><span class=p>()</span>
        <span class=k>return</span> <span class=n>event</span>

    <span class=k>def</span><span class=w> </span><span class=nf>emit_event</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Emit event object.</span>

<span class=sd>        Args:</span>
<span class=sd>            event (Event): Prepared event with topic and data.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_process_event</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>clear_callbacks</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Clear all registered callbacks.&quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_registered_callbacks</span> <span class=o>=</span> <span class=p>[]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_process_event</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Process event topic and trigger callbacks.</span>

<span class=sd>        Args:</span>
<span class=sd>            event (Event): Prepared event with topic and data.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=n>callbacks</span> <span class=o>=</span> <span class=nb>tuple</span><span class=p>(</span><span class=nb>sorted</span><span class=p>(</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_registered_callbacks</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>.</span><span class=n>order</span>
        <span class=p>))</span>
        <span class=k>for</span> <span class=n>callback</span> <span class=ow>in</span> <span class=n>callbacks</span><span class=p>:</span>
            <span class=n>callback</span><span class=o>.</span><span class=n>process_event</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
            <span class=k>if</span> <span class=ow>not</span> <span class=n>callback</span><span class=o>.</span><span class=n>is_ref_valid</span><span class=p>:</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>_registered_callbacks</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>callback</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.EventSystem._process_event class="doc doc-heading"> <code class="highlight language-python"><span class=n>_process_event</span><span class=p>(</span><span class=n>event</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Process event topic and trigger callbacks.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>event</code> </td> <td> <code><a class="autorefs autorefs-internal" title="Event (client.ayon_core.lib.events.Event)" href=#client.ayon_core.lib.events.Event>Event</a></code> </td> <td> <div class=doc-md-description> <p>Prepared event with topic and data.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>573</span>
<span class=normal>574</span>
<span class=normal>575</span>
<span class=normal>576</span>
<span class=normal>577</span>
<span class=normal>578</span>
<span class=normal>579</span>
<span class=normal>580</span>
<span class=normal>581</span>
<span class=normal>582</span>
<span class=normal>583</span>
<span class=normal>584</span>
<span class=normal>585</span>
<span class=normal>586</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>_process_event</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Process event topic and trigger callbacks.</span>

<span class=sd>    Args:</span>
<span class=sd>        event (Event): Prepared event with topic and data.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>callbacks</span> <span class=o>=</span> <span class=nb>tuple</span><span class=p>(</span><span class=nb>sorted</span><span class=p>(</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_registered_callbacks</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>.</span><span class=n>order</span>
    <span class=p>))</span>
    <span class=k>for</span> <span class=n>callback</span> <span class=ow>in</span> <span class=n>callbacks</span><span class=p>:</span>
        <span class=n>callback</span><span class=o>.</span><span class=n>process_event</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>callback</span><span class=o>.</span><span class=n>is_ref_valid</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_registered_callbacks</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>callback</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.EventSystem.add_callback class="doc doc-heading"> <code class="highlight language-python"><span class=n>add_callback</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>callback</span><span class=p>,</span> <span class=n>order</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Register callback in event system.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>topic</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Topic for EventCallback.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>callback</code> </td> <td> <code><span title=Union>Union</span>[<span title=Callable>Callable</span>, <a class="autorefs autorefs-internal" title="weakref_partial (client.ayon_core.lib.events.weakref_partial)" href=#client.ayon_core.lib.events.weakref_partial>weakref_partial</a>]</code> </td> <td> <div class=doc-md-description> <p>Function or method that will be called when topic is triggered.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>order</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=int>int</span>]</code> </td> <td> <div class=doc-md-description> <p>Order of callback. Lower number means higher priority.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>EventCallback</code></td> <td> </td> <td> <div class=doc-md-description> <p>Created callback object which can be used to stop listening.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>506</span>
<span class=normal>507</span>
<span class=normal>508</span>
<span class=normal>509</span>
<span class=normal>510</span>
<span class=normal>511</span>
<span class=normal>512</span>
<span class=normal>513</span>
<span class=normal>514</span>
<span class=normal>515</span>
<span class=normal>516</span>
<span class=normal>517</span>
<span class=normal>518</span>
<span class=normal>519</span>
<span class=normal>520</span>
<span class=normal>521</span>
<span class=normal>522</span>
<span class=normal>523</span>
<span class=normal>524</span>
<span class=normal>525</span>
<span class=normal>526</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>add_callback</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>topic</span><span class=p>,</span> <span class=n>callback</span><span class=p>,</span> <span class=n>order</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Register callback in event system.</span>

<span class=sd>    Args:</span>
<span class=sd>        topic (str): Topic for EventCallback.</span>
<span class=sd>        callback (Union[Callable, weakref_partial]): Function or method</span>
<span class=sd>            that will be called when topic is triggered.</span>
<span class=sd>        order (Optional[int]): Order of callback. Lower number means</span>
<span class=sd>            higher priority.</span>

<span class=sd>    Returns:</span>
<span class=sd>        EventCallback: Created callback object which can be used to</span>
<span class=sd>            stop listening.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=n>order</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=n>order</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>default_order</span>

    <span class=n>callback</span> <span class=o>=</span> <span class=n>EventCallback</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>callback</span><span class=p>,</span> <span class=n>order</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_registered_callbacks</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>callback</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>callback</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.EventSystem.clear_callbacks class="doc doc-heading"> <code class="highlight language-python"><span class=n>clear_callbacks</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Clear all registered callbacks.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>569</span>
<span class=normal>570</span>
<span class=normal>571</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>clear_callbacks</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Clear all registered callbacks.&quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_registered_callbacks</span> <span class=o>=</span> <span class=p>[]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.EventSystem.create_event class="doc doc-heading"> <code class="highlight language-python"><span class=n>create_event</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>source</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Create new event which is bound to event system.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>topic</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Event topic.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>data</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Data related to event.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>source</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Source of event.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>Event</code></td> <td> </td> <td> <div class=doc-md-description> <p>Object of event.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>528</span>
<span class=normal>529</span>
<span class=normal>530</span>
<span class=normal>531</span>
<span class=normal>532</span>
<span class=normal>533</span>
<span class=normal>534</span>
<span class=normal>535</span>
<span class=normal>536</span>
<span class=normal>537</span>
<span class=normal>538</span>
<span class=normal>539</span>
<span class=normal>540</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>create_event</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>topic</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>source</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Create new event which is bound to event system.</span>

<span class=sd>    Args:</span>
<span class=sd>        topic (str): Event topic.</span>
<span class=sd>        data (dict): Data related to event.</span>
<span class=sd>        source (str): Source of event.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Event: Object of event.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>return</span> <span class=n>Event</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>source</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.EventSystem.emit class="doc doc-heading"> <code class="highlight language-python"><span class=n>emit</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>source</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Create event based on passed data and emit it.</p> <p>This is easiest way how to trigger event in an event system.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>topic</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Event topic.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>data</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Data related to event.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>source</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Source of event.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>Event</code></td> <td> </td> <td> <div class=doc-md-description> <p>Created and emitted event.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>542</span>
<span class=normal>543</span>
<span class=normal>544</span>
<span class=normal>545</span>
<span class=normal>546</span>
<span class=normal>547</span>
<span class=normal>548</span>
<span class=normal>549</span>
<span class=normal>550</span>
<span class=normal>551</span>
<span class=normal>552</span>
<span class=normal>553</span>
<span class=normal>554</span>
<span class=normal>555</span>
<span class=normal>556</span>
<span class=normal>557</span>
<span class=normal>558</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>emit</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>topic</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>source</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Create event based on passed data and emit it.</span>

<span class=sd>    This is easiest way how to trigger event in an event system.</span>

<span class=sd>    Args:</span>
<span class=sd>        topic (str): Event topic.</span>
<span class=sd>        data (dict): Data related to event.</span>
<span class=sd>        source (str): Source of event.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Event: Created and emitted event.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>event</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_event</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>source</span><span class=p>)</span>
    <span class=n>event</span><span class=o>.</span><span class=n>emit</span><span class=p>()</span>
    <span class=k>return</span> <span class=n>event</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.EventSystem.emit_event class="doc doc-heading"> <code class="highlight language-python"><span class=n>emit_event</span><span class=p>(</span><span class=n>event</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Emit event object.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>event</code> </td> <td> <code><a class="autorefs autorefs-internal" title="Event (client.ayon_core.lib.events.Event)" href=#client.ayon_core.lib.events.Event>Event</a></code> </td> <td> <div class=doc-md-description> <p>Prepared event with topic and data.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>560</span>
<span class=normal>561</span>
<span class=normal>562</span>
<span class=normal>563</span>
<span class=normal>564</span>
<span class=normal>565</span>
<span class=normal>566</span>
<span class=normal>567</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>emit_event</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Emit event object.</span>

<span class=sd>    Args:</span>
<span class=sd>        event (Event): Prepared event with topic and data.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_process_event</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=client.ayon_core.lib.events.GlobalEventSystem class="doc doc-heading"> <code>GlobalEventSystem</code> </h2> <div class="doc doc-contents "> <p>Event system living in global scope of process.</p> <p>This is primarily used in host implementation to trigger events related to DCC changes or changes of context in the host implementation.</p> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>665</span>
<span class=normal>666</span>
<span class=normal>667</span>
<span class=normal>668</span>
<span class=normal>669</span>
<span class=normal>670</span>
<span class=normal>671</span>
<span class=normal>672</span>
<span class=normal>673</span>
<span class=normal>674</span>
<span class=normal>675</span>
<span class=normal>676</span>
<span class=normal>677</span>
<span class=normal>678</span>
<span class=normal>679</span>
<span class=normal>680</span>
<span class=normal>681</span>
<span class=normal>682</span>
<span class=normal>683</span>
<span class=normal>684</span>
<span class=normal>685</span>
<span class=normal>686</span>
<span class=normal>687</span>
<span class=normal>688</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>GlobalEventSystem</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Event system living in global scope of process.</span>

<span class=sd>    This is primarily used in host implementation to trigger events</span>
<span class=sd>    related to DCC changes or changes of context in the host implementation.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>_global_event_system</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>get_global_event_system</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
        <span class=k>if</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_global_event_system</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=bp>cls</span><span class=o>.</span><span class=n>_global_event_system</span> <span class=o>=</span> <span class=n>EventSystem</span><span class=p>()</span>
        <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>_global_event_system</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>add_callback</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>topic</span><span class=p>,</span> <span class=n>callback</span><span class=p>):</span>
        <span class=n>event_system</span> <span class=o>=</span> <span class=bp>cls</span><span class=o>.</span><span class=n>get_global_event_system</span><span class=p>()</span>
        <span class=k>return</span> <span class=n>event_system</span><span class=o>.</span><span class=n>add_callback</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>callback</span><span class=p>)</span>

    <span class=nd>@classmethod</span>
    <span class=k>def</span><span class=w> </span><span class=nf>emit</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>topic</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>source</span><span class=p>):</span>
        <span class=n>event_system</span> <span class=o>=</span> <span class=bp>cls</span><span class=o>.</span><span class=n>get_global_event_system</span><span class=p>()</span>
        <span class=k>return</span> <span class=n>event_system</span><span class=o>.</span><span class=n>emit</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>source</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=client.ayon_core.lib.events.QueuedEventSystem class="doc doc-heading"> <code>QueuedEventSystem</code> </h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><a class="autorefs autorefs-internal" title="EventSystem (client.ayon_core.lib.events.EventSystem)" href=#client.ayon_core.lib.events.EventSystem>EventSystem</a></code></p> <p>Events are automatically processed in queue.</p> <p>If callback triggers another event, the event is not processed until all callbacks of previous event are processed.</p> <p>Allows to implement custom event process loop by changing 'auto_execute'.</p> <details class=note open> <summary>Note</summary> <p>This probably should be default behavior of 'EventSystem'. Changing it now could cause problems in existing code.</p> </details> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>auto_execute</code> </td> <td> <code><span title=Optional>Optional</span>[<span title=bool>bool</span>]</code> </td> <td> <div class=doc-md-description> <p>If 'True', events are processed automatically. Custom loop calling 'process_next_event' must be implemented when set to 'False'.</p> </div> </td> <td> <code>True</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>589</span>
<span class=normal>590</span>
<span class=normal>591</span>
<span class=normal>592</span>
<span class=normal>593</span>
<span class=normal>594</span>
<span class=normal>595</span>
<span class=normal>596</span>
<span class=normal>597</span>
<span class=normal>598</span>
<span class=normal>599</span>
<span class=normal>600</span>
<span class=normal>601</span>
<span class=normal>602</span>
<span class=normal>603</span>
<span class=normal>604</span>
<span class=normal>605</span>
<span class=normal>606</span>
<span class=normal>607</span>
<span class=normal>608</span>
<span class=normal>609</span>
<span class=normal>610</span>
<span class=normal>611</span>
<span class=normal>612</span>
<span class=normal>613</span>
<span class=normal>614</span>
<span class=normal>615</span>
<span class=normal>616</span>
<span class=normal>617</span>
<span class=normal>618</span>
<span class=normal>619</span>
<span class=normal>620</span>
<span class=normal>621</span>
<span class=normal>622</span>
<span class=normal>623</span>
<span class=normal>624</span>
<span class=normal>625</span>
<span class=normal>626</span>
<span class=normal>627</span>
<span class=normal>628</span>
<span class=normal>629</span>
<span class=normal>630</span>
<span class=normal>631</span>
<span class=normal>632</span>
<span class=normal>633</span>
<span class=normal>634</span>
<span class=normal>635</span>
<span class=normal>636</span>
<span class=normal>637</span>
<span class=normal>638</span>
<span class=normal>639</span>
<span class=normal>640</span>
<span class=normal>641</span>
<span class=normal>642</span>
<span class=normal>643</span>
<span class=normal>644</span>
<span class=normal>645</span>
<span class=normal>646</span>
<span class=normal>647</span>
<span class=normal>648</span>
<span class=normal>649</span>
<span class=normal>650</span>
<span class=normal>651</span>
<span class=normal>652</span>
<span class=normal>653</span>
<span class=normal>654</span>
<span class=normal>655</span>
<span class=normal>656</span>
<span class=normal>657</span>
<span class=normal>658</span>
<span class=normal>659</span>
<span class=normal>660</span>
<span class=normal>661</span>
<span class=normal>662</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>QueuedEventSystem</span><span class=p>(</span><span class=n>EventSystem</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Events are automatically processed in queue.</span>

<span class=sd>    If callback triggers another event, the event is not processed until</span>
<span class=sd>    all callbacks of previous event are processed.</span>

<span class=sd>    Allows to implement custom event process loop by changing &#39;auto_execute&#39;.</span>

<span class=sd>    Note:</span>
<span class=sd>        This probably should be default behavior of &#39;EventSystem&#39;. Changing it</span>
<span class=sd>            now could cause problems in existing code.</span>

<span class=sd>    Args:</span>
<span class=sd>        auto_execute (Optional[bool]): If &#39;True&#39;, events are processed</span>
<span class=sd>            automatically. Custom loop calling &#39;process_next_event&#39;</span>
<span class=sd>            must be implemented when set to &#39;False&#39;.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>auto_execute</span><span class=o>=</span><span class=kc>True</span><span class=p>):</span>
        <span class=nb>super</span><span class=p>(</span><span class=n>QueuedEventSystem</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_event_queue</span> <span class=o>=</span> <span class=n>collections</span><span class=o>.</span><span class=n>deque</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_current_event</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_auto_execute</span> <span class=o>=</span> <span class=n>auto_execute</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__len__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>count</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>count</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get number of events in queue.</span>

<span class=sd>        Returns:</span>
<span class=sd>            int: Number of events in queue.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_event_queue</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>process_next_event</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Process next event in queue.</span>

<span class=sd>        Should be used only if &#39;auto_execute&#39; is set to &#39;False&#39;. Only single</span>
<span class=sd>            event is processed.</span>

<span class=sd>        Returns:</span>
<span class=sd>            Union[Event, None]: Processed event.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_current_event</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;An event is already in progress.&quot;</span><span class=p>)</span>

        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_event_queue</span><span class=p>:</span>
            <span class=k>return</span> <span class=kc>None</span>
        <span class=n>event</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_event_queue</span><span class=o>.</span><span class=n>popleft</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_current_event</span> <span class=o>=</span> <span class=n>event</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_process_event</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_current_event</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=k>return</span> <span class=n>event</span>

    <span class=k>def</span><span class=w> </span><span class=nf>emit_event</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Emit event object.</span>

<span class=sd>        Args:</span>
<span class=sd>           event (Event): Prepared event with topic and data.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_auto_execute</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>_current_event</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_event_queue</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
            <span class=k>return</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>_event_queue</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
        <span class=k>while</span> <span class=bp>self</span><span class=o>.</span><span class=n>_event_queue</span><span class=p>:</span>
            <span class=n>event</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_event_queue</span><span class=o>.</span><span class=n>popleft</span><span class=p>()</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_current_event</span> <span class=o>=</span> <span class=n>event</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_process_event</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_current_event</span> <span class=o>=</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.QueuedEventSystem.count class="doc doc-heading"> <code class="highlight language-python"><span class=n>count</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Get number of events in queue.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>int</code></td> <td> </td> <td> <div class=doc-md-description> <p>Number of events in queue.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>616</span>
<span class=normal>617</span>
<span class=normal>618</span>
<span class=normal>619</span>
<span class=normal>620</span>
<span class=normal>621</span>
<span class=normal>622</span>
<span class=normal>623</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>count</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get number of events in queue.</span>

<span class=sd>    Returns:</span>
<span class=sd>        int: Number of events in queue.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_event_queue</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.QueuedEventSystem.emit_event class="doc doc-heading"> <code class="highlight language-python"><span class=n>emit_event</span><span class=p>(</span><span class=n>event</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Emit event object.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>event</code> </td> <td> <code><a class="autorefs autorefs-internal" title="Event (client.ayon_core.lib.events.Event)" href=#client.ayon_core.lib.events.Event>Event</a></code> </td> <td> <div class=doc-md-description> <p>Prepared event with topic and data.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>646</span>
<span class=normal>647</span>
<span class=normal>648</span>
<span class=normal>649</span>
<span class=normal>650</span>
<span class=normal>651</span>
<span class=normal>652</span>
<span class=normal>653</span>
<span class=normal>654</span>
<span class=normal>655</span>
<span class=normal>656</span>
<span class=normal>657</span>
<span class=normal>658</span>
<span class=normal>659</span>
<span class=normal>660</span>
<span class=normal>661</span>
<span class=normal>662</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>emit_event</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>event</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Emit event object.</span>

<span class=sd>    Args:</span>
<span class=sd>       event (Event): Prepared event with topic and data.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_auto_execute</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>_current_event</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_event_queue</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
        <span class=k>return</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_event_queue</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
    <span class=k>while</span> <span class=bp>self</span><span class=o>.</span><span class=n>_event_queue</span><span class=p>:</span>
        <span class=n>event</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_event_queue</span><span class=o>.</span><span class=n>popleft</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_current_event</span> <span class=o>=</span> <span class=n>event</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_process_event</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_current_event</span> <span class=o>=</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.QueuedEventSystem.process_next_event class="doc doc-heading"> <code class="highlight language-python"><span class=n>process_next_event</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Process next event in queue.</p> <p>Should be used only if 'auto_execute' is set to 'False'. Only single event is processed.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Union[Event, None]: Processed event.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>625</span>
<span class=normal>626</span>
<span class=normal>627</span>
<span class=normal>628</span>
<span class=normal>629</span>
<span class=normal>630</span>
<span class=normal>631</span>
<span class=normal>632</span>
<span class=normal>633</span>
<span class=normal>634</span>
<span class=normal>635</span>
<span class=normal>636</span>
<span class=normal>637</span>
<span class=normal>638</span>
<span class=normal>639</span>
<span class=normal>640</span>
<span class=normal>641</span>
<span class=normal>642</span>
<span class=normal>643</span>
<span class=normal>644</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>process_next_event</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Process next event in queue.</span>

<span class=sd>    Should be used only if &#39;auto_execute&#39; is set to &#39;False&#39;. Only single</span>
<span class=sd>        event is processed.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Union[Event, None]: Processed event.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_current_event</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;An event is already in progress.&quot;</span><span class=p>)</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_event_queue</span><span class=p>:</span>
        <span class=k>return</span> <span class=kc>None</span>
    <span class=n>event</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_event_queue</span><span class=o>.</span><span class=n>popleft</span><span class=p>()</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_current_event</span> <span class=o>=</span> <span class=n>event</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_process_event</span><span class=p>(</span><span class=n>event</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_current_event</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>return</span> <span class=n>event</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=client.ayon_core.lib.events.weakref_partial class="doc doc-heading"> <code>weakref_partial</code> </h2> <div class="doc doc-contents "> <p>Partial function with weak reference to the wrapped function.</p> <p>Can be used as 'functools.partial' but it will store weak reference to function. That means that the function must be reference counted to avoid garbage collecting the function itself.</p> <pre><code>When the referenced functions is garbage collected then calling the
weakref partial (no matter the args/kwargs passed) will do nothing.
It will fail silently, returning `None`. The `is_valid()` method can
be used to detect whether the reference is still valid.
</code></pre> <p>Is useful for object methods. In that case the callback is deregistered when object is destroyed.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>func</code> </td> <td> <code><span title=Callable>Callable</span></code> </td> <td> <div class=doc-md-description> <p>Function to wrap.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>*args</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Arguments passed to the wrapped function.</p> </div> </td> <td> <code>()</code> </td> </tr> <tr class=doc-section-item> <td> <code>**kwargs</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Keyword arguments passed to the wrapped function.</p> </div> </td> <td> <code>{}</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 45</span>
<span class=normal> 46</span>
<span class=normal> 47</span>
<span class=normal> 48</span>
<span class=normal> 49</span>
<span class=normal> 50</span>
<span class=normal> 51</span>
<span class=normal> 52</span>
<span class=normal> 53</span>
<span class=normal> 54</span>
<span class=normal> 55</span>
<span class=normal> 56</span>
<span class=normal> 57</span>
<span class=normal> 58</span>
<span class=normal> 59</span>
<span class=normal> 60</span>
<span class=normal> 61</span>
<span class=normal> 62</span>
<span class=normal> 63</span>
<span class=normal> 64</span>
<span class=normal> 65</span>
<span class=normal> 66</span>
<span class=normal> 67</span>
<span class=normal> 68</span>
<span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>weakref_partial</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Partial function with weak reference to the wrapped function.</span>

<span class=sd>    Can be used as &#39;functools.partial&#39; but it will store weak reference to</span>
<span class=sd>        function. That means that the function must be reference counted</span>
<span class=sd>        to avoid garbage collecting the function itself.</span>

<span class=sd>        When the referenced functions is garbage collected then calling the</span>
<span class=sd>        weakref partial (no matter the args/kwargs passed) will do nothing.</span>
<span class=sd>        It will fail silently, returning `None`. The `is_valid()` method can</span>
<span class=sd>        be used to detect whether the reference is still valid.</span>

<span class=sd>    Is useful for object methods. In that case the callback is</span>
<span class=sd>        deregistered when object is destroyed.</span>

<span class=sd>    Warnings:</span>
<span class=sd>        Values passed as *args and **kwargs are stored strongly in memory.</span>
<span class=sd>            That may &quot;keep alive&quot; objects that should be already destroyed.</span>
<span class=sd>            It is recommended to pass only immutable objects like &#39;str&#39;,</span>
<span class=sd>            &#39;bool&#39;, &#39;int&#39; etc.</span>

<span class=sd>    Args:</span>
<span class=sd>        func (Callable): Function to wrap.</span>
<span class=sd>        *args: Arguments passed to the wrapped function.</span>
<span class=sd>        **kwargs: Keyword arguments passed to the wrapped function.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>func</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_func_ref</span> <span class=o>=</span> <span class=n>_get_func_ref</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_args</span> <span class=o>=</span> <span class=n>args</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_kwargs</span> <span class=o>=</span> <span class=n>kwargs</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=n>func</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_func_ref</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>func</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span>

        <span class=n>new_args</span> <span class=o>=</span> <span class=nb>tuple</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_args</span><span class=p>)</span> <span class=o>+</span> <span class=nb>list</span><span class=p>(</span><span class=n>args</span><span class=p>))</span>
        <span class=n>new_kwargs</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_kwargs</span><span class=p>)</span>
        <span class=n>new_kwargs</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>new_args</span><span class=p>,</span> <span class=o>**</span><span class=n>new_kwargs</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_func</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Get wrapped function.</span>

<span class=sd>        Returns:</span>
<span class=sd>            Union[Callable, None]: Wrapped function or None if it was</span>
<span class=sd>                destroyed.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_func_ref</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>is_valid</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Check if wrapped function is still valid.</span>

<span class=sd>        Returns:</span>
<span class=sd>            bool: Is wrapped function still valid.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_func_ref</span><span class=p>()</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span>

    <span class=k>def</span><span class=w> </span><span class=nf>validate_signature</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Validate if passed arguments are supported by wrapped function.</span>

<span class=sd>        Returns:</span>
<span class=sd>            bool: Are passed arguments supported by wrapped function.</span>
<span class=sd>        &quot;&quot;&quot;</span>

        <span class=n>func</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_func_ref</span><span class=p>()</span>
        <span class=k>if</span> <span class=n>func</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=k>return</span> <span class=kc>False</span>

        <span class=n>new_args</span> <span class=o>=</span> <span class=nb>tuple</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_args</span><span class=p>)</span> <span class=o>+</span> <span class=nb>list</span><span class=p>(</span><span class=n>args</span><span class=p>))</span>
        <span class=n>new_kwargs</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_kwargs</span><span class=p>)</span>
        <span class=n>new_kwargs</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>is_func_signature_supported</span><span class=p>(</span>
            <span class=n>func</span><span class=p>,</span> <span class=o>*</span><span class=n>new_args</span><span class=p>,</span> <span class=o>**</span><span class=n>new_kwargs</span>
        <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.weakref_partial.get_func class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_func</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Get wrapped function.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Union[Callable, None]: Wrapped function or None if it was destroyed.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>87</span>
<span class=normal>88</span>
<span class=normal>89</span>
<span class=normal>90</span>
<span class=normal>91</span>
<span class=normal>92</span>
<span class=normal>93</span>
<span class=normal>94</span>
<span class=normal>95</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_func</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get wrapped function.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Union[Callable, None]: Wrapped function or None if it was</span>
<span class=sd>            destroyed.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_func_ref</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.weakref_partial.is_valid class="doc doc-heading"> <code class="highlight language-python"><span class=n>is_valid</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Check if wrapped function is still valid.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>bool</code></td> <td> </td> <td> <div class=doc-md-description> <p>Is wrapped function still valid.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>is_valid</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if wrapped function is still valid.</span>

<span class=sd>    Returns:</span>
<span class=sd>        bool: Is wrapped function still valid.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_func_ref</span><span class=p>()</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_core.lib.events.weakref_partial.validate_signature class="doc doc-heading"> <code class="highlight language-python"><span class=n>validate_signature</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Validate if passed arguments are supported by wrapped function.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>bool</code></td> <td> </td> <td> <div class=doc-md-description> <p>Are passed arguments supported by wrapped function.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>validate_signature</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Validate if passed arguments are supported by wrapped function.</span>

<span class=sd>    Returns:</span>
<span class=sd>        bool: Are passed arguments supported by wrapped function.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>func</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_func_ref</span><span class=p>()</span>
    <span class=k>if</span> <span class=n>func</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
        <span class=k>return</span> <span class=kc>False</span>

    <span class=n>new_args</span> <span class=o>=</span> <span class=nb>tuple</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_args</span><span class=p>)</span> <span class=o>+</span> <span class=nb>list</span><span class=p>(</span><span class=n>args</span><span class=p>))</span>
    <span class=n>new_kwargs</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_kwargs</span><span class=p>)</span>
    <span class=n>new_kwargs</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>kwargs</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>is_func_signature_supported</span><span class=p>(</span>
        <span class=n>func</span><span class=p>,</span> <span class=o>*</span><span class=n>new_args</span><span class=p>,</span> <span class=o>**</span><span class=n>new_kwargs</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.lib.events.emit_event class="doc doc-heading"> <code class="highlight language-python"><span class=n>emit_event</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>source</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Emit event with topic and data.</p> <details class=arg open> <summary>Arg</summary> <p>topic(str): Event's topic. data(dict): Event's additional data. Optional. source(str): Who emitted the topic. Optional.</p> </details> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>Event</code></td> <td> </td> <td> <div class=doc-md-description> <p>Object of event that was emitted.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>709</span>
<span class=normal>710</span>
<span class=normal>711</span>
<span class=normal>712</span>
<span class=normal>713</span>
<span class=normal>714</span>
<span class=normal>715</span>
<span class=normal>716</span>
<span class=normal>717</span>
<span class=normal>718</span>
<span class=normal>719</span>
<span class=normal>720</span>
<span class=normal>721</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>emit_event</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>source</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Emit event with topic and data.</span>

<span class=sd>    Arg:</span>
<span class=sd>        topic(str): Event&#39;s topic.</span>
<span class=sd>        data(dict): Event&#39;s additional data. Optional.</span>
<span class=sd>        source(str): Who emitted the topic. Optional.</span>

<span class=sd>    Returns:</span>
<span class=sd>        Event: Object of event that was emitted.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>return</span> <span class=n>GlobalEventSystem</span><span class=o>.</span><span class=n>emit</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>source</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_core.lib.events.register_event_callback class="doc doc-heading"> <code class="highlight language-python"><span class=n>register_event_callback</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>callback</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Add callback that will be executed on specific topic.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>topic(str)</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Topic on which will callback be triggered.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>callback(function)</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Callback that will be triggered when a topic is triggered. Callback should expect none or 1 argument where <code>Event</code> object is passed.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>EventCallback</code></td> <td> </td> <td> <div class=doc-md-description> <p>Object wrapping the callback. It can be used to enable/disable listening to a topic or remove the callback from the topic completely.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_core/lib/events.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>691</span>
<span class=normal>692</span>
<span class=normal>693</span>
<span class=normal>694</span>
<span class=normal>695</span>
<span class=normal>696</span>
<span class=normal>697</span>
<span class=normal>698</span>
<span class=normal>699</span>
<span class=normal>700</span>
<span class=normal>701</span>
<span class=normal>702</span>
<span class=normal>703</span>
<span class=normal>704</span>
<span class=normal>705</span>
<span class=normal>706</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>register_event_callback</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>callback</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Add callback that will be executed on specific topic.</span>

<span class=sd>    Args:</span>
<span class=sd>        topic(str): Topic on which will callback be triggered.</span>
<span class=sd>        callback(function): Callback that will be triggered when a topic</span>
<span class=sd>            is triggered. Callback should expect none or 1 argument where</span>
<span class=sd>            `Event` object is passed.</span>

<span class=sd>    Returns:</span>
<span class=sd>        EventCallback: Object wrapping the callback. It can be used to</span>
<span class=sd>            enable/disable listening to a topic or remove the callback from</span>
<span class=sd>            the topic completely.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>return</span> <span class=n>GlobalEventSystem</span><span class=o>.</span><span class=n>add_callback</span><span class=p>(</span><span class=n>topic</span><span class=p>,</span> <span class=n>callback</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../..", "features": ["navigation.sections", "navigation.path", "navigation.prune"], "search": "../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../assets/javascripts/bundle.c8b220af.min.js></script> </body> </html>